<HTML>
<HEAD>
<TITLE>Int 21/AH=E3h/SF=DBh
</TITLE>
<META NAME="Description" CONTENT="
Int 21/AH=E3h/SF=DBh - Novell NetWare - FILE SERVER - GET CONNECTION'S OPEN FILES (OLD) - 
AH = E3h subfn DBh
DS:SI - request buffer (see #02045)
ES:DI - reply buffer (see #02046)
Return: AL = status (00h,C6h) (see #02053)
Notes: this function is supported by Advanced NetWare 2.1+
the calling workstation must have console operator privileges
SeeAlso: AH=E2h/SF=1Ah,AH=E3h/SF=C8h,AH=E3h/SF=DAh,AH=E3h/SF=DCh,AH=E3h/SF=DFh
SeeAlso: AH=E3h/SF=E1h,AX=F217h/SF=DBh
Format of NetWare Get Connection's Open Files (old) request buffer:
">
<META NAME="robots" CONTENT="none">
</HEAD>
<BODY BGCOLOR="#FFD0A0">
<center>
<h2>Int 21/AH=E3h/SF=DBh
</h2>
</center><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-3566.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-3568.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>
<p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<h3><font color=#C00040>Novell NetWare - FILE SERVER - GET CONNECTION'S OPEN FILES (OLD)</font></h3>
<PRE>
AH = E3h subfn DBh
DS:SI -> request buffer <a href="rb-3567.htm#Table2045">(see #02045)</a>
ES:DI -> reply buffer <a href="rb-3567.htm#Table2046">(see #02046)</a><br>
<p><b>Return:</b><br>AL = status (00h,C6h) (see #02053)
</PRE>
<p><b>Notes:</b>
This function is supported by Advanced NetWare 2.1+.
The calling workstation must have console operator privileges
<p><b>See Also:</b>
<a href="rb-3480.htm">AH=E2h/SF=1Ah</a> - <a href="rb-3548.htm">AH=E3h/SF=C8h</a> - <a href="rb-3566.htm">AH=E3h/SF=DAh</a> - <a href="rb-3568.htm"
<p><b>See Also:</b>
<a href="rb-3573.htm">AH=E3h/SF=E1h</a> - <a href="rb-3823.htm">AX=F217h/SF=DBh</a>
<PRE>
<p>
Format of NetWare "Get Connection's Open Files (old)" request buffer:
<a name=table2045></a>
Offset  Size    Description     (Table 02045)
00h    WORD    0005h (length of following data)
02h    BYTE    DBh (subfunction "Get Connection's Open Files")
03h    WORD    (big-endian) logical connection number
05h    WORD    (big-endian) last record seen (0000h on first call)
</PRE>
<p><b>See Also:</b>
#02046 - #02234 at AX=F217h/SF=DBh
<PRE>
<p>
Format of NetWare "Get Connection's Open Files (old)" reply buffer:
<a name=table2046></a>
Offset  Size    Description     (Table 02046)
00h    WORD    (call) size of following results record (max 1FEh)
02h    WORD    next request record (place in "last record" field on next call)
0000h if no more records
04h    BYTE    number of records following
05h    var     array of File Information Records <a href="rb-3567.htm#Table2047">(see #02047)</a>
</PRE>
<p><b>See Also:</b>
#02045 - #02234 at AX=F217h/SF=DBh
<PRE>
<p>
Format of NetWare File Information Record:
<a name=table2047></a>
Offset  Size    Description     (Table 02047)
00h    BYTE    task number
01h    BYTE    lock flags <a href="rb-3567.htm#Table2048">(see #02048)</a>
02h    BYTE    access flags <a href="rb-3567.htm#Table2049">(see #02049)</a>
03h    BYTE    lock type
00h no lock
FEh file lock
FFh locked by Begin Share File Set
04h    BYTE    volume number (00h-1Fh)
05h    WORD    (big-endian) directory entry number
07h 14 BYTEs   ASCIZ filename
</PRE>
<p><b>See Also:</b>
#02046
<PRE>
<p>
Bitfields for lock flags:
<a name=table2048></a>
Bit(s)  Description     (Table 02048)
0      file is locked
1      file opened Shareable
2      logged
3      file opened Normal
6      TTS holding lock
7      Transaction Flag set on file
</PRE>
<p><b>See Also:</b>
#02047 - #02049
<PRE>
<p>
Bitfields for access flags:
<a name=table2049></a>
Bit(s)  Description     (Table 02049)
0      file open for reading by calling station
1      file open for writing by calling station
2      deny reads by other stations
3      deny writes by other stations
4      file detached
5      TTS Holding Detach
6      TTS Holding Open
</PRE>
<p><b>See Also:</b>
#02047 - #02048
<p>
<b>Category: <a href="cat-026.htm">
Netware</a>
- <a href="int-21.htm">
Int 21h</a>
- <a href="alpha-n.htm">
N</a>
</b><p><p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-3566.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-3568.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>



</BODY>
</HTML>
