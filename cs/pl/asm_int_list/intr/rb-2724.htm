<HTML>
<HEAD>
<TITLE>Int 21/AH=32h
</TITLE>
<META NAME="Description" CONTENT="
Int 21/AH=32h - DOS 2+ - GET DOS DRIVE PARAMETER BLOCK FOR SPECIFIC DRIVE - 
AH = 32h
DL = drive number (00h = default, 01h = A:, etc)
Return: AL = status
00h successful
DS:BX - Drive Parameter Block (DPB) (see #01395) for specified
drive
FFh invalid or network drive
Notes: the OS/2 compatibility box supports the DOS 3.3 version of this call
except for the DWORD at offset 12h
this call updates the DPB by reading the disk; the DPB may be accessed
">
<META NAME="robots" CONTENT="none">
</HEAD>
<BODY BGCOLOR="#FFD0A0">
<center>
<h2>Int 21/AH=32h
</h2>
</center><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-2723.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-2725.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>
<p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<h3><font color=#C00040>DOS 2+ - GET DOS DRIVE PARAMETER BLOCK FOR SPECIFIC DRIVE</font></h3>
<PRE>
AH = 32h
DL = drive number (00h = default, 01h = A:, etc)<br>
<p><b>Return:</b><br>AL = status
00h successful
DS:BX -> Drive Parameter Block (DPB) <a href="rb-2724.htm#Table1395">(see #01395)</a> for specified
drive
FFh invalid or network drive
</PRE>
<p><b>Notes:</b>
The OS/2 compatibility box supports the DOS 3.3 version of this call
except for the DWORD at offset 12h.
This call updates the DPB by reading the disk; the DPB may be accessed
via the DOS list of lists <a href="rb-0000.htm#Table0"></a>(see #01627 at AH=52h) if disk access is not
desirable..
Undocumented prior to the release of DOS 5.0; only the DOS 4.0+
version of the DPB has been documented, however.
Supported by DR DOS 3.41+; DR DOS 3.41-6.0 return the same data as
MS-DOS 3.31.
IBM ROM-DOS v4.0 also reports invalid/network (AL=FFh) on the ROM drive
<p><b>See Also:</b>
<a href="rb-2594.htm">AH=1Fh</a> - <a href="rb-2983.htm">AH=52h</a> - <a href="rb-3226.htm">AX=7302h</a>
<PRE>
<p>
Format of DOS Drive Parameter Block:
<a name=table1395></a>
Offset  Size    Description     (Table 01395)
00h    BYTE    drive number (00h = A:, 01h = B:, etc)
01h    BYTE    unit number within device driver
02h    WORD    bytes per sector
04h    BYTE    highest sector number within a cluster
05h    BYTE    shift count to convert clusters into sectors
06h    WORD    number of reserved sectors at beginning of drive
08h    BYTE    number of FATs
09h    WORD    number of root directory entries
0Bh    WORD    number of first sector containing user data
0Dh    WORD    highest cluster number (number of data clusters + 1)
16-bit FAT if greater than 0FF6h, else 12-bit FAT
0Fh    BYTE    number of sectors per FAT
10h    WORD    sector number of first directory sector
12h    DWORD   address of device driver header <a href="rb-2983.htm#Table1646">(see #01646)</a>
16h    BYTE    media ID byte <a href="rb-2590.htm#Table1356">(see #01356)</a>
17h    BYTE    00h if disk accessed, FFh if not
18h    DWORD   pointer to next DPB
---DOS 2.x---
1Ch    WORD    cluster containing start of current directory, 0000h=root,
FFFFh = unknown
1Eh 64 BYTEs   ASCIZ pathname of current directory for drive
---DOS 3.x---
1Ch    WORD    cluster at which to start search for free space when writing
1Eh    WORD    number of free clusters on drive, FFFFh = unknown
---DOS 4.0-6.0---
0Fh    WORD    number of sectors per FAT
11h    WORD    sector number of first directory sector
13h    DWORD   address of device driver header <a href="rb-2983.htm#Table1646">(see #01646)</a>
17h    BYTE    media ID byte <a href="rb-2590.htm#Table1356">(see #01356)</a>
18h    BYTE    00h if disk accessed, FFh if not
19h    DWORD   pointer to next DPB
1Dh    WORD    cluster at which to start search for free space when writing,
usually the last cluster allocated
1Fh    WORD    number of free clusters on drive, FFFFh = unknown
</PRE>
<p><b>See Also:</b>
#01357 - #01663 - #01787 at AX=7302h - #04039 at INT E0/CL=71h
<p>
<b>Category: <a href="cat-010.htm">
DOS Kernel</a>
- <a href="int-21.htm">
Int 21h</a>
- <a href="alpha-d.htm">
D</a>
</b><p><p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-2723.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-2725.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>



</BODY>
</HTML>
