<HTML>
<HEAD>
<TITLE>Int 15/AX=53B0h/BH=10h
</TITLE>
<META NAME="Description" CONTENT="
Int 15/AX=53B0h/BH=10h - Intel System Management Bus - REQUEST - 
AX = 53B0h
BH = 10h
BL = protocol (see #00487)
CH = device address
CL = device command (see #00488)
DH = MSB Data or block length (for BlockWrite)
DL = LSB Data or first byte of block (for BlockWrite)
Return: CF clear if successful
AH = 00h or 80h (SMBus OK)
(80h indicates a previously unreported SMI took place)
">
<META NAME="robots" CONTENT="none">
</HEAD>
<BODY BGCOLOR="#FFD0A0">
<center>
<h2>Int 15/AX=53B0h/BH=10h
</h2>
</center><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-1444.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-1446.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>
<p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<h3><font color=#C00040>Intel System Management Bus - REQUEST</font></h3>
<PRE>
AX = 53B0h
BH = 10h
BL = protocol <a href="rb-1445.htm#Table487">(see #00487)</a>
CH = device address
CL = device command <a href="rb-1445.htm#Table488">(see #00488)</a>
DH = MSB Data or block length (for BlockWrite)
DL = LSB Data or first byte of block (for BlockWrite)<br>
<p><b>Return:</b><br>CF clear if successful
AH = 00h or 80h (SMBus OK)
(80h indicates a previously unreported SMI took place)
CF set if error
AH = error code (05h,10h,11h,12h,13h,14h,17h,19h,1Ah,86h)
<a href="rb-1437.htm#Table484">(see #00484)</a>
</PRE>
<p><b>Desc:</b>
Request access to a device on the SMBus
<p><b>See Also:</b>
<a href="rb-1446.htm">AX=53B0h/BH=11h</a> -  AX=53B0h/BH=13h
<PRE>
<p>
<a name=table487></a>
(Table 00487)
Values for Intel System Management Bus protocol codes:
00h    Quick Command
01h    Send Byte
02h    Receive Byte
03h    Write Byte
04h    Read Byte
05h    Write Word
06h    Read Word
07h    Block Write
08h    Block Read
09h    Process Call
0Ah-FFh reserved
</PRE>
<p><b>See Also:</b>
#00488
<PRE>
<p>
<a name=table488></a>
(Table 00488)
Values for Intel System Management Bus Smart Battery command codes:
Cmd    Protocol(s)     Description
00h    Rd/Wr Word      "ManufacturerAccess" implementation-specific
01h    Rd/Wr Word      get/set Low Capacity Alarm threshold
02h    Rd/Wr Word      get/set Remaining Time Alarm value (in minutes)
03h    Rd/Wr Word      get/set battery characteristics <a href="rb-1445.htm#Table489">(see #00489)</a>
04h    Rd/Wr Word      "AtRate" indicate charge/discharge rate
05h    Read Word       "AtRateTimeToFull" time to completely charge (in min.)
06h    Read Word       "AtRateTimeToEmpty" time to entirely discharge (min.)
<p><b>07h    Read Word       "AtRateOK" boolean:</b><br>Can battery supply another 10sec?
08h    Read Word       internal battery temperature (in 0.1 Kelvins)
09h    Read Word       current battery voltage in millivolts
0Ah    Read Word       current flowing through battery in milliamperes
(positive if charging, negative if discharging)
0Bh    Read Word       average current over the past minute
0Ch    Read Word       expected error margin in capacity computations in %
0Dh    Read Word       predicted remaining charge as % of full charge
0Eh    Read Word       predicted remaining charge as % of design capacity
0Fh    Read Word       predicted remaining charge in mAh or 10mWh
10h    Read Word       predicted full charge capacity in mAh or 10mWh
11h    Read Word       predicted remaining battery life in minutes
FFFFh = not discharging
12h    Read Word       rolling average of predicted life over past minute
13h    Read Word       rolling average of predicted charge time over past min.
FFFFh = not charging
14h    Read Word       get battery's desired charging current in mA
14h    Write Word      set charging current in mA
15h    Read Word       get battery's desired charging current in mV
15h    Write Word      set desired charging voltage in mV
16h    Read Word       get current battery status <a href="rb-1445.htm#Table490">(see #00490)</a>
17h    Read Word       get number of charge/discharge cycles for battery
18h    Read Word       get design capacity in mAh or 10mWh
19h    Read Word       get design voltage
1Ah    Read Word       get specification information <a href="rb-1445.htm#Table491">(see #00491)</a>
1Bh    Read Word       get manufacture date <a href="rb-0000.htm#Table0"></a>(see #01665 at INT 21/AX=5700h)
1Ch    Read Word       get serial number
1Dh-1Fh                reserved
20h    Read Block      get manufacturer's name
21h    Read Block      get device name
22h    Read Block      get device chemistry <a href="rb-1445.htm#Table492">(see #00492)</a>
23h    Read Block      get manufacturer data
24h-2Eh                reserved
2Fh                    manufacturer-specific
30h-3Bh                reserved
3Ch-3Fh                manufacturer-specific
</PRE>
<p><b>Note:</b>
Bits 7-6 are reserved for addressing multiple batteries in a future
version of the specification
<p><b>See Also:</b>
#00487
<PRE>
<p>
Bitfields for Smart Battery battery characteristics:
<a name=table489></a>
Bit(s)  Description     (Table 00489)
0      battery has internal charge controller (read-only)
1      primary/secondary battery support (read-only)
6-2    reserved
7      conditioning cycle requested
8      internal charge controller enabled
9      battery operating in primary mode
13-10  reserved
14     disable broadcast to charger
15     report capacity in units of 10mW / 10mWh instead of mA / mAh
</PRE>
<p><b>See Also:</b>
#00488 - #00490
<PRE>
<p>
Bitfields for Smart Battery battery status:
<a name=table490></a>
Bit(s)  Description     (Table 00490)
15     overcharged
14     terminate-charge alarm
13     reserved
12     over-temperature alarm
11     terminate-discharge alarm
10     reserved
9      remaining-capacity alarm
8      remaining-time alarm
7      initialized
6      charging
5      fully charged
4      fully discharged
3-0    error codes.
0000 OK.
0001 busy.
0010 reserved command.
0011 unsupported command.
0100 access denied (tried to write to read-only value).
0101 overflow/underflow.
0110 bad size.
0111 unknown error
</PRE>
<p><b>See Also:</b>
#00488 - #00489 - #00491
<PRE>
<p>
Bitfields for Smart Battery specification information:
<a name=table491></a>
Bit(s)  Description     (Table 00491)
3-0    SmartBattery specification minor revision number
7-4    SmartBattery specification version number
11-8   voltage scaling (0-3, multiply voltages by 10^scale)
15-12  current scaling (0-3, multiply currents by 10^scale)
</PRE>
<p><b>See Also:</b>
#00488 - #00490
<PRE>
<p>
<a name=table492></a>
(Table 00492)
Values for Smart Battery device chemistry (not case-sensitive):
"LION" Lithium ion
"NiMH" Nickel metal hydride
"PbAc" lead-acid
"NiCd" Nickel Cadmium
"NiZn" Nickel Zinc
"RAM"  rechargeable Alkaline Manganese
"ZnAr" Zinc-Air
</PRE>
<p><b>See Also:</b>
#00488
<p>
<b>Category: <a href="cat-014.htm">
Expansion Bus Bios</a>
- <a href="int-15.htm">
Int 15h</a>
- <a href="alpha-i.htm">
I</a>
</b><p><p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-1444.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-1446.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>



</BODY>
</HTML>
