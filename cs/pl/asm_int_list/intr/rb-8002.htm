<HTML>
<HEAD>
<TITLE>Int 7F/AX=0104h/BX=0000h
</TITLE>
<META NAME="Description" CONTENT="
Int 7F/AX=0104h/BX=0000h - HLLAPI (IBM 3270 High-Level Language API)/LLAPI (Rabbit Low Level API) - 
AX = 0104h (HLLAPI gate ID)
BX = 0000h
DS:SI - parameter control block (see #03872)
Return: parameter control block updated
InstallCheck:  for the Novell HLLAPI TSR, test for the signature CXI (for
the company Novell bought) immediately prior to the interrupt handler
SeeAlso: AX=0105h,AX=ABCDh
Format of HLLAPI parameter control block:
Offset Size  Description   (Table 03872)
">
<META NAME="robots" CONTENT="none">
</HEAD>
<BODY BGCOLOR="#FFD0A0">
<center>
<h2>Int 7F/AX=0104h/BX=0000h
</h2>
</center><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-8001.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-8003.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>
<p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<h3><font color=#C00040>HLLAPI (IBM 3270 High-Level Language API)/LLAPI (Rabbit Low Level API)</font></h3>
<PRE>
AX = 0104h (HLLAPI gate ID)
BX = 0000h
DS:SI -> parameter control block <a href="rb-8002.htm#Table3872">(see #03872)</a><br>
<p><b>Return:</b><br>Parameter control block updated
<p><b>InstallCheck:</b><br>For the Novell HLLAPI TSR, test for the signature "CXI" (for
the company Novell bought) immediately prior to the interrupt handler
</PRE>
<p><b>See Also:</b>
<a href="rb-8003.htm">AX=0105h</a> - <a href="rb-8106.htm">AX=ABCDh</a>
<PRE>
<p>
Format of HLLAPI parameter control block:
<a name=table3872></a>
Offset  Size    Description     (Table 03872)
00h  3 BYTEs   signature = 'PCB'
03h    BYTE    function number <a href="rb-0000.htm#Table0"></a>(see #03873,#03874)
04h    WORD    segment of control string
06h    WORD    offset of control string
08h    WORD    length of control string, unless explicit end-of-str char set
0Ah    BYTE    unused (IBM)
ControlString[0] (Rabbit)
0Bh    WORD    return code <a href="rb-8002.htm#Table3876">(see #03876)</a>
0Dh    WORD    maximum length of control string (IBM)
unused (Rabbit)
<p>
<a name=table3873></a>
(Table 03873)
Values for HLLAPI function number:
00h    OEM function (Query system for Attachmate implementation)
01h    Connect presentation space
02h    Disconnect presentation space
03h    Send string of keystrokes as if typed from keyboard
04h    Wait ~60s, returns status of presentation space
05h    Copy current presentation space into a user-defined buffer
06h    Search presentation space for first occurrence of a specified string
07h    Query cursor location in current presentation space
08h    Copy part or all of current presentation space into user buffer
09h    Set session parameters; parameters vary by vendor <a href="rb-8002.htm#Table3875">(see #03875)</a>
0Ah    Get info on sessions currently connected
0Bh    Lock current presentation space
0Ch    Unlock previously locked presentation space
0Dh    Return copy of operator info area (OIA) of current presentation space
0Eh    get attribute byte for given position in the current presentation space
0Fh    copy string of characters to the current presentation space
10h    workstation control functions
11h    storage manager functions, intended primarily for BASIC applications.
(not implemented by Rabbit)
12h    set delay period in half-second intervals
14h    get info on level of workstation support used
15h    reset session parameters to default values
16h    get detailed info on the current session
17h    start host notification to application on presentation sp or OIA update
18h    check host update when host notification enabled
19h    stop host notification
1Eh    search field within current presentation space for string
1Fh    get first positionof a selected field in the current presentation space
20h    get length of specified field
21h    copy string into a specified field
22h    copy specified field into a user-defined buffer
23h    create alternate presentation space (IBM only), don't use with BASIC
24h    switch to alternate presentation space (IBM only), not with BASIC
25h    display cursor in specified area (IBM only), don't use with BASIC
26h    display alternate presentation space (IBM only), don't use with BASIC
27h    delete alternate presentation space (IBM only), don't use with BASIC
28h    set cursor
29h    start Close Intercept
2Ah    query Close Intercept
2Bh    stop Close Intercept
32h    start intercepting keystrokes to allow filtering
33h    get keystrokes after turning on interception
34h    notify operator when keystroke rejected by filter subroutine
35h    stop intercepting keystrokes
5Ah    send file
5Bh    receive file
5Ch    run a program (not implemented by Rabbit)
5Dh    execute DOS command (not implemented by Rabbit)
63h    change presentation space position to PC display row/col or vice versa
65h    connect to Window Services
66h    disconnect from Window Services
67h    set/query window coordinates
68h    set/query window status
69h    change presentation space name
78h    connect Structured Fields
79h    disconnect Structured Fields
7Ah    query size of communications buffer
7Bh    allocate communications buffer
7Ch    free communications buffer
7Dh    get request completion state
7Eh    read Structured Fields
7Fh    write Structured Fields
FFh    Get info on DCA implementation
<p>
<a name=table3874></a>
(Table 03874)
Values for LLAPI function number:
80h    initialize LLAPI (internal call)
83h    set Session ID (one-character ID)
84h    read Session ID (one-character ID)
85h    lock 327x keyboard
86h    unlock 327x keyboard
87h    wait for Clear to Send
88h    type ASCII character
89h    type 327x key
8Ah    read keyboard lock state
8Fh    force screen update
90h    view session
91h    relinquish (suspend foreground until background becomes idle)
92h    poke screen character
93h    poke translated character
94h    peek screen character
95h    peek translated character
96h    set cursor position
97h    send scan code (Rabbit only)
98h    synchronize (returns after keystroke queue empty)
99h    type PC key (Rabbit only)
<p>
<a name=table3875></a>
(Table 03875)
Values for HLLAPI Function 09h Session Parameters:
ASCII          ??? (Rabbit only)
ATTRIB         return attributes in hex
NOATTRIB       return attributes as blanks
CONPHYS        make physical connection
CONLOG         only make logical connection
EAB            copy extended attribute bytes along with data
NOEAB          copy data only
ESC=n          set escape character to "n" (default '@')
EOT=n          set end of string character (default 00h)
FPAUSE         full-duration pause
FTNOWAIT       return immediately from functions 5Ah and 5Bh (Rabbit only)
FTWAIT         wait for file transfer to complete (Rabbit only)
IPAUSE         interruptable pause
RABESC         ??? (Rabbit only)
NORABESC       ??? (Rabbit only)
SCANCODE       ??? (Rabbit only)
STRLEN         use explicit string lengths
STREOT         use terminated strings
SRCHALL        search entire presentation space
SRCHFROM       search from specified offset
SRCHFRWD       search forward from position 1
SRCHBKWD       search backward from last position in presentation space
TIMEOUT=n      ??? (Rabbit only)
TWAIT          wait specified time for keyboard ready
LWAIT          wait until keyboard ready
NWAIT          no wait
TRON           enable tracing
TROFF          disable tracing
AUTORESET      send reset before sending keys with function 03h
NORESET        don't send reset
QUIET          don't display messages sent with INT 21/AH=09h
NOQUIET        allow messages to be displayed
TIMEOUT=n      set timeout in 30-second intervals, 0 = wait until ^Break
XLATE          translate extended attribute bytes
NOXLATE        don't translate
NEWRET         use HLLAPI v3.0 return code conventions
OLDRET         use HLLAPI v2.0 return code conventions
<p>
<a name=table3876></a>
(Table 03876)
Values for Windows HLLAPI return code:
00h    successful
01h    Presentation Space not connected/requested size unavailable
02h    invalid function or parameter error/invalid block ID
03h    file transfer complete
04h    file transfer complete (segmented)/Presentation Space busy
05h    inhibited or keyboard locked
06h    data truncated
07h    invalid Presentation Space position
08h    operation not available
09h    system error
0Ah    blocking error
0Bh    resource not available
0Ch    session stopped
14h    undefined key combination
15h    OIA updated
16h    Presentation Space updated
17h    both Presentation Space and OIA updated
18h    no such field
19h    no keystrokes available
1Ah    Presentation Space or Operator Information Area changed
1Bh    file transfer aborted
1Ch    zero-length field
1Eh    cursor type invalid
1Fh    keystroke overflow
20h    another application is already connected
22h    message sent to host cancelled
23h    transmission from host cancelled
24h    lost contact with host
25h    function successful
26h    function incomplete
27h    a DDM session is already connected
28h    disconnected, but asynchronous requests still pending
29h    buffer already in use
2Ah    no matching request found
12Dh    invalid function number
12Eh    file not found
131h    access denied
134h    out of memory
136h    environment invalid
137h    format invalid
270Eh (9998) invalid Presentation Space ID
270Fh (9999) invalid row or column code
---Windows HLLAPI extensions---
F000h   asynchronous call already in progress
F001h   invalid asynchronous task ID
F002h   blocking call cancelled
F003h   underlying subsystem not started
F004h   unsupported application version
</PRE>
<p>
<b>Category: <a href="cat-020.htm">
IBM Workstation/Terminal Emulators</a>
- <a href="int-7F.htm">
Int 7Fh</a>
- <a href="alpha-h.htm">
H</a>
</b><p><p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-8001.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-8003.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>



</BODY>
</HTML>
