<HTML>
<HEAD>
<TITLE>Int 21/AH=13h
</TITLE>
<META NAME="Description" CONTENT="
Int 21/AH=13h - DOS 1+ - DELETE FILE USING FCB - 
AH = 13h
DS:DX - unopened FCB (see #01345), filename filled with template for
deletion ('?' wildcards allowed)
Return: AL = status
00h one or more files successfully deleted
FFh no matching files or all were read-only or locked
Notes: DOS 1.25+ deletes everything in the current directory (including
subdirectories) and sets the first byte of the name to 00h (entry
never used) instead of E5h if called on an extended FCB with
filename '???????????' and bits 0-4 of the attribute set (bits 1 and
">
<META NAME="robots" CONTENT="none">
</HEAD>
<BODY BGCOLOR="#FFD0A0">
<center>
<h2>Int 21/AH=13h
</h2>
</center><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-2577.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-2579.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>
<p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<h3><font color=#C00040>DOS 1+ - DELETE FILE USING FCB</font></h3>
<PRE>
AH = 13h
DS:DX -> unopened FCB <a href="rb-2574.htm#Table1345">(see #01345)</a>, filename filled with template for
deletion ('?' wildcards allowed)<br>
<p><b>Return:</b><br>AL = status
00h one or more files successfully deleted
FFh no matching files or all were read-only or locked
</PRE>
<p><b>Notes:</b>
DOS 1.25+ deletes everything in the current directory (including
subdirectories) and sets the first byte of the name to 00h (entry
never used) instead of E5h if called on an extended FCB with
filename '???????????' and bits 0-4 of the attribute set (bits 1 and
2 for DOS 1.x).  This may have originally been an optimization to
minimize directory searching after a mass deletion (DOS 1.25+ stop
the directory search upon encountering a never-used entry), but can
corrupt the filesystem under DOS 2+ because subdirectories are
removed without deleting the files they contain..
Currently-open files should not be deleted.
MS-DOS allows deletion of read-only files with an extended FCB, whereas
Novell NetWare, DR DOS 6, and Novell DOS 7/OpenDOS 7.01 do not.
This function generates a trap "D" under OS/2 v4.x (Warp4) when called
on an HPFS partition with a wildcard in the filename; it operates
correctly on FAT partitions and when called without wildcards
<p><b>See Also:</b>
<a href="rb-2797.htm">AH=41h</a> - <a href="rb-4324.htm">INT 2F/AX=1113h</a>
<p>
<b>Category: <a href="cat-010.htm">
DOS Kernel</a>
- <a href="int-21.htm">
Int 21h</a>
- <a href="alpha-d.htm">
D</a>
</b><p><p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-2577.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-2579.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>



</BODY>
</HTML>
