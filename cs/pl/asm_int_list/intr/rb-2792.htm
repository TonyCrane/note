<HTML>
<HEAD>
<TITLE>Int 21/AH=40h
</TITLE>
<META NAME="Description" CONTENT="
Int 21/AH=40h - Turbo Debug HARDWARE BREAKPOINTS - SEND CMD TO HARDWARE BRKPNT DRIVER - 
AH = 40h
BX = handle for character device TDHDEBUG
CX = number of bytes to write
DS:DX - hardware breakpoint command (see #01418)
Return: CF clear if successful
AX = number of bytes actually written
CF set on error
AX = error code (05h,06h) (see #01680 at AH=59h/BX=0000h)
Note:  results are retrieved by reading from the device
SeeAlso: AH=3FhTurbo Debug
">
<META NAME="robots" CONTENT="none">
</HEAD>
<BODY BGCOLOR="#FFD0A0">
<center>
<h2>Int 21/AH=40h
</h2>
</center><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-2791.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-2793.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>
<p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<h3><font color=#C00040>Turbo Debug HARDWARE BREAKPOINTS - SEND CMD TO HARDWARE BRKPNT DRIVER</font></h3>
<PRE>
AH = 40h
BX = handle for character device "TDHDEBUG"
CX = number of bytes to write
DS:DX -> hardware breakpoint command <a href="rb-2792.htm#Table1418">(see #01418)</a><br>
<p><b>Return:</b><br>CF clear if successful
AX = number of bytes actually written
CF set on error
AX = error code (05h,06h) <a href="rb-0000.htm#Table0"></a>(see #01680 at AH=59h/BX=0000h)
</PRE>
<p><b>Note:</b>
Results are retrieved by reading from the device
<p><b>See Also:</b>
<a href="rb-2784.htm">AH=3Fh"Turbo Debug"</a>
<PRE>
<p>
Format of Turbo Debugger hardware breakpoint commands:
<a name=table1418></a>
Offset  Size    Description     (Table 01418)
00h    BYTE    command code
00h install interrupt vectors
01h get hardware capabilities
02h enable hardware breakpoints
03h disable hardware breakpoints
04h set hardware breakpoint
05h clear hardware breakpoint
06h set I/O base address and reset hardware
07h restore interrupt vectors
---command code 00h---
01h    DWORD   pointer to Turbo Debugger entry point to be jumped to on
hardware breakpoint; call with CPU state the same as on
the breakpoint except for pushing AX and placing an entry
code (FFh if breakout button or breakpoint handle) in AH
---command code 04h---
01h    BYTE    breakpoint type
00h memory read
01h memory write
02h memory read/write
03h I/O read
04h I/O write
05h I/O read/write
06h instruction fetch
02h    BYTE    address matching mode <a href="rb-2792.htm#Table1419">(see #01419)</a>
03h    DWORD   32-bit linear low address
07h    DWORD   32-bit linear high address
0Bh    WORD    pass count
0Dh    BYTE    data size (01h, 02h, or 04h)
0Eh    BYTE    source of matched bus cycle (01h CPU, 02h DMA, 03h either)
0Fh    BYTE    data-matching mode <a href="rb-2792.htm#Table1419">(see #01419)</a>
10h    DWORD   low data value
14h    DWORD   high data value
18h    DWORD   data mask specifying which bits of the data are tested
---command code 05h---
01h    BYTE    handle of breakpoint to clear (breakpoint returned from command
04h)
---command code 06h---
01h    WORD    base address of hardware debugger board
<p>
<a name=table1419></a>
(Table 01419)
Values for Turbo Debugger address/data matching mode:
00h    match any
01h    equal to test value
02h    different from test value
03h    above test value
04h    below test value
05h    below or equal to test value
06h    above or equal to test value
07h    within inclusive range
08h    outside specified range
</PRE>
<p>
<b>Category: <a href="cat-006.htm">
Debuggers/Debugging Tools</a>
- <a href="int-21.htm">
Int 21h</a>
- <a href="alpha-t.htm">
T</a>
</b><p><p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-2791.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-2793.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>



</BODY>
</HTML>
