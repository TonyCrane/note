<HTML>
<HEAD>
<TITLE>Int 15/AH=87h
</TITLE>
<META NAME="Description" CONTENT="
Int 15/AH=87h - SYSTEM - COPY EXTENDED MEMORY - 
AH = 87h
CX = number of words to copy (max 8000h)
ES:SI - global descriptor table (see #00499)
Return: CF set on error
CF clear if successful
AH = status (see #00498)
Notes: copy is done in protected mode with interrupts disabled by the default
BIOS handler; many 386 memory managers perform the copy with
interrupts enabled
on the PS/2 30-286 & Tortuga this function does not use the port 92h
">
<META NAME="robots" CONTENT="none">
</HEAD>
<BODY BGCOLOR="#FFD0A0">
<center>
<h2>Int 15/AH=87h
</h2>
</center><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-1526.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-1528.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>
<p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<h3><font color=#C00040>SYSTEM - COPY EXTENDED MEMORY</font></h3>
<PRE>
AH = 87h
CX = number of words to copy (max 8000h)
ES:SI -> global descriptor table <a href="rb-1527.htm#Table499">(see #00499)</a><br>
<p><b>Return:</b><br>CF set on error
CF clear if successful
AH = status <a href="rb-1527.htm#Table498">(see #00498)</a>
</PRE>
<p><b>Notes:</b>
Copy is done in protected mode with interrupts disabled by the default
BIOS handler; many 386 memory managers perform the copy with
interrupts enabled.
On the PS/2 30-286 & "Tortuga" this function does not use the port 92h
for A20 control, but instead uses the keyboard controller (8042).
Reportedly this may cause the system to crash when access to the
8042 is disabled in password server mode (see also PORT 0064h,#P0398).
This function is incompatible with the OS/2 compatibility box
<p><b>See Also:</b>
<a href="rb-1529.htm">AH=88h</a> - <a href="rb-1531.htm">AH=89h</a> - <a href="rb-2452.htm">INT 1F/AH=90h</a>
<PRE>
<p>
<a name=table498></a>
(Table 00498)
Values for extended-memory copy status:
00h    source copied into destination
01h    parity error
02h    interrupt error
03h    address line 20 gating failed
80h    invalid command (PC,PCjr)
86h    unsupported function (XT,PS30)
<p>
Format of global descriptor table:
<a name=table499></a>
Offset  Size    Description     (Table 00499)
00h 16 BYTEs   zeros (used by BIOS)
10h    WORD    source segment length in bytes (2*CX-1 or greater)
12h  3 BYTEs   24-bit linear source address, low byte first
15h    BYTE    source segment access rights (93h)
16h    WORD    (286) zero
(386+) extended access rights and high byte of source address
18h    WORD    destination segment length in bytes (2*CX-1 or greater)
1Ah  3 BYTEs   24-bit linear destination address, low byte first
1Dh    BYTE    destination segment access rights (93h)
1Eh    WORD    (286) zero
(386+) extended access rights and high byte of destin. address
20h 16 BYTEs   zeros (used by BIOS to build CS and SS descriptors)
</PRE>
<p>
<b>Category: <a href="cat-003.htm">
Bios</a>
- <a href="int-15.htm">
Int 15h</a>
- <a href="alpha-s.htm">
S</a>
</b><p><p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-1526.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-1528.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>



</BODY>
</HTML>
