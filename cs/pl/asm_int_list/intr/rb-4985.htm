<HTML>
<HEAD>
<TITLE>Int 2F/AX=7AF1h
</TITLE>
<META NAME="Description" CONTENT="
Int 2F/AX=7AF1h - Novell NetWare - Access Server Driver - INSTALLATION CHECK - 
AX = 7AF1h
BL = sequence number (01h first driver, 02h second, 00h no driver)
Return: AX 7AF1h if present
BH = total number of drivers
---if BL nonzero on entry---
AL = number of ports provided by specified driver
ES:DI - driver entry point
(see #02910,#02911,#02912,#02913,#02914,#02915,#02916,#02917)
ES:DX - ID string
SeeAlso: INT 7A/BX=001Ch
">
<META NAME="robots" CONTENT="none">
</HEAD>
<BODY BGCOLOR="#FFD0A0">
<center>
<h2>Int 2F/AX=7AF1h
</h2>
</center><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-4984.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-4986.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>
<p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<h3><font color=#C00040>Novell NetWare - Access Server Driver - INSTALLATION CHECK</font></h3>
<PRE>
AX = 7AF1h
BL = sequence number (01h first driver, 02h second, 00h no driver)<br>
<p><b>Return:</b><br>AX <> 7AF1h if present
BH = total number of drivers
---if BL nonzero on entry---
AL = number of ports provided by specified driver
ES:DI -> driver entry point
<a href="rb-0000.htm#Table0"></a>(see #02910,#02911,#02912,#02913,#02914,#02915,#02916,#02917)
ES:DX -> ID string
</PRE>
<p><b>See Also:</b>
<a href="rb-7870.htm">INT 7A/BX=001Ch</a>
<PRE>
<p>
<a name=table2910></a>
(Table 02910)
Call Access Server driver "initialize port" function with:.
AH = 01h.
AL = port number (00h-0Fh).
ES:BX -> configuration parameter block <a href="rb-4985.htm#Table2923">(see #02923)</a>.
Interrupts disabled<br>
<p><b>Return:</b><br>CF clear if successful
CF set on error
</PRE>
<p><b>See Also:</b>
#02911
<PRE>
<p>
<a name=table2911></a>
(Table 02911)
Call Access Server driver "get port status" function with:.
AH = 02h.
AL = port number (00h-0Fh).
Interrupts disabled<br>
<p><b>Return:</b><br>CF clear if successful
BL = transmitter status <a href="rb-4985.htm#Table2920">(see #02920)</a>
BH = receiver status <a href="rb-4985.htm#Table2921">(see #02921)</a>
DL = external status signals <a href="rb-4985.htm#Table2922">(see #02922)</a>
CF set on error
interrupts disabled
</PRE>
<p><b>See Also:</b>
#02910 - #02912 - #02915
<PRE>
<p>
<a name=table2912></a>
(Table 02912)
Call Access Server driver "get input from port" function with:.
AH = 03h.
AL = port number (00h-0Fh).
CX = size of data buffer.
ES:BX -> buffer for data.
Interrupts disabled<br>
<p><b>Return:</b><br>CF clear if successful
CF set on error
interrupts disabled
CX = number of bytes read
</PRE>
<p><b>Note:</b>
The driver will add a NUL to the buffer when a break signal is detected
<p><b>See Also:</b>
#02912 - #02913
<PRE>
<p>
<a name=table2913></a>
(Table 02913)
Call driver "send output data to port" function with:.
AH = 04h.
AL = port number (00h-0Fh).
CX = number of bytes to send.
ES:BX -> buffer containing data.
Interrupts disabled<br>
<p><b>Return:</b><br>CF clear if successful
CF set on error
interrupts disabled
CX = number of bytes actually written
</PRE>
<p><b>See Also:</b>
#02912 - #02914
<PRE>
<p>
<a name=table2914></a>
(Table 02914)
Call driver "get I/O character counts" function with:.
AH = 05h.
AL = port number (00h-0Fh).
Interrupts disabled<br>
<p><b>Return:</b><br>CF clear if successful
BX = number of bytes pending transmission
CX = number of bytes available for reading
CF set on error
interrupts disabled
</PRE>
<p><b>See Also:</b>
#02912 - #02913
<PRE>
<p>
<a name=table2915></a>
(Table 02915)
Call driver "control XON/XOFF" function with:.
AH = 06h.
AL = port number (00h-0Fh).
DL = new state
(00h software flow control disabled, else enabled).
Interrupts disabled<br>
<p><b>Return:</b><br>CF clear if successful
CF set on error
interrupts disabled
</PRE>
<p><b>See Also:</b>
#02916
<PRE>
<p>
<a name=table2916></a>
(Table 02916)
Call driver "get error counts and statistics" function with:.
AH = 07h.
AL = port number (00h-0Fh).
ES:BX -> buffer for statistics <a href="rb-4985.htm#Table2924">(see #02924)</a>.
Interrupts disabled<br>
<p><b>Return:</b><br>CF clear if successful
ES:BX buffer filled
CF set on error
interrupts disabled
</PRE>
<p><b>See Also:</b>
#02917 - #02918 - #02919
<PRE>
<p>
<a name=table2917></a>
(Table 02917)
Call driver "general request" function with:.
AH = 08h.
AL = port number (00h-0Fh).
DX = requested operations
<p><b>bit 0:</b><br>Flush transmit buffers
<p><b>bit 1:</b><br>Flush receive buffers
<p><b>bit 4:</b><br>Define XON/XOFF characters.
ES:BX -> XON/XOFF characters <a href="rb-4985.htm#Table2925">(see #02925)</a> if DX bit 4 set.
Interrupts disabled<br>
<p><b>Return:</b><br>CF clear if successful
CF set on error
interrupts disabled
<p>
<a name=table2918></a>
(Table 02918)
Call driver "deadman timer management" function with:
AH = 09h
AL = port number (00h-0Fh)
BX = next time interval in seconds (0000h to disable timer)
interrupts disabled<br>
<p><b>Return:</b><br>CF clear
interrupts disabled
</PRE>
<p><b>See Also:</b>
#02919
<PRE>
<p>
<a name=table2919></a>
(Table 02919)
Call driver "get buffer sizes" function with:.
AH = 0Ah.
AL = port number (00h-0Fh).
Interrupts disabled<br>
<p><b>Return:</b><br>CF clear if successful
BX = size of transmit buffer
CX = size of receive buffer
CF set on error
interrupts disabled
</PRE>
<p><b>See Also:</b>
#02918
<PRE>
<p>
<a name=table2920></a>
(Table 02920)
Values for Access Server transmitter status:
00h    uninitialized
01h    ready, not transmitting
02h    transmitting
03h    XOFF received
04h    transmitting, buffer full
05h    XOFF received and buffer full
<p>
<a name=table2921></a>
(Table 02921)
Values for Access Server receiver status:
00h    uninitialized
01h    ready
02h    receive buffer full, data may have been lost
<p>
Bitfields for external status signals:
<a name=table2922></a>
Bit(s)  Description     (Table 02922)
7,6    undefined
5      CTS active
4      DSR active
3      DCD active
2,1    undefined
0      ring indicator
<p>
Format of Access Server configuration parameter block:
<a name=table2923></a>
Offset  Size    Description     (Table 02923)
00h    BYTE    receive baud rate index
00h 50 bps, 01h 75 bps, 02h 110 bps, 03h 134.5 bps,
04h 150 bps, 05h 300 bps, 06h 600 bps, 07h 1200 bps,
08h 1800 bps, 09h 2000 bps, 0Ah 2400 bps, 0Bh 3600 bps,
0Ch 4800 bps, 0Dh 7200 bps, 0Eh 9600 bps, 0Fh 19200 bps,
10h 38400 bps, 11h 57600 bps, 12h 115200 bps
01h    BYTE    receive bits per character (0=5 bits..3=8 bits)
02h    BYTE    receive stop bits
03h    BYTE    receive parity
00h none, 01h odd, 02h even, 03h mark, 04h space
04h    BYTE    transmit baud rate index (same as receive baud rate)
05h    BYTE    transmit bits per character (0=5 bits..3=8 bits)
06h    BYTE    transmit stop bits
07h    BYTE    transmit parity (same as receive parity)
08h    BYTE    DTR state (00h off, 01h on)
09h    BYTE    RTS state (00h off, 01h on)
0Ah    BYTE    flow control (00h none, 01h XON/XOFF, 02h RTS/CTS, 03h both)
0Bh    BYTE    break control (00h off, 01h on)
<p>
Format of Access Server statistics:
<a name=table2924></a>
Offset  Size    Description     (Table 02924)
00h    BYTE    port number
01h    BYTE    external status signals <a href="rb-4985.htm#Table2922">(see #02922)</a>
02h    BYTE    transmitter status <a href="rb-4985.htm#Table2920">(see #02920)</a>
03h    BYTE    receiver status <a href="rb-4985.htm#Table2921">(see #02921)</a>
04h    DWORD   number of characters received
08h    DWORD   number of characters transmitted
0Ch    WORD    input parity errors
0Eh    WORD    input framing errors
10h    WORD    lost characters due to hardware overrun
12h    WORD    lost characters due to data buffer overrun
</PRE>
<p><b>Note:</b>
The counts are not allowed to wrap around; once a count reaches FFFFh
or FFFFFFFFh, it is no longer incremented
<PRE>
<p>
Format of Access Server XON/XOFF characters:
<a name=table2925></a>
Offset  Size    Description     (Table 02925)
00h    BYTE    04h (number of bytes following)
01h    BYTE    transmit XON character
02h    BYTE    transmit XOFF character
03h    BYTE    receive XON character
04h    BYTE    receive XOFF character
</PRE>
<p>
<b>Category: <a href="cat-026.htm">
Netware</a>
- <a href="int-2F.htm">
Int 2Fh</a>
- <a href="alpha-n.htm">
N</a>
</b><p><p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-4984.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-4986.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>



</BODY>
</HTML>
