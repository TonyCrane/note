<HTML>
<HEAD>
<TITLE>Int 10/AH=1Ch
</TITLE>
<META NAME="Description" CONTENT="
Int 10/AH=1Ch - VIDEO - SAVE/RESTORE VIDEO STATE (PS50+,VGA) - 
AH = 1Ch
AL = function
00h return state buffer size
Return: BX = number of 64-byte blocks needed
01h save video state
ES:BX - buffer
02h restore video state
ES:BX - buffer containing previously saved state
CX = requested states (see #00048)
Return: AL = 1Ch if function supported
">
<META NAME="robots" CONTENT="none">
</HEAD>
<BODY BGCOLOR="#FFD0A0">
<center>
<h2>Int 10/AH=1Ch
</h2>
</center><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-0221.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-0223.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>
<p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<h3><font color=#C00040>VIDEO - SAVE/RESTORE VIDEO STATE (PS50+,VGA)</font></h3>
<PRE>
AH = 1Ch
AL = function
00h return state buffer size
<p><b>Return:</b><br>BX = number of 64-byte blocks needed
01h save video state
ES:BX -> buffer
02h restore video state
ES:BX -> buffer containing previously saved state.
CX = requested states <a href="rb-0222.htm#Table48">(see #00048)</a><br>
<p><b>Return:</b><br>AL = 1Ch if function supported
</PRE>
<p><b>Notes:</b>
Many BIOSes corrupt the video registers when saving the state, so a
program should restore the state immediately after saving it (the
saved data is uncorrupted).
The BIOS data area consists of the 96 bytes from 0040h:0049h-00A8h.
This function is not supported when DOS/V is running.
This function may be a better VGA installation check than the usual
INT 10/AX=1A00h, since some late-model EGA cards (such as the ATI
EGA Wonder) supported that call
<p><b>See Also:</b>
<a href="rb-0219.htm">AX=1A00h</a> - <a href="rb-0358.htm">AX=5F90h</a> - <a href="rb-0361.htm">AX=5FA0h</a> - MEM 0040h:00A8h
<PRE>
<p>
Bitfields for requested states:
<a name=table48></a>
Bit(s)  Description     (Table 00048)
0      video hardware <a href="rb-0222.htm#Table49">(see #00049)</a>
1      BIOS data areas
2      color registers and DAC state <a href="rb-0222.htm#Table50">(see #00050)</a>
3-15   unused (0)
</PRE>
<p><b>See Also:</b>
#00186
<PRE>
<p>
Format of VGA video hardware state:
<a name=table49></a>
Offset  Size    Description     (Table 00049)
00h    BYTE    sequencer index register
01h    BYTE    CRTC index register
02h    BYTE    graphics controller index register
03h    BYTE    attribute controller index register
04h    BYTE    feature controller register
05h  4 BYTEs   sequencer registers
09h    BYTE    sequencer register 0
0Ah 25 BYTEs   CRTC registers 0-8
23h 16 BYTEs   palette registers 00h-0Fh
33h  4 BYTEs   attribute registers 10h-13h
37h  9 BYTEs   graphics controller registers 0-8
40h    BYTE    CRTC base address (low)
41h    BYTE    CRTC base address (high)
42h    BYTE    plane 0 latch
43h    BYTE    plane 1 latch
44h    BYTE    plane 2 latch
45h    BYTE    plane 3 latch
<p>
Format of VGA DAC state:
<a name=table50></a>
Offset  Size    Description     (Table 00050)
00h    BYTE    read/write mode DAC
01h    BYTE    pixel address
02h    BYTE    pixel mask
03h 768 BYTEs  color data (256 triples)
303h    BYTE    color select register
</PRE>
<p>
<b>Category: <a href="cat-046.htm">
Video</a>
- <a href="int-10.htm">
Int 10h</a>
- <a href="alpha-v.htm">
V</a>
</b><p><p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-0221.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-0223.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>



</BODY>
</HTML>
