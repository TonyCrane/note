<HTML>
<HEAD>
<TITLE>Int F1
</TITLE>
<META NAME="Description" CONTENT="
Int F1 - Common ISDN API (CAPI) v2.0 - CAPI_REGISTER - INITIALIZE CAPI - 
AL = 01h
AH = CAPI version number * 10 (14h for v2.0)
ES:BX - buffer for CAPI's use (refer to note below)
CX = number of bytes for message buffer
DX = maximum simultaneous logical (Level 3) connections
SI = maximum concurrent received B3 data blocks (min. 2)
DI = maximum B3 data block size (up to 2048 bytes)
Return: AX = CAPI-assigned application ID
0000h on error
BX = error number
">
<META NAME="robots" CONTENT="none">
</HEAD>
<BODY BGCOLOR="#FFD0A0">
<center>
<h2>Int F1
</h2>
</center><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-8674.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-8676.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>
<p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<h3><font color=#C00040>Common ISDN API (CAPI) v2.0 - CAPI_REGISTER - INITIALIZE CAPI</font></h3>
<PRE>
AL = 01h
AH = CAPI version number * 10 (14h for v2.0)
ES:BX -> buffer for CAPI's use (refer to note below)
CX = number of bytes for message buffer
DX = maximum simultaneous logical (Level 3) connections
SI = maximum concurrent received B3 data blocks (min. 2)
DI = maximum B3 data block size (up to 2048 bytes)<br>
<p><b>Return:</b><br>AX = CAPI-assigned application ID
0000h on error
BX = error number
1001h registration error
<p><b>Range:</b><br>INT 00 to INT FF, selectable by program parameter
</PRE>
<p><b>Notes:</b>
The caller is required to provide at least 512 bytes of stack space.
The CAPI interrupt handler begins with a header <a href="rb-8675.htm#Table4068">(see #04068)</a> which is
nearly identical to the IBM Interrupt Sharing Protocol header
<a href="rb-0000.htm#Table0"></a>(see #02568 at INT 2D"AMIS"), except that the short jump instruction
to a hardware reset handler at offset 09h is zeroed out and the
entire header is inexplicably shortened by one byte.
The standard document suggests using 1024 + (1024*DX) bytes for the
message buffer for typical applications.
The total size of the application-provided buffer must be at least
CX + DX*SI*DI bytes
<p><b>See Also:</b>
<a href="rb-8674.htm">AH=01h</a> - INT F1/AL=02h
<PRE>
<p><b>Index:</b><br>Installation check;Common ISDN API
<p>
Format of CAPI v2.0 interrupt handler entry point:
<a name=table4068></a>
Offset  Size    Description     (Table 04068)
00h  2 BYTEs   short jump to actual start of interrupt handler, immediately
following this data block (EBh 0Fh)
02h    DWORD   address of next handler in chain
06h    WORD    signature 424Bh
08h    BYTE    EOI flag (80h)
80h primary hardware interrupt handler (will issue EOI)
09h  2 BYTEs   reserved (0)
(is short jump to hardware reset routine in ISP header)
0Bh  4 BYTEs   signature "CAPI"
0Fh  2 BYTEs   two-digit CAPI version number in ASCII ('20')
</PRE>
<p><b>See Also:</b>
#02568 at INT 2D
<p>
<b>Category: <a href="cat-043.htm">
Uncatagorized</a>
- <a href="int-F1.htm">
Int F1h</a>
- <a href="alpha-c.htm">
C</a>
</b><p><p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-8674.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-8676.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>



</BODY>
</HTML>
