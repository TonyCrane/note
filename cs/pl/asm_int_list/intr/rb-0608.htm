<HTML>
<HEAD>
<TITLE>Int 13/AH=03h
</TITLE>
<META NAME="Description" CONTENT="
Int 13/AH=03h - DISK - WRITE DISK SECTOR(S) - 
AH = 03h
AL = number of sectors to write (must be nonzero)
CH = low eight bits of cylinder number
CL = sector number 1-63 (bits 0-5)
high two bits of cylinder (bits 6-7, hard disk only)
DH = head number
DL = drive number (bit 7 set for hard disk)
ES:BX - data buffer
Return: CF set on error
CF clear if successful
">
<META NAME="robots" CONTENT="none">
</HEAD>
<BODY BGCOLOR="#FFD0A0">
<center>
<h2>Int 13/AH=03h
</h2>
</center><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-0607.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-0609.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>
<p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<h3><font color=#C00040>DISK - WRITE DISK SECTOR(S)</font></h3>
<PRE>
AH = 03h
AL = number of sectors to write (must be nonzero)
CH = low eight bits of cylinder number
CL = sector number 1-63 (bits 0-5)
high two bits of cylinder (bits 6-7, hard disk only)
DH = head number
DL = drive number (bit 7 set for hard disk)
ES:BX -> data buffer<br>
<p><b>Return:</b><br>CF set on error
CF clear if successful
AH = status <a href="rb-0606.htm#Table234">(see #00234)</a>
AL = number of sectors transferred
(only valid if CF set for some BIOSes)
</PRE>
<p><b>Notes:</b>
Errors on a floppy may be due to the motor failing to spin up quickly
enough; the write should be retried at least three times, resetting
the disk with AH=00h between attempts.
Most BIOSes support "multitrack" writes, where the value in AL
exceeds the number of sectors remaining on the track, in which
case any additional sectors are written beginning at sector 1 on
the following head in the same cylinder; the CONFIG.SYS command
MULTITRACK can be used to force DOS to split disk accesses which
would wrap across a track boundary into two separate calls.
The IBM AT BIOS and many other BIOSes use only the low four bits of
DH (head number) since the WD-1003 controller which is the standard
AT controller (and the controller that IDE emulates) only supports
16 heads.
AWARD AT BIOS and AMI 386sx BIOS have been extended to handle more
than 1024 cylinders by placing bits 10 and 11 of the cylinder number
into bits 6 and 7 of DH.
Under Windows95, an application must issue a physical volume lock on
the drive via INT 21/AX=440Dh before it can successfully write to
the disk with this function
<p><b>See Also:</b>
<a href="rb-0607.htm">AH=02h</a> - <a href="rb-0626.htm">AH=0Bh</a> - <a href="rb-0620.htm">AH=07h"V10DISK.SYS"</a> - <a href="rb-0669.htm">AH=22h"PS/1"</a> - <a href=http:/
<p><b>See Also:</b>
<a href="rb-2896.htm">INT 21/AX=440Dh"DOS 3.2+"</a> - <a href="rb-6283.htm">INT 4D/AH=03h</a>
<p>
<b>Category: <a href="cat-003.htm">
Bios</a>
- <a href="int-13.htm">
Int 13h</a>
- <a href="alpha-d.htm">
D</a>
</b><p><p><img src=./gif/rbline.gif width="100%" alt="------"><p>
<table border=1 cellpadding=3 cellspacing=1>
<td>
<a href="rb-0607.htm">
<img src=./gif/lup.gif border=0 alt=Prev></a>
<a href="rb-0609.htm">
<img src=./gif/ldown.gif border=0 alt=Next></a>
<a href="../rbrown.htm">
<img src=./gif/lhome.gif border=0 alt=Ralf Brown Page></a>
<td><a href="int.htm">Interrups</a></td>
<td><a href="cat.htm">Categories</a></td>
<td><a href="alpha.htm">Contents</a></td>
</td></table><p>



</BODY>
</HTML>
