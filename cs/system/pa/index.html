<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="é¹¤ç¿”ä¸‡é‡Œï¼ˆTonyCraneï¼‰çš„ç¬”è®°æœ¬" name="description"/>
<link href="https://note.tonycrane.cc/cs/system/pa/" rel="canonical"/>
<link href="../../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.3.1, mkdocs-material-8.1.4" name="generator"/>
<title>ICS PA å®éªŒçºªå® - é¹¤ç¿”ä¸‡é‡Œçš„ç¬”è®°æœ¬</title>
<link href="../../../assets/stylesheets/main.bb3983ee.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.e6a45f82.min.css" rel="stylesheet"/>
<link href="../../../css/heti.css" rel="stylesheet"/>
<link href="../../../css/timeline.css" rel="stylesheet"/>
<link href="https://cdn.tonycrane.cc/utils/katex.min.css" rel="stylesheet"/>
<link href="https://cdn.tonycrane.cc/jbmono/jetbrainsmono.css" rel="stylesheet"/>
<link href="https://cdn.tonycrane.cc/lxgw/lxgwscreen.css" rel="stylesheet"/>
<link href="../../../css/tasklist.css" rel="stylesheet"/>
<link href="../../../css/custom.css" rel="stylesheet"/>
<link href="../../../css/card.css" rel="stylesheet"/>
<link href="../../../css/flink.css" rel="stylesheet"/>
<link href="../../../css/changelog_extra.css" rel="stylesheet"/>
<link href="/css/counter.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?c273de7f67d992cb6aef08c3ddf09bb2";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DYETCPM289"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&gtag("event","search",{search_term:this.value})}),"undefined"!=typeof location$&&location$.subscribe(function(e){gtag("config","G-DYETCPM289",{page_path:e.pathname})})})</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-DYETCPM289"></script>
<link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src="../../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="" data-md-color-primary="" data-md-color-scheme="default" dir="ltr">
<script src="../../../js/scheme.js" type="text/javascript"></script>
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#ics-pa">
            è·³è½¬è‡³
          </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="é¡µçœ‰" class="md-header__inner md-grid">
<a aria-label="é¹¤ç¿”ä¸‡é‡Œçš„ç¬”è®°æœ¬" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="é¹¤ç¿”ä¸‡é‡Œçš„ç¬”è®°æœ¬">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 4v6l-2-2-2 2V4H9v16h10V4h-2M3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7H3m2-2v2h2V5H5m0 14h2v-2H5v2m0-6h2v-2H5v2z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            é¹¤ç¿”ä¸‡é‡Œçš„ç¬”è®°æœ¬
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              ICS PA å®éªŒçºªå®
            
          </span>
</div>
</div>
</div>
<div class="md-header__options">
<div class="md-header-nav__scheme md-header-nav__button md-source__icon md-icon">
<a class="light-mode" href="javascript:toggleScheme();" title="Light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22z"></path></svg>
</a>
<a class="dark-mode" href="javascript:toggleScheme();" title="Dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31z"></path></svg>
</a>
<a class="system-mode" href="javascript:toggleScheme();" title="System preference">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 2c-1.79 1.15-3 3.18-3 5.5s1.21 4.35 3.03 5.5C4.46 13 2 10.54 2 7.5A5.5 5.5 0 0 1 7.5 2m11.57 1.5 1.43 1.43L4.93 20.5 3.5 19.07 19.07 3.5m-6.18 2.43L11.41 5 9.97 6l.42-1.7L9 3.24l1.75-.12.58-1.65L12 3.1l1.73.03-1.35 1.13.51 1.67m-3.3 3.61-1.16-.73-1.12.78.34-1.32-1.09-.83 1.36-.09.45-1.29.51 1.27 1.36.03-1.05.87.4 1.31M19 13.5a5.5 5.5 0 0 1-5.5 5.5c-1.22 0-2.35-.4-3.26-1.07l7.69-7.69c.67.91 1.07 2.04 1.07 3.26m-4.4 6.58 2.77-1.15-.24 3.35-2.53-2.2m4.33-2.7 1.15-2.77 2.2 2.54-3.35.23m1.15-4.96-1.14-2.78 3.34.24-2.2 2.54M9.63 18.93l2.77 1.15-2.53 2.19-.24-3.34z"></path></svg>
</a>
<a class="unknown-mode" href="javascript:toggleScheme();" title="Unknown scheme">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m15.07 11.25-.9.92C13.45 12.89 13 13.5 13 15h-2v-.5c0-1.11.45-2.11 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41a2 2 0 0 0-2-2 2 2 0 0 0-2 2H8a4 4 0 0 1 4-4 4 4 0 0 1 4 4 3.2 3.2 0 0 1-.93 2.25M13 19h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10z"></path></svg>
</a>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="æœç´¢" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="æœç´¢" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<nav aria-label="æŸ¥æ‰¾" class="md-search__options">
<button aria-label="æ¸…ç©ºå½“å‰å†…å®¹" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            æ­£åœ¨åˆå§‹åŒ–æœç´¢å¼•æ“
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/TonyCrane/note/" title="å‰å¾€ä»“åº“">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    TonyCrane/note
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="æ ‡ç­¾" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../..">
        Home
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../../">
        Computer Science
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../sec/">
        Security
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../web/">
        Web
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../ctf/">
        CTF
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../writeups/">
        Writeups
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../others/">
        Others
      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="å¯¼èˆªæ " class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="é¹¤ç¿”ä¸‡é‡Œçš„ç¬”è®°æœ¬" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="é¹¤ç¿”ä¸‡é‡Œçš„ç¬”è®°æœ¬">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 4v6l-2-2-2 2V4H9v16h10V4h-2M3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7H3m2-2v2h2V5H5m0 14h2v-2H5v2m0-6h2v-2H5v2z"></path></svg>
</a>
    é¹¤ç¿”ä¸‡é‡Œçš„ç¬”è®°æœ¬
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/TonyCrane/note/" title="å‰å¾€ä»“åº“">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    TonyCrane/note
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" id="__nav_1" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../..">Home</a>
<label for="__nav_1">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Home" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
          Home
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../changelog/">
        æ›´æ–°è®°å½•
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../links/">
        å‹é“¾
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../">Computer Science</a>
<label for="__nav_2">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Computer Science" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Computer Science
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" id="__nav_2_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../pl/">ç¼–ç¨‹è¯­è¨€ &amp; ISA</a>
<label for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="ç¼–ç¨‹è¯­è¨€ &amp; ISA" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
          ç¼–ç¨‹è¯­è¨€ &amp; ISA
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_2" id="__nav_2_2_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../pl/python/">Python</a>
<label for="__nav_2_2_2">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Python" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_2_2">
<span class="md-nav__icon md-icon"></span>
          Python
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../pl/python/basic/">
        Python åŸºç¡€è¯­æ³•
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pl/python/numpy/">
        NumPy
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pl/python/pil/">
        PIL
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_3" id="__nav_2_2_3" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../pl/rust/">Rust</a>
<label for="__nav_2_2_3">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Rust" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_2_3">
<span class="md-nav__icon md-icon"></span>
          Rust
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../pl/rust/basic/">
        Rust åŸºç¡€è¯­æ³•
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pl/rust/misc/">
        Rust æ‚é¡¹éšè®°
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pl/c_cpp/">
        C/C++
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pl/haskell/">
        Haskell
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pl/asm/">
        x86 æ±‡ç¼–è¯­è¨€
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_7" id="__nav_2_2_7" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../pl/riscv/">RISC-V ISA</a>
<label for="__nav_2_2_7">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="RISC-V ISA" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_2_7">
<span class="md-nav__icon md-icon"></span>
          RISC-V ISA
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../pl/riscv/unprivileged/">
        RISC-V éç‰¹æƒçº§ ISA
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pl/riscv/privileged/">
        RISC-V ç‰¹æƒçº§ ISA
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" id="__nav_2_3" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../">è®¡ç®—æœºç³»ç»Ÿ</a>
<label for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="è®¡ç®—æœºç³»ç»Ÿ" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
          è®¡ç®—æœºç³»ç»Ÿ
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_2" id="__nav_2_3_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../cs1/">è®¡ç®—æœºç³»ç»Ÿ I</a>
<label for="__nav_2_3_2">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="è®¡ç®—æœºç³»ç»Ÿ I" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_3_2">
<span class="md-nav__icon md-icon"></span>
          è®¡ç®—æœºç³»ç»Ÿ I
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../cs1/topic1/">
        æ•°æ®çš„è¡¨ç¤º
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs1/topic2/">
        æ•°å­—é€»è¾‘ç”µè·¯åŸºç¡€
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs1/topic3/">
        ç»„åˆé€»è¾‘ç”µè·¯è®¾è®¡
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs1/topic4/">
        æ—¶åºé€»è¾‘ç”µè·¯è®¾è®¡
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs1/topic5/">
        æŒ‡ä»¤é›†ä½“ç³»ç»“æ„
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs1/topic6/">
        å¤„ç†å™¨
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_2_8" id="__nav_2_3_2_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3_2_8">
          ç³»ç»Ÿ I å®éªŒéƒ¨åˆ†
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="ç³»ç»Ÿ I å®éªŒéƒ¨åˆ†" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_2_3_2_8">
<span class="md-nav__icon md-icon"></span>
          ç³»ç»Ÿ I å®éªŒéƒ¨åˆ†
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../cs1/lab1-1/">
        ç³»ç»Ÿ I lab1-1
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs1/lab1-2/">
        ç³»ç»Ÿ I lab1-2
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs1/lab2-1/">
        ç³»ç»Ÿ I lab2-1
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs1/lab2-2/">
        ç³»ç»Ÿ I lab2-2
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs1/lab3/">
        ç³»ç»Ÿ I lab3
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs1/lab4-1/">
        ç³»ç»Ÿ I lab4-1
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs1/lab4-2/">
        ç³»ç»Ÿ I lab4-2
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs1/lab5-1/">
        ç³»ç»Ÿ I lab5-1
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs1/lab5-2/">
        ç³»ç»Ÿ I lab5-2
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_3" id="__nav_2_3_3" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../cs2/">è®¡ç®—æœºç³»ç»Ÿ II</a>
<label for="__nav_2_3_3">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="è®¡ç®—æœºç³»ç»Ÿ II" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_3_3">
<span class="md-nav__icon md-icon"></span>
          è®¡ç®—æœºç³»ç»Ÿ II
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../cs2/topic1/">
        æµæ°´çº¿ CPU
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs2/topic2/">
        æ“ä½œç³»ç»Ÿç®€ä»‹
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs2/topic3/">
        æ“ä½œç³»ç»Ÿç»“æ„åŠç³»ç»Ÿè°ƒç”¨
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs2/topic4/">
        è¿›ç¨‹ä¸çº¿ç¨‹
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs2/topic5/">
        CPU è°ƒåº¦
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs2/topic6/">
        è¿›ç¨‹åŒæ­¥
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_3_8" id="__nav_2_3_3_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3_3_8">
          ç³»ç»Ÿ II å®éªŒéƒ¨åˆ†
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="ç³»ç»Ÿ II å®éªŒéƒ¨åˆ†" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_2_3_3_8">
<span class="md-nav__icon md-icon"></span>
          ç³»ç»Ÿ II å®éªŒéƒ¨åˆ†
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../cs2/lab1/">
        ç³»ç»Ÿ II lab1
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs2/lab2/">
        ç³»ç»Ÿ II lab2
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs2/lab3/">
        ç³»ç»Ÿ II lab3
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs2/lab4/">
        ç³»ç»Ÿ II lab4
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cs2/lab5/">
        ç³»ç»Ÿ II lab5
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          ICS PA å®éªŒçºªå®
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        ICS PA å®éªŒçºªå®
      </a>
<nav aria-label="ç›®å½•" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
        ç›®å½•
      </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#_1">
    å®éªŒæ¦‚è¿°
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa0">
    PA0
  </a>
<nav aria-label="PA0" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#git">
    å®éªŒä»£ç  git è·Ÿè¸ª
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa1">
    PA1
  </a>
<nav aria-label="PA1" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#pa11">
    PA1.1
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa2">
    PA2
  </a>
<nav aria-label="PA2" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#pa21">
    PA2.1
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa22">
    PA2.2
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa23">
    PA2.3
  </a>
<nav aria-label="PA2.3" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
    ä¸²å£
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
    æ—¶é’Ÿ
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa3">
    PA3
  </a>
<nav aria-label="PA3" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#pa31">
    PA3.1
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa32">
    PA3.2
  </a>
<nav aria-label="PA3.2" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#elf">
    ELF åŠ è½½
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
    ç³»ç»Ÿè°ƒç”¨
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa33">
    PA3.3
  </a>
<nav aria-label="PA3.3" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
    æ–‡ä»¶ç³»ç»Ÿ
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#load">
    load å¯¹é½å¼‚å¸¸
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#navy">
    Navy åº“è¡¥å……
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa4">
    PA4
  </a>
<nav aria-label="PA4" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#pa41">
    PA4.1
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa42">
    PA4.2
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa43">
    PA4.3
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
    é—ç•™é—®é¢˜
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" id="__nav_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_4">
          ç®—æ³•ç›¸å…³
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="ç®—æ³•ç›¸å…³" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_4">
<span class="md-nav__icon md-icon"></span>
          ç®—æ³•ç›¸å…³
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4_1" id="__nav_2_4_1" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../algorithm/ds/">æ•°æ®ç»“æ„åŸºç¡€</a>
<label for="__nav_2_4_1">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="æ•°æ®ç»“æ„åŸºç¡€" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_4_1">
<span class="md-nav__icon md-icon"></span>
          æ•°æ®ç»“æ„åŸºç¡€
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../algorithm/ds/topic1/">
        ç®—æ³•åˆ†æåŸºç¡€
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../algorithm/ds/summary1/">
        åŸºç¡€æ•°æ®ç»“æ„
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../algorithm/ds/summary2/">
        æ’åºä¸å“ˆå¸Œ
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5" id="__nav_2_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_5">
          äººå·¥æ™ºèƒ½ç›¸å…³
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="äººå·¥æ™ºèƒ½ç›¸å…³" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_5">
<span class="md-nav__icon md-icon"></span>
          äººå·¥æ™ºèƒ½ç›¸å…³
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ai/basic/">
        äººå·¥æ™ºèƒ½åŸºç¡€
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6" id="__nav_2_6" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../hpc/">é«˜æ€§èƒ½è®¡ç®—</a>
<label for="__nav_2_6">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="é«˜æ€§èƒ½è®¡ç®—" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_6">
<span class="md-nav__icon md-icon"></span>
          é«˜æ€§èƒ½è®¡ç®—
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6_2" id="__nav_2_6_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_6_2">
          HPC 101 è¶…ç®—å°å­¦æœŸ
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="HPC 101 è¶…ç®—å°å­¦æœŸ" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_6_2">
<span class="md-nav__icon md-icon"></span>
          HPC 101 è¶…ç®—å°å­¦æœŸ
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hpc/hpc101/vectorized/">
        å‘é‡åŒ–è®¡ç®—
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hpc/hpc101/gpu/">
        GPU ç¼–ç¨‹
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hpc/hpc101/openmp/">
        OpenMP åŸºç¡€
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hpc/hpc101/mpi/">
        MPI åŸºç¡€
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hpc/hpc101/ml/">
        æœºå™¨å­¦ä¹ åŸºç¡€
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_7" id="__nav_2_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_7">
          é›¶æ•£çŸ¥è¯†ç‚¹
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="é›¶æ•£çŸ¥è¯†ç‚¹" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_7">
<span class="md-nav__icon md-icon"></span>
          é›¶æ•£çŸ¥è¯†ç‚¹
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../regex/">
        æ­£åˆ™è¡¨è¾¾å¼
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../unicode/">
        Unicode
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_8" id="__nav_2_8" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../analysis/">æºç å‰–æ</a>
<label for="__nav_2_8">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="æºç å‰–æ" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_8">
<span class="md-nav__icon md-icon"></span>
          æºç å‰–æ
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../analysis/mkdocs/">
        mkdocs æºç å‰–æ
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_9" id="__nav_2_9" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../tools/">å·¥å…·ç›¸å…³</a>
<label for="__nav_2_9">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="å·¥å…·ç›¸å…³" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_9">
<span class="md-nav__icon md-icon"></span>
          å·¥å…·ç›¸å…³
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../tools/toolbox/">
        å·¥å…·æ”¶é›†
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_9_3" id="__nav_2_9_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_9_3">
          å‘½ä»¤è¡Œå·¥å…·
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="å‘½ä»¤è¡Œå·¥å…·" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_9_3">
<span class="md-nav__icon md-icon"></span>
          å‘½ä»¤è¡Œå·¥å…·
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../tools/git/">
        Git å‘½ä»¤å¤‡å¿˜
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tools/shell/">
        Shell å‘½ä»¤å¤‡å¿˜
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tools/docker/">
        Docker ç›¸å…³å¤‡å¿˜
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tools/gdb/">
        gdb ç›¸å…³å¤‡å¿˜
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_9_4" id="__nav_2_9_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_9_4">
          CI å·¥å…·
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="CI å·¥å…·" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_9_4">
<span class="md-nav__icon md-icon"></span>
          CI å·¥å…·
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../tools/action/">
        GitHub Action
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_9_5" id="__nav_2_9_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_9_5">
          ç«™ç‚¹ç”Ÿæˆå·¥å…·
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="ç«™ç‚¹ç”Ÿæˆå·¥å…·" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_9_5">
<span class="md-nav__icon md-icon"></span>
          ç«™ç‚¹ç”Ÿæˆå·¥å…·
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../tools/mkdocs/">
        mkdocs ä½¿ç”¨è®°å½•
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tools/hexo/">
        hexo ä½¿ç”¨è®°å½•
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tools/sphinx/">
        sphinx ä½¿ç”¨è®°å½•
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../sec/">Security</a>
<label for="__nav_3">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Security" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Security
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" id="__nav_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2">
          æ¼æ´å¤ç°
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="æ¼æ´å¤ç°" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
          æ¼æ´å¤ç°
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../sec/vulns/log4j/">
        log4j æ¼æ´å¤ç°
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../web/">Web</a>
<label for="__nav_4">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Web" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Web
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" id="__nav_4_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../web/protocol/">ç½‘ç»œåè®®</a>
<label for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="ç½‘ç»œåè®®" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
          ç½‘ç»œåè®®
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../web/protocol/vmess/">
        VMess
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" id="__nav_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3">
          æ’ç‰ˆå†™ä½œè§„èŒƒ
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="æ’ç‰ˆå†™ä½œè§„èŒƒ" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_3">
<span class="md-nav__icon md-icon"></span>
          æ’ç‰ˆå†™ä½œè§„èŒƒ
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../web/typesetting/clreq/">
        ä¸­æ–‡æ’ç‰ˆéœ€æ±‚
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../web/typesetting/tech/">
        ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£é£æ ¼æŒ‡å—
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../web/svg/">
        SVG
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../ctf/">CTF</a>
<label for="__nav_5">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="CTF" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          CTF
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" id="__nav_5_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../ctf/steg/">éšå†™æœ¯</a>
<label for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="éšå†™æœ¯" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
          éšå†™æœ¯
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ctf/steg/image/">
        å›¾ç‰‡éšå†™
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ctf/steg/audio/">
        éŸ³é¢‘éšå†™
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" id="__nav_5_3" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../ctf/escapes/">æ²™ç®±é€ƒé€¸</a>
<label for="__nav_5_3">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="æ²™ç®±é€ƒé€¸" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_3">
<span class="md-nav__icon md-icon"></span>
          æ²™ç®±é€ƒé€¸
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ctf/escapes/pysandbox/">
        Python æ²™ç®±é€ƒé€¸
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" id="__nav_5_4" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../ctf/forensics/">å–è¯</a>
<label for="__nav_5_4">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="å–è¯" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_4">
<span class="md-nav__icon md-icon"></span>
          å–è¯
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ctf/forensics/mem/">
        å†…å­˜å–è¯
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ctf/coding/">
        ç¼–ç ä¸å¯†ç 
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ctf/qrcode/">
        QRCode
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ctf/esolang/">
        Esolang
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_8" id="__nav_5_8" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../ctf/blockchain/">Blockchain</a>
<label for="__nav_5_8">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Blockchain" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_8">
<span class="md-nav__icon md-icon"></span>
          Blockchain
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_8_2" id="__nav_5_8_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../ctf/blockchain/eth/">Ethereum</a>
<label for="__nav_5_8_2">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Ethereum" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_8_2">
<span class="md-nav__icon md-icon"></span>
          Ethereum
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ctf/blockchain/eth/basic/">
        ä»¥å¤ªåŠåŸºç¡€
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ctf/blockchain/eth/evm/">
        ä»¥å¤ªåŠè™šæ‹Ÿæœº
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ctf/blockchain/eth/solidity/">
        Solidity è¯­è¨€
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ctf/blockchain/eth/yul/">
        Yul è¯­è¨€
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ctf/blockchain/eth/vuln/">
        å¸¸è§åˆçº¦æ¼æ´æ”»å‡»æ‰‹æ®µ
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ctf/blockchain/eth/erc/">
        ERC æ ‡å‡†
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ctf/blockchain/eth/eip/">
        å…¶ä½™é‡è¦ EIPs
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_8_3" id="__nav_5_8_3" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../ctf/blockchain/solana/">Solana</a>
</div>
<nav aria-label="Solana" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_8_3">
<span class="md-nav__icon md-icon"></span>
          Solana
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../writeups/">Writeups</a>
<label for="__nav_6">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Writeups" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          Writeups
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_2" id="__nav_6_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_2">
          Training
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Training" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_2">
<span class="md-nav__icon md-icon"></span>
          Training
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/ethernaut/">
        Ethernaut
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/SecurityInnovation/">
        Security Innovation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/sadservers/">
        SadServers
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/AAA/">
        ğŸ”’ AAA School Bus
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_3" id="__nav_6_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_3">
          2021
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="2021" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_3">
<span class="md-nav__icon md-icon"></span>
          2021
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/sysu_msc_puzzle/">
        SYSU MSC Puzzle 2021
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/hackergame2021/">
        USTC Hackergame 2021
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/d0g3/">
        ç¬¬å››å±Šâ€œå®‰æ´µæ¯â€
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/bytectf2021_final/">
        ByteCTF 2021 Final
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/sctf2021/">
        SCTF 2021
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_4" id="__nav_6_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_4">
          2022
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="2022" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_4">
<span class="md-nav__icon md-icon"></span>
          2022
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/vnctf2022/">
        VNCTF 2022
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/tqlctf2022/">
        TQLCTF 2022
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/susctf2022/">
        SUSCTF 2022
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/d3ctf2022/">
        D3CTF 2022
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/%2Actf2022/">
        *CTF 2022
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/mrctf2022/">
        MRCTF 2022
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/qwb2022/">
        å¼ºç½‘æ¯ 2022 Quals
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/tctf2022/">
        TCTF/0CTF 2022
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/hackergame2022/">
        USTC Hackergame 2022
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/n1ctf2022/">
        N1CTF 2022
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../writeups/seccon2022/">
        SECCON 2022 Quals
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" id="__nav_7" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../others/">Others</a>
<label for="__nav_7">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Others" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          Others
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../others/notes/">
        è¯¾ç¨‹ç¬”è®°
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_3" id="__nav_7_3" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../others/troubleshooting/">TroubleShooting</a>
<label for="__nav_7_3">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="TroubleShooting" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_3">
<span class="md-nav__icon md-icon"></span>
          TroubleShooting
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../others/troubleshooting/mac/">
        macOS TroubleShooting
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="ç›®å½•" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
        ç›®å½•
      </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#_1">
    å®éªŒæ¦‚è¿°
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa0">
    PA0
  </a>
<nav aria-label="PA0" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#git">
    å®éªŒä»£ç  git è·Ÿè¸ª
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa1">
    PA1
  </a>
<nav aria-label="PA1" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#pa11">
    PA1.1
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa2">
    PA2
  </a>
<nav aria-label="PA2" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#pa21">
    PA2.1
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa22">
    PA2.2
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa23">
    PA2.3
  </a>
<nav aria-label="PA2.3" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
    ä¸²å£
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
    æ—¶é’Ÿ
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa3">
    PA3
  </a>
<nav aria-label="PA3" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#pa31">
    PA3.1
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa32">
    PA3.2
  </a>
<nav aria-label="PA3.2" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#elf">
    ELF åŠ è½½
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
    ç³»ç»Ÿè°ƒç”¨
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa33">
    PA3.3
  </a>
<nav aria-label="PA3.3" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
    æ–‡ä»¶ç³»ç»Ÿ
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#load">
    load å¯¹é½å¼‚å¸¸
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#navy">
    Navy åº“è¡¥å……
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa4">
    PA4
  </a>
<nav aria-label="PA4" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#pa41">
    PA4.1
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa42">
    PA4.2
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pa43">
    PA4.3
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
    é—ç•™é—®é¢˜
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<script defer="" src="/js/toc.js"></script>
<link href="/css/fold_toc.css" rel="stylesheet"/>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/TonyCrane/note/tree/master/docs/cs/system/pa.md" title="ç¼–è¾‘æ­¤é¡µ">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1 id="ics-pa">å—äº¬å¤§å­¦<span class="heti-skip"><span class="heti-spacing"> </span>ICS PA<span class="heti-spacing"> </span></span>å®éªŒçºªå®<a class="headerlink" href="#ics-pa" title="Permanent link"><span><span class="heti-spacing"> </span>Â¶</span></a></h1>
<div class="admonition abstract">
<p class="admonition-title">Abstract</p>
<p>å—äº¬å¤§å­¦è®¡ç®—æœºç³»ç»ŸåŸºç¡€è¯¾ç¨‹å®éªŒã€‚</p>
<p>å®éªŒæŒ‡å¯¼æ–‡æ¡£ï¼š<a href="https://nju-projectn.github.io/ics-pa-gitbook/ics2022/">https://nju-projectn.github.io/ics-pa-gitbook/ics2022/</a></p>
<p>ä¸€ä¸ªä¸€ç›´å¬æœ‹å‹ã€å­¦é•¿ç§°èµçš„å®éªŒï¼Œå¯’å‡åšäº†ä¸€ä¸‹ï¼Œå¾ˆçˆ½ï¼Œä¹Ÿå­¦åˆ°äº†ä¸€äº›ï¼Œè¿™é‡Œä¼šè®°å½•ä¸€ä¸‹å­¦åˆ°çš„é›¶æ•£ä¸œè¥¿ä»¥åŠä¸€äº›ç—›è‹¦<span class="heti-skip"><span class="heti-spacing"> </span>debug<span class="heti-spacing"> </span></span>ç»å†ï¼ˆ</p>
<p>å¯¹äºè¿™å¥—å®éªŒè¿˜æ˜¯å¼•å‘äº†æˆ‘çš„ä¸€äº›æ€è€ƒçš„ï¼Œç›¸å…³æ„Ÿæ‚Ÿå’Œæ€è€ƒä¹‹åæˆ‘æ€»ç»“ä¸€ä¸‹å‘åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>blog<span class="heti-spacing"> </span></span>ä¸Šã€‚</p>
</div>
<h2 id="_1">å®éªŒæ¦‚è¿°<a class="headerlink" href="#_1" title="Permanent link"><span><span class="heti-spacing"> </span>Â¶</span></a></h2>
<p>æ•´ä¸ªå®éªŒé€æ­¥å¼•å¯¼å®Œæˆä¸€ä¸ªè®¡ç®—æœºç³»ç»Ÿçš„æ„å»ºï¼ŒåŒ…æ‹¬åº•å±‚çš„<span class="heti-skip"><span class="heti-spacing"> </span>NEMU<span class="heti-spacing"> </span></span>æ¨¡æ‹Ÿå™¨ï¼Œè¿è¡Œæ—¶ç¯å¢ƒ<span><span class="heti-spacing"> </span>AbstractMachine</span>ï¼ˆAMï¼‰ï¼Œåœ¨å…¶ä¸Šçš„ç®€æ˜“æ“ä½œç³»ç»Ÿ<span><span class="heti-spacing"> </span>NanOS-lite</span>ï¼Œä»¥åŠæ“ä½œç³»ç»Ÿä¸Šçš„åº”ç”¨ç¨‹åºåº“<span><span class="heti-spacing"> </span>Navy-apps</span>ã€‚</p>
<p>ä¸€å…±åˆ†ä¸º<span class="heti-skip"><span class="heti-spacing"> </span>5<span class="heti-spacing"> </span></span>ä¸ªéƒ¨åˆ†ï¼Œ<span>PA0<span class="heti-spacing"> </span></span>é…ç½®ç¯å¢ƒï¼Œ<span>PA1<span class="heti-spacing"> </span></span>å®Œå–„<span class="heti-skip"><span class="heti-spacing"> </span>NEMU<span class="heti-spacing"> </span></span>çš„è°ƒè¯•å™¨åŠŸèƒ½ï¼Œ<span>PA2<span class="heti-spacing"> </span></span>æ¨¡æ‹Ÿ<span class="heti-skip"><span class="heti-spacing"> </span>NEMU<span class="heti-spacing"> </span></span>æŒ‡ä»¤è¿è¡Œä»¥åŠè¡¥å……<span><span class="heti-spacing"> </span>AM</span>ï¼Œ<span>PA3<span class="heti-spacing"> </span></span>å®Œå–„<span class="heti-skip"><span class="heti-spacing"> </span>NEMU<span class="heti-spacing"> </span></span>çš„ä¸­æ–­<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>å¼‚å¸¸å¤„ç†ã€å®ç°æ“ä½œç³»ç»Ÿçš„ç³»ç»Ÿè°ƒç”¨ä»¥åŠç®€æ˜“æ–‡ä»¶ç³»ç»ŸåŠŸèƒ½ï¼Œ<span>PA4<span class="heti-spacing"> </span></span>åœ¨æ“ä½œç³»ç»Ÿä¸­å®ç°å¤šé“ç¨‹åºçš„è¿è¡Œã€è™šæ‹Ÿå†…å­˜ç®¡ç†ä»¥åŠå¤–éƒ¨ä¸­æ–­å¤„ç†ã€‚</p>
<p>ç»†åˆ†æ¯ä¸ªå®éªŒçš„å†…å®¹ä»¥åŠæ¶‰åŠåˆ°çš„æºç éƒ¨åˆ†ï¼Œæˆ‘æ•´ç†äº†å¦‚ä¸‹ä¸€ä¸ªè¡¨æ ¼ä¾›å‚è€ƒï¼š</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="80%" href="/assets/images/cs/system/pa/roadmap_light.png#only-light"><img alt="" src="/assets/images/cs/system/pa/roadmap_light.png#only-light"/></a>
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="80%" href="/assets/images/cs/system/pa/roadmap_dark.png#only-dark"><img alt="" src="/assets/images/cs/system/pa/roadmap_dark.png#only-dark"/></a></p>
<p>PSï¼šå…¶ä¸­<span class="heti-skip"><span class="heti-spacing"> </span>AM<span class="heti-spacing"> </span></span>ç”±äº”ä¸ªéƒ¨åˆ†ç»„æˆï¼ŒTRMï¼ˆå›¾çµæœºæ¨¡æ‹Ÿï¼‰ç®€å•è€Œä¸”å·²ç»å®ç°å¥½äº†ï¼Œ<span>IOE<span class="heti-spacing"> </span></span>ä¸ºè¾“å…¥è¾“å‡ºæ‰©å±•ï¼Œ<span>CTE<span class="heti-spacing"> </span></span>ä¸ºä¸Šä¸‹æ–‡ç®¡ç†æ‰©å±•ï¼Œ<span>VME<span class="heti-spacing"> </span></span>ä¸ºè™šæ‹Ÿå†…å­˜ç®¡ç†æ‰©å±•ï¼Œè¿˜æœ‰ä¸€ä¸ª<span><span class="heti-spacing"> </span>MPE</span>ï¼ˆå¤šå¤„ç†å™¨æ‰©å±•ï¼‰åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>PA<span class="heti-spacing"> </span></span>ä¸­ä¸ä½¿ç”¨ã€‚<span>klib<span class="heti-spacing"> </span></span>ä¸ºç®€å•çš„è¿è¡Œæ—¶åº“ï¼Œæä¾›ç»™<span class="heti-skip"><span class="heti-spacing"> </span>AM<span class="heti-spacing"> </span></span>å’Œæ“ä½œç³»ç»Ÿä½¿ç”¨ã€‚</p>
<p>æ€»è€Œè¨€ä¹‹æœ‰äº†è®¡ç®—æœºç³»ç»Ÿè¯¾ä»¥åŠ<span class="heti-skip"><span class="heti-spacing"> </span>RISCV<span class="heti-spacing"> </span></span>æ‰‹å†Œé˜…è¯»çš„åŸºç¡€ï¼Œå¤§éƒ¨åˆ†å®éªŒè¿˜æ˜¯æ¯”è¾ƒè½»æ¾çš„ï¼Œæ²¡æœ‰ä»€ä¹ˆéš¾ä»¥ç†è§£çš„åœ°æ–¹ã€‚è¾ƒä¸ºç—›è‹¦çš„å°±æ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>debug<span class="heti-spacing"> </span></span>æ—¶ä¸€äº›å¥‡æ€ªçš„é—®é¢˜ä»¥åŠæœ€å<span class="heti-skip"><span class="heti-spacing"> </span>PA4<span class="heti-spacing"> </span></span>ä¸­ä¹‹å‰æ²¡æœ‰æ¥è§¦è¿‡çš„è™šå­˜ç®¡ç†çš„å†…å®¹äº†ã€‚åé¢è®°å½•ä¸€äº›è¿˜èƒ½å›å¿†èµ·æ¥çš„é—®é¢˜ï¼ˆå…¶å®æ˜¯åšçš„è¿‡ç¨‹ä¸­æ‡’å¾—è®°å½•ï¼‰ã€‚</p>
<h2 id="pa0">PA0<a class="headerlink" href="#pa0" title="Permanent link">Â¶</a></h2>
<p>è¿™éƒ¨åˆ†å°±æ˜¯é…ç½®<span class="heti-skip"><span class="heti-spacing"> </span>Linux<span class="heti-spacing"> </span></span>ç¯å¢ƒä»¥åŠè·å–æºç ã€‚<span>Ubuntu<span class="heti-spacing"> </span></span>å®‰è£…å°±è¿˜æ˜¯æ­£å¸¸ï¼Œ<span>UltraISO<span class="heti-spacing"> </span></span>å‡†å¤‡å¯åŠ¨ç›˜ï¼Œç„¶åè¿›<span class="heti-skip"><span class="heti-spacing"> </span>BIOS<span class="heti-spacing"> </span></span>ä»<span class="heti-skip"><span class="heti-spacing"> </span>U<span class="heti-spacing"> </span></span>ç›˜å¯åŠ¨ï¼Œæ ¹æ®æŒ‡å¯¼å®‰è£…ã€‚è¿™æ¬¡é‡åˆ°çš„å‡ ä¸ªè”æƒ³çš„å‘ï¼ˆæˆ‘çš„<span class="heti-skip"><span class="heti-spacing"> </span>win<span class="heti-spacing"> </span></span>ç”µè„‘æ˜¯è”æƒ³å°æ–°<span><span class="heti-spacing"> </span>Air 14+</span>ï¼‰ï¼š</p>
<ul>
<li>è”æƒ³ä¼šè‡ªåŠ¨å¼€å¯<span class="heti-skip"><span class="heti-spacing"> </span>BitLocker<span class="heti-spacing"> </span></span>ä¿æŠ¤ç£ç›˜ï¼Œè¿™ç§æƒ…å†µä¸‹<span class="heti-skip"><span class="heti-spacing"> </span>Ubuntu<span class="heti-spacing"> </span></span>æ— æ³•å®‰è£…ï¼Œéœ€è¦å›åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>Win<span class="heti-spacing"> </span></span>ä¸­å…³æ‰<span><span class="heti-spacing"> </span>BitLocker</span>ï¼ˆæ—¶é—´è¾ƒé•¿ï¼‰</li>
<li>æˆ‘è¿™å°è”æƒ³å¼€æœºä¼šç«‹å³å¯åŠ¨<span><span class="heti-spacing"> </span>Windows</span>ï¼Œæ²¡æœ‰è”æƒ³<span class="heti-skip"><span class="heti-spacing"> </span>Logo<span class="heti-spacing"> </span></span>é¡µé¢ï¼ˆ<span>Windows<span class="heti-spacing"> </span></span>å¼€æœºç•Œé¢çš„<span class="heti-skip"><span class="heti-spacing"> </span>Windows<span class="heti-spacing"> </span></span>è¢«æ›¿æ¢æˆäº†è”æƒ³å°æ–°ï¼Œè¿™ä¸ç®—å¼€æœº<span class="heti-skip"><span class="heti-spacing"> </span>logo<span class="heti-spacing"> </span></span>çš„éƒ¨åˆ†ï¼‰ï¼Œæ‰€ä»¥è¦åœ¨æŒ‰ä¸‹ç”µæºé”®åé©¬ä¸ŠæŒ‰<span class="heti-skip"><span class="heti-spacing"> </span>F2<span class="heti-spacing"> </span></span>æ‰èƒ½è¿›å…¥<span><span class="heti-spacing"> </span>BIOS</span><ul>
<li>è€Œä¸”é‚£ä¸ª<span class="heti-skip"><span class="heti-spacing"> </span>FnLock<span class="heti-spacing"> </span></span>åœ¨è¿™ä¸ªæ—¶å€™æœ‰æ²¡æœ‰ç”¨ä¸æ¸…æ¥šï¼Œ<span>Fn+F2<span class="heti-spacing"> </span></span>ä¸è¡Œå°±å•ç‹¬<span><span class="heti-spacing"> </span>F2</span></li>
</ul>
</li>
<li>æˆ‘è¿™å°çš„<span class="heti-skip"><span class="heti-spacing"> </span>BIOS<span class="heti-spacing"> </span></span>ç•Œé¢æ˜¯â€œä¼˜åŒ–â€è¿‡çš„ï¼Œä¸æ˜¯è€å¼é‚£ç§è“ç°ç•Œé¢ï¼Œç”šè‡³å¯åŠ¨é¡¹é‡Œæ‰¾ä¸åˆ°<span><span class="heti-spacing"> </span>USB</span>ï¼Œä¸èƒ½é€šè¿‡è¿™ç§æ–¹å¼å¯åŠ¨<ul>
<li>æ­£ç¡®æ“ä½œæ˜¯åœ¨å…³æœºæƒ…å†µä¸‹ç›´æ¥æŒ‰<span class="heti-skip"><span class="heti-spacing"> </span>F12<span class="heti-spacing"> </span></span>å³ä¾§çš„â€œäº”è§’æ˜Ÿ<span><span class="heti-spacing"> </span>S</span>â€ç‰¹æ®ŠåŠŸèƒ½é”®ï¼Œä¾¿ä¼šå‡ºç°é¡µé¢ç›´æ¥é€‰æ‹©è¿›å…¥<span class="heti-skip"><span class="heti-spacing"> </span>BIOS<span class="heti-spacing"> </span></span>è¿˜æ˜¯é€‰æ‹©å¯åŠ¨æ–¹å¼ï¼Œè¿™é‡Œå°±æœ‰<span class="heti-skip"><span class="heti-spacing"> </span>USB<span class="heti-spacing"> </span></span>äº†</li>
</ul>
</li>
</ul>
<p>å…³äº<span class="heti-skip"><span class="heti-spacing"> </span>Ubuntu<span class="heti-spacing"> </span></span>çš„é…ç½®ï¼Œæˆ‘çš„æµç¨‹å¤§æ¦‚å°±æ˜¯ï¼š</p>
<ul>
<li>å®‰è£…ä¸€ç³»åˆ—å­—ä½“ï¼Œæ”¹å£çº¸</li>
<li>è£…<span class="heti-skip"><span class="heti-spacing"> </span>gnome tweaks<span class="heti-spacing"> </span></span>è°ƒç³»ç»Ÿå­—ä½“å’Œçª—å£ä¸‰ä¸ªæŒ‰é’®ï¼ˆå…³é—­éšè—æœ€å¤§åŒ–ï¼‰è°ƒåˆ°å·¦ä¸Šè§’</li>
<li>æ¢<span><span class="heti-spacing"> </span>zsh</span>ï¼Œè£…<span><span class="heti-spacing"> </span>oh-my-zsh</span>ã€<span>powerlevel10k<span class="heti-spacing"> </span></span>ä¸»é¢˜ä»¥åŠæ’ä»¶ï¼Œæ·»åŠ <span class="heti-skip"><span class="heti-spacing"> </span>vim<span class="heti-spacing"> </span></span>é…ç½®</li>
<li>è£…ä¸€äº›å‘½ä»¤è¡Œå¸¸ç”¨çš„å·¥å…·</li>
<li>è£…ä¸­æ–‡è¾“å…¥æ³•</li>
<li>è£…<span><span class="heti-spacing"> </span>V2rayN</span>ï¼Œ<del>åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>FireFox<span class="heti-spacing"> </span></span>ä¸Šç”¨<span class="heti-skip"><span class="heti-spacing"> </span>Bing<span class="heti-spacing"> </span></span>æœç´¢</del>å®‰è£…<span><span class="heti-spacing"> </span>Chrome</span>ï¼Œå®‰è£…<span><span class="heti-spacing"> </span>vscode</span>ï¼Œå¹¶åŒæ­¥è®¾ç½®</li>
</ul>
<p>å‡ ä¸ª<span class="heti-skip"><span class="heti-spacing"> </span>Ubuntu<span class="heti-spacing"> </span></span>ä¸Šè¿˜æ²¡æå¥½çš„é—®é¢˜ï¼š</p>
<ul>
<li>æƒ³è¦ç¦ç”¨<span class="heti-skip"><span class="heti-spacing"> </span>Logi MX Master 2S<span class="heti-spacing"> </span></span>é¼ æ ‡çš„æ— é™æ»šåŠ¨ï¼Œä½†æ²¡æœ‰<span><span class="heti-spacing"> </span>Options</span>ï¼Œç½‘ä¼ çš„<span class="heti-skip"><span class="heti-spacing"> </span>Solaar<span class="heti-spacing"> </span></span>å·¥å…·é‡Œä¹Ÿæ‰¾ä¸åˆ°è¿™ä¸€è®¾ç½®</li>
<li>æƒ³è¦ä¿®æ”¹<span class="heti-skip"><span class="heti-spacing"> </span>CapsLk<span class="heti-spacing"> </span></span>çš„è¡Œä¸ºåˆ°ä¸<span class="heti-skip"><span class="heti-spacing"> </span>mac<span class="heti-spacing"> </span></span>ä¸€è‡´ï¼Œ<span>win<span class="heti-spacing"> </span></span>ä¸Šæœ‰<span class="heti-skip"><span class="heti-spacing"> </span>AutoHotkey<span class="heti-spacing"> </span></span>å¯ä»¥ç”¨ï¼Œ<span>Linux<span class="heti-spacing"> </span></span>ä¸Šæ²¡æ‰¾åˆ°å¥½ç”¨çš„æ›¿ä»£<ul>
<li>å…¶å®<span class="heti-skip"><span class="heti-spacing"> </span>tweaks<span class="heti-spacing"> </span></span>é‡Œæœ‰è®¾ç½®å¯ä»¥æ›´æ”¹<span class="heti-skip"><span class="heti-spacing"> </span>CapsLk<span class="heti-spacing"> </span></span>çš„è¡Œä¸ºï¼Œä½†æ˜¯è²Œä¼¼æ²¡æœ‰æ•ˆæœï¼Œå¤§æ¦‚æ˜¯ä¸ª<span><span class="heti-spacing"> </span>bug</span>ï¼Œå¯ä»¥æœåˆ°ç±»ä¼¼<span class="heti-skip"><span class="heti-spacing"> </span>bug<span class="heti-spacing"> </span></span>ä½†æ²¡çœ‹åˆ°è§£å†³åŠæ³•</li>
</ul>
</li>
</ul>
<p>åæ­£é¼“æ£äº†åŠå¤©å°±èƒ½ç”¨å°±è¡Œäº†ã€‚</p>
<h3 id="git">å®éªŒä»£ç <span class="heti-skip"><span class="heti-spacing"> </span>git<span class="heti-spacing"> </span></span>è·Ÿè¸ª<a class="headerlink" href="#git" title="Permanent link"><span><span class="heti-spacing"> </span>Â¶</span></a></h3>
<p>æ•´å¥—å®éªŒä»£ç æœ‰ä¸€ä¸ªå¾ˆæœ‰è¶£å¾ˆç¥å¥‡çš„åŠŸèƒ½ï¼Œå°±æ˜¯åœ¨æ¯æ¬¡ç¼–è¯‘ã€è¿è¡Œçš„æ—¶å€™éƒ½ä¼šè‡ªåŠ¨æäº¤ä¿®æ”¹ï¼Œå¹¶ç”Ÿæˆä¸€æ¡<span><span class="heti-spacing"> </span>commit</span>ã€‚<span>PA<span class="heti-spacing"> </span></span>ä¸­ç§°ä¹‹ä¸ºâ€œå¼€å‘è·Ÿè¸ªâ€ï¼Œé€šè¿‡è¿™ä¸ªæ‰‹æ®µæ¥è®°å½•å®éªŒæµç¨‹ï¼Œå¹¶æ£€æŸ¥æ˜¯å¦å­˜åœ¨ä½œå¼Šè¡Œä¸ºã€‚</p>
<p>è¿™ä¸€åŠŸèƒ½çš„å®ç°å¾—ç›Šäºæ•´ä¸ªæ¡†æ¶éƒ½ä½¿ç”¨æä¾›å¥½çš„<span><span class="heti-spacing"> </span>Makefile</span>ï¼Œä¸”ç¼–è¯‘è¿è¡Œéƒ½é€šè¿‡<span class="heti-skip"><span class="heti-spacing"> </span>make<span class="heti-spacing"> </span></span>æ¥è¿›è¡Œã€‚å…¶åŸç†ä¸ºï¼š</p>
<ul>
<li>æ ¹ç›®å½•ä¸‹<span><span class="heti-spacing"> </span>Makefile</span>ï¼š
    <div class="highlight"><pre><span></span><code><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="nv">STUID</span> <span class="o">=</span> ...
<a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="nv">STUNAME</span> <span class="o">=</span> ...
<a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a>
<a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="nv">GITFLAGS</span> <span class="o">=</span> -q --author<span class="o">=</span><span class="s1">'tracer-ics2022 &lt;tracer@njuics.org&gt;'</span> --no-verify --allow-empty
<a href="#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a>
<a href="#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="cp">define git_commit</span>
<a href="#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a>    -@git add <span class="k">$(</span>NEMU_HOME<span class="k">)</span>/.. -A --ignore-errors
<a href="#__codelineno-0-8" id="__codelineno-0-8" name="__codelineno-0-8"></a>    -@while <span class="o">(</span><span class="nb">test</span> -e .git/index.lock<span class="o">)</span><span class="p">;</span> <span class="k">do</span> sleep <span class="m">0</span>.1<span class="p">;</span> <span class="k">done</span>
<a href="#__codelineno-0-9" id="__codelineno-0-9" name="__codelineno-0-9"></a>    -@<span class="o">(</span><span class="nb">echo</span> <span class="s2">"&gt; </span><span class="k">$(</span><span class="m">1</span><span class="k">)</span><span class="s2">"</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="k">$(</span>STUID<span class="k">)</span> <span class="k">$(</span>STUNAME<span class="k">)</span> <span class="o">&amp;&amp;</span> uname -a <span class="o">&amp;&amp;</span> uptime<span class="o">)</span> <span class="p">|</span> git commit -F - <span class="k">$(</span>GITFLAGS<span class="k">)</span>
<a href="#__codelineno-0-10" id="__codelineno-0-10" name="__codelineno-0-10"></a>    -@sync
<a href="#__codelineno-0-11" id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="cp">endef</span>
</code></pre></div><ul>
<li>å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°<span><span class="heti-spacing"> </span>git_commit</span><ul>
<li><span>add<span class="heti-spacing"> </span></span>æ‰€æœ‰å†…å®¹ï¼ˆ<span>NEMU_HOME/..<span class="heti-spacing"> </span></span>å³ä¸ºå®éªŒæ ¹ç›®å½•ï¼‰å¹¶ç¡®ä¿å®Œæˆ</li>
<li>å°†å‚æ•°ã€å­¦å·å§“åã€ç³»ç»Ÿä¿¡æ¯ä½œä¸º<span class="heti-skip"><span class="heti-spacing"> </span>commit message<span class="heti-spacing"> </span></span>è¿›è¡Œ<span><span class="heti-spacing"> </span>commit</span>ï¼Œ<span>author<span class="heti-spacing"> </span></span>åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>GITFLAGS<span class="heti-spacing"> </span></span>ä¸­æŒ‡å®š</li>
</ul>
</li>
</ul>
</li>
<li><span>NEMU<span class="heti-spacing"> </span></span>çš„ç›¸å…³<span><span class="heti-spacing"> </span>Makefile</span>ï¼š
    <div class="highlight"><pre><span></span><code><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="cp">-include $(NEMU_HOME)/../Makefile</span>
<a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a>
<a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="nf">compile_git</span><span class="o">:</span> 
<a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a>    <span class="k">$(</span>call git_commit, <span class="s2">"compile NEMU"</span><span class="k">)</span>
<a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="nf">$(BINARY)</span><span class="o">:</span> <span class="n">compile_git</span>
<a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a>
<a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="nf">run-env</span><span class="o">:</span> <span class="k">$(</span><span class="nv">BINARY</span><span class="k">)</span> <span class="k">$(</span><span class="nv">DIFF_REF_SO</span><span class="k">)</span>
<a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="nf">run</span><span class="o">:</span> <span class="n">run</span>-<span class="n">env</span>
<a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a>    <span class="k">$(</span>call git_commit, <span class="s2">"run NEMU"</span><span class="k">)</span>
<a href="#__codelineno-1-10" id="__codelineno-1-10" name="__codelineno-1-10"></a>    <span class="k">$(</span>NEMU_EXEC<span class="k">)</span>
<a href="#__codelineno-1-11" id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="nf">gdb</span><span class="o">:</span> <span class="n">run</span>-<span class="n">env</span>
<a href="#__codelineno-1-12" id="__codelineno-1-12" name="__codelineno-1-12"></a>    <span class="k">$(</span>call git_commit, <span class="s2">"gdb NEMU"</span><span class="k">)</span>
<a href="#__codelineno-1-13" id="__codelineno-1-13" name="__codelineno-1-13"></a>    gdb -s <span class="k">$(</span>BINARY<span class="k">)</span> --args <span class="k">$(</span>NEMU_EXEC<span class="k">)</span>
</code></pre></div><ul>
<li>å¯¼å…¥äº†å‰é¢çš„<span><span class="heti-spacing"> </span>Makefile</span></li>
<li>ç¼–è¯‘æ—¶æ·»åŠ äº†ä¾èµ–<span><span class="heti-spacing"> </span>compile_git</span>ï¼Œå…¶ä¸­ä¼šè°ƒç”¨<span class="heti-skip"><span class="heti-spacing"> </span>git_commit<span class="heti-spacing"> </span></span>å‡½æ•°è¿›è¡Œ<span><span class="heti-spacing"> </span>commit</span>ï¼Œ<span>msg<span class="heti-spacing"> </span></span>å¼€å¤´ä¸ºå‚æ•°<span><span class="heti-spacing"> </span>compile NEMU</span></li>
<li>å¯¹äº<span class="heti-skip"><span class="heti-spacing"> </span>run<span class="heti-spacing"> </span></span>å’Œ<span><span class="heti-spacing"> </span>gdb</span>ï¼Œåœ¨ç¼–è¯‘åã€è¿è¡Œå‰è¿˜ä¼šå¤šåŠ ä¸€æ¡<span class="heti-skip"><span class="heti-spacing"> </span>run NEMU<span class="heti-spacing"> </span></span>æˆ–<span class="heti-skip"><span class="heti-spacing"> </span>gdb NEMU<span class="heti-spacing"> </span></span>çš„ç©º<span class="heti-skip"><span class="heti-spacing"> </span>commit msg<span class="heti-spacing"> </span></span>ä½œä¸ºè®°å½•</li>
</ul>
</li>
</ul>
<p>ç”±äºå®éªŒä»å¤´åˆ°å°¾éƒ½è·‘åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>NEMU<span class="heti-spacing"> </span></span>ä¸Šï¼ˆ<span>native<span class="heti-spacing"> </span></span>æµ‹è¯•ä¸ç®—ï¼‰ï¼Œæ‰€ä»¥æ¯æ¬¡ä¿®æ”¹ã€è¿è¡Œéƒ½ä¼šç»è¿‡è¿™äº›éƒ¨åˆ†ï¼Œè¿›è¡Œ<span class="heti-skip"><span class="heti-spacing"> </span>commit<span class="heti-spacing"> </span></span>è®°å½•ï¼Œè¾¾åˆ°è‡ªåŠ¨è·Ÿè¸ªçš„ç›®çš„ã€‚</p>
<h2 id="pa1">PA1<a class="headerlink" href="#pa1" title="Permanent link">Â¶</a></h2>
<h3 id="pa11">PA1.1<a class="headerlink" href="#pa11" title="Permanent link">Â¶</a></h3>
<p><span>PA1.1<span class="heti-spacing"> </span></span>å®é™…éœ€è¦å†™çš„éƒ¨åˆ†å¾ˆç®€å•ï¼Œåªè¦è¯»è¯»æºç å°±èƒ½å†™å‡ºæ¥ã€‚åœ¨è¯»æºç çš„æ—¶å€™å‘ç°äº†ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„åº“å‡½æ•°<span><span class="heti-spacing"> </span>getopt_long</span>ã€‚ä¹‹å‰ä¸€ç›´ä»¥ä¸º<span class="heti-skip"><span class="heti-spacing"> </span>C<span class="heti-spacing"> </span></span>è¯­è¨€å‘½ä»¤è¡Œå‚æ•°éƒ½æ˜¯é æ‰‹åŠ¨æå–è§£æçš„ï¼ŒåŸæ¥è¿˜æœ‰ä¸€ä¸ªä¸“é—¨çš„åº“å‡½æ•°ç”¨æ¥å¹²è¿™ä¸ªï¼Œå¤§æ¦‚ä½¿ç”¨æ–¹å¼å°±æ˜¯ï¼š
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;getopt.h&gt;</span><span class="cp"></span>
<a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">parse_args</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">argv</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">option</span><span class="w"> </span><span class="n">table</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="w">        </span><span class="p">{</span><span class="s">"batch"</span><span class="p">,</span><span class="w"> </span><span class="n">no_argument</span><span class="w">      </span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="sc">'b'</span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="w">        </span><span class="p">{</span><span class="s">"log"</span><span class="w">  </span><span class="p">,</span><span class="w"> </span><span class="n">required_argument</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="sc">'l'</span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="w">        </span><span class="p">{</span><span class="s">"help"</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">no_argument</span><span class="w">      </span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="sc">'h'</span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-2-7" id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="w">        </span><span class="p">{</span><span class="mi">0</span><span class="w">      </span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w">                </span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="w"> </span><span class="p">}.</span><span class="w"></span>
<a href="#__codelineno-2-8" id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="w">    </span><span class="p">};</span><span class="w"></span>
<a href="#__codelineno-2-9" id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">o</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-2-10" id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">o</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getopt_long</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">,</span><span class="w"> </span><span class="s">"-bhl:"</span><span class="p">,</span><span class="w"> </span><span class="n">table</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// l åå†’å·è¡¨ç¤ºåé¢éœ€è¦å‚æ•°</span>
<a href="#__codelineno-2-11" id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="w">        </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">o</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-2-12" id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="sc">'b'</span><span class="p">:</span><span class="w"> </span><span class="p">...;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-2-13" id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="sc">'l'</span><span class="p">:</span><span class="w"> </span><span class="n">log_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">optarg</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span><span class="w"> </span><span class="c1">// optarg ä¸ºç­‰å·åçš„å­—ç¬¦ä¸²</span>
<a href="#__codelineno-2-14" id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="p">...;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span><span class="w"> </span><span class="c1">// ç›´æ¥ä¼ å…¥çš„å‚æ•°ï¼Œä¸æ˜¯é€‰é¡¹</span>
<a href="#__codelineno-2-15" id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="w">            </span><span class="k">default</span><span class="o">:</span><span class="w"></span>
<a href="#__codelineno-2-16" id="__codelineno-2-16" name="__codelineno-2-16"></a><span class="w">                </span><span class="c1">// print help message</span>
<a href="#__codelineno-2-17" id="__codelineno-2-17" name="__codelineno-2-17"></a><span class="w">                </span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-2-18" id="__codelineno-2-18" name="__codelineno-2-18"></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-2-19" id="__codelineno-2-19" name="__codelineno-2-19"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-2-20" id="__codelineno-2-20" name="__codelineno-2-20"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-2-21" id="__codelineno-2-21" name="__codelineno-2-21"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>å‰©ä¸‹çš„<span class="heti-skip"><span class="heti-spacing"> </span>PA1<span class="heti-spacing"> </span></span>å¥½åƒä¹Ÿæ²¡ä»€ä¹ˆå¥½è®°çš„äº†ã€‚è¡¨è¾¾å¼æ±‚å€¼å’Œç›‘è§†ç‚¹éƒ½è¿˜ç®—å¥½å†™ã€‚</p>
<h2 id="pa2">PA2<a class="headerlink" href="#pa2" title="Permanent link">Â¶</a></h2>
<h3 id="pa21">PA2.1<a class="headerlink" href="#pa21" title="Permanent link">Â¶</a></h3>
<p>è¿™éƒ¨åˆ†æ˜¯å®Œå–„<span class="heti-skip"><span class="heti-spacing"> </span>NEMU<span class="heti-spacing"> </span></span>çš„è¯‘ç ã€æ‰§è¡Œè¿‡ç¨‹ã€‚è¿™ä¸ªéƒ¨åˆ†åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>ics2022<span class="heti-spacing"> </span></span>ç‰ˆçš„<span class="heti-skip"><span class="heti-spacing"> </span>PA<span class="heti-spacing"> </span></span>ä¸­å†™çš„å¾ˆç¥å¥‡ï¼Œè®©<span class="heti-skip"><span class="heti-spacing"> </span>riscv<span class="heti-spacing"> </span></span>çš„è¯‘ç å†™èµ·æ¥æ›´æ¸…æ™°ç®€æ´ã€‚å…·ä½“æ¥è¯´éƒ½æ˜¯é€šè¿‡å®æ¥å®ç°çš„ã€‚</p>
<p>å…·ä½“æ¥è®²å°±æ˜¯å®šä¹‰äº†è¿™ä¹ˆå‡ ä¸ªå®<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>å‡½æ•°ï¼š
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="n">__attribute__</span><span class="p">((</span><span class="n">always_inline</span><span class="p">))</span><span class="w"></span>
<a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="k">static</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">pattern_decode</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">    </span><span class="kt">uint64_t</span><span class="w"> </span><span class="o">*</span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="o">*</span><span class="n">mask</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="o">*</span><span class="n">shift</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">  </span><span class="p">...</span><span class="w"> </span><span class="c1">// ä» str ä¸­è§£æå‡º key, mask, shift</span>
<a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">      </span><span class="c1">// å¯¹åº”ä½å¦‚æœæ˜¯ 1 åˆ™ key è¯¥ä½ä¸º 1ï¼Œå¦‚æœæ˜¯ ? åˆ™ mask è¯¥ä½ä¸º 0</span>
<a href="#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">      </span><span class="c1">// æœ€ç»ˆæ•ˆæœä¸ºåŒ¹é…ä¸Šçš„æŒ‡ä»¤ (inst &gt;&gt; shift) &amp; mask == key</span>
<a href="#__codelineno-3-7" id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-3-8" id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="cp">#define INSTPAT_START(name) { const void ** __instpat_end = &amp;&amp;concat(__instpat_end_, name); </span>
<a href="#__codelineno-3-9" id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="cp">#define INSTPAT_END(name) concat(__instpat_end_, name): ; }</span>
<a href="#__codelineno-3-10" id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="cp">#define INSTPAT_INST(s) ((s)-&gt;isa.instr.val)</span>
<a href="#__codelineno-3-11" id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="cp">#define INSTPAT_MATCH(s, name, type, ... </span><span class="cm">/* execute body */</span><span class="cp">) { \</span>
<a href="#__codelineno-3-12" id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="cp">    decode_operand(s, &amp;dest, &amp;src1, &amp;src2, &amp;imm, concat(TYPE_, type)); \</span>
<a href="#__codelineno-3-13" id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="cp">    __VA_ARGS__; \</span>
<a href="#__codelineno-3-14" id="__codelineno-3-14" name="__codelineno-3-14"></a><span class="cp">}</span>
<a href="#__codelineno-3-15" id="__codelineno-3-15" name="__codelineno-3-15"></a><span class="cp">#define INSTPAT(pattern, ...) do { \</span>
<a href="#__codelineno-3-16" id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="cp">    uint64_t key, mask, shift; \</span>
<a href="#__codelineno-3-17" id="__codelineno-3-17" name="__codelineno-3-17"></a><span class="cp">    pattern_decode(pattern, STRLEN(pattern), &amp;key, &amp;mask, &amp;shift); \</span>
<a href="#__codelineno-3-18" id="__codelineno-3-18" name="__codelineno-3-18"></a><span class="cp">    if ((((uint64_t)INSTPAT_INST(s) &gt;&gt; shift) &amp; mask) == key) { \</span>
<a href="#__codelineno-3-19" id="__codelineno-3-19" name="__codelineno-3-19"></a><span class="cp">        INSTPAT_MATCH(s, ##__VA_ARGS__); \</span>
<a href="#__codelineno-3-20" id="__codelineno-3-20" name="__codelineno-3-20"></a><span class="cp">        goto *(__instpat_end); \</span>
<a href="#__codelineno-3-21" id="__codelineno-3-21" name="__codelineno-3-21"></a><span class="cp">    } \</span>
<a href="#__codelineno-3-22" id="__codelineno-3-22" name="__codelineno-3-22"></a><span class="cp">} while (0)</span>
</code></pre></div>
<p>ç„¶åæ˜¯ä¸¤ä¸ªå‡½æ•°ï¼Œä¸€ä¸ªç”¨æ¥æ ¹æ®ç±»å‹è§£ç æ“ä½œæ•°ï¼Œä¸€ä¸ªç”¨æ¥è§£ç æŒ‡ä»¤ï¼ˆåŒ…æ‹¬è¯‘ç å’Œæ‰§è¡Œï¼‰ï¼š</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">decode_operand</span><span class="p">(</span><span class="n">Decode</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="n">word_t</span><span class="w"> </span><span class="o">*</span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">word_t</span><span class="w"> </span><span class="o">*</span><span class="n">src2</span><span class="p">,</span><span class="w"> </span><span class="n">word_t</span><span class="w"> </span><span class="o">*</span><span class="n">imm</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="o">-&gt;</span><span class="n">isa</span><span class="p">.</span><span class="n">instr</span><span class="p">.</span><span class="n">val</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">rd</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">BITS</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-4-4" id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">rs1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BITS</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-4-5" id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">rs2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BITS</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-4-6" id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">    </span><span class="o">*</span><span class="n">dest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rd</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-4-7" id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-4-8" id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">TYPE_I</span><span class="p">:</span><span class="w"> </span><span class="n">src1R</span><span class="p">();</span><span class="w">          </span><span class="n">immI</span><span class="p">();</span><span class="w"> </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-4-9" id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">TYPE_U</span><span class="p">:</span><span class="w">                   </span><span class="n">immU</span><span class="p">();</span><span class="w"> </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-4-10" id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">TYPE_S</span><span class="p">:</span><span class="w"> </span><span class="n">src1R</span><span class="p">();</span><span class="w"> </span><span class="n">src2R</span><span class="p">();</span><span class="w"> </span><span class="n">immS</span><span class="p">();</span><span class="w"> </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-4-11" id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">TYPE_R</span><span class="p">:</span><span class="w"> </span><span class="n">src1R</span><span class="p">();</span><span class="w"> </span><span class="n">src2R</span><span class="p">();</span><span class="w">         </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-4-12" id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">TYPE_B</span><span class="p">:</span><span class="w"> </span><span class="n">src1R</span><span class="p">();</span><span class="w"> </span><span class="n">src2R</span><span class="p">();</span><span class="w"> </span><span class="n">immB</span><span class="p">();</span><span class="w"> </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-4-13" id="__codelineno-4-13" name="__codelineno-4-13"></a><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">TYPE_J</span><span class="p">:</span><span class="w">                   </span><span class="n">immJ</span><span class="p">();</span><span class="w"> </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-4-14" id="__codelineno-4-14" name="__codelineno-4-14"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-4-15" id="__codelineno-4-15" name="__codelineno-4-15"></a><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-4-16" id="__codelineno-4-16" name="__codelineno-4-16"></a>
<a href="#__codelineno-4-17" id="__codelineno-4-17" name="__codelineno-4-17"></a><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">decode_exec</span><span class="p">(</span><span class="n">Decode</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-4-18" id="__codelineno-4-18" name="__codelineno-4-18"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">dest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-4-19" id="__codelineno-4-19" name="__codelineno-4-19"></a><span class="w">    </span><span class="n">word_t</span><span class="w"> </span><span class="n">src1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">imm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-4-20" id="__codelineno-4-20" name="__codelineno-4-20"></a><span class="w">    </span><span class="n">s</span><span class="o">-&gt;</span><span class="n">dnpc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="o">-&gt;</span><span class="n">snpc</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-4-21" id="__codelineno-4-21" name="__codelineno-4-21"></a><span class="w">    </span><span class="n">INSTPAT_START</span><span class="p">();</span><span class="w"></span>
<a href="#__codelineno-4-22" id="__codelineno-4-22" name="__codelineno-4-22"></a><span class="w">    </span><span class="n">INSTPAT</span><span class="p">(</span><span class="s">"0000000 ????? ????? 000 ????? 01100 11"</span><span class="p">,</span><span class="w"> </span><span class="n">add</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="p">,</span><span class="w"> </span><span class="n">Reg</span><span class="p">(</span><span class="n">dest</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">src1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-4-23" id="__codelineno-4-23" name="__codelineno-4-23"></a><span class="w">    </span><span class="p">...</span><span class="w"></span>
<a href="#__codelineno-4-24" id="__codelineno-4-24" name="__codelineno-4-24"></a><span class="w">    </span><span class="n">INSTPAT_END</span><span class="p">();</span><span class="w"></span>
<a href="#__codelineno-4-25" id="__codelineno-4-25" name="__codelineno-4-25"></a><span class="w">    </span><span class="n">Reg</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-4-26" id="__codelineno-4-26" name="__codelineno-4-26"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-4-27" id="__codelineno-4-27" name="__codelineno-4-27"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<ul>
<li><span>INSTPAT_START<span class="heti-spacing"> </span></span>å’Œ<span class="heti-skip"><span class="heti-spacing"> </span>INSTPAT_END<span class="heti-spacing"> </span></span>ä¸¤ä¸ªå®æ„æˆäº†ä¸€ç»„å¤§æ‹¬å·ï¼Œåœ¨æœ«å°¾åˆ›å»ºäº†ä¸€ä¸ªæ ‡å·ï¼Œå¹¶åœ¨å¼€å¤´è·å–äº†å…¶åœ°å€</li>
<li><span>INSTPAT<span class="heti-spacing"> </span></span>å®å±•å¼€åé¦–å…ˆé€šè¿‡<span class="heti-skip"><span class="heti-spacing"> </span>pattern_decode<span class="heti-spacing"> </span></span>è·å–<span><span class="heti-spacing"> </span>key mask shift</span>ï¼Œç„¶åé€šè¿‡<span class="heti-skip"><span class="heti-spacing"> </span>INSTPAT_INST<span class="heti-spacing"> </span></span>è·å–æŒ‡ä»¤å€¼å¹¶æ£€æµ‹æ˜¯å¦åŒ¹é…</li>
<li>å¦‚æœåŒ¹é…åˆ™è¿›å…¥<span class="heti-skip"><span class="heti-spacing"> </span>INSTPAT_MATCH<span class="heti-spacing"> </span></span>å®ä¸­ï¼Œç„¶å<span class="heti-skip"><span class="heti-spacing"> </span>goto<span class="heti-spacing"> </span></span>åˆ°ç»“å°¾æ ‡å·ç»“æŸå½“å‰æŒ‡ä»¤<ul>
<li><span>INSTPAT_MATCH<span class="heti-spacing"> </span></span>å®ä¸­é¦–å…ˆè°ƒç”¨<span class="heti-skip"><span class="heti-spacing"> </span>decode_operand<span class="heti-spacing"> </span></span>å‡½æ•°ï¼Œæ ¹æ®ä¼ å…¥çš„æŒ‡ä»¤ç±»å‹æå–å¯¹åº”çš„æ“ä½œæ•°åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>decode_exec<span class="heti-spacing"> </span></span>çš„å±€éƒ¨å˜é‡ä¸­</li>
<li>ç„¶å<span class="heti-skip"><span class="heti-spacing"> </span>__VA_ARGS__<span class="heti-spacing"> </span></span>å°†æœ€åä¸€ä¸ªå‚æ•°å±•å¼€å¹¶æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯æŒ‡ä»¤çš„æ‰§è¡Œéƒ¨åˆ†</li>
<li>é€šè¿‡<span class="heti-skip"><span class="heti-spacing"> </span>Reg<span class="heti-spacing"> </span></span>å®å³å¯è®¿é—®è¯»å†™å¯„å­˜å™¨</li>
</ul>
</li>
</ul>
<p>æ•´ä½“çœ‹æ¥è¿™ä¸ªè®¾è®¡æ˜¯éå¸¸å·§å¦™çš„ï¼Œè™½ç„¶å®çœ‹èµ·æ¥æ¯”è¾ƒå¤æ‚éš¾æ‡‚ï¼Œä½†æœ€ç»ˆå®é™…ä¸Šè¦åŠ çš„å°±æ˜¯é’ˆå¯¹æ¯ä¸€ç§æŒ‡ä»¤å¢åŠ <span class="heti-skip"><span class="heti-spacing"> </span>INSTPAT<span class="heti-spacing"> </span></span>ä¸€è¡Œçš„å†…å®¹ï¼Œè€Œä¸”æŒ‡ä»¤åã€ç±»å‹ã€ä½œç”¨éƒ½æ¸…æ™°çš„ä½“ç°åœ¨ä¸€è¡Œè¯­å¥ä¸­äº†ã€‚ç¼ºç‚¹å¤§æ¦‚æ˜¯ä¸€æ¡æŒ‡ä»¤æœ‰å¤šç§æ•ˆæœçš„æ—¶å€™ï¼ˆä¾‹å¦‚<span class="heti-skip"><span class="heti-spacing"> </span>ecall mret csr<span class="heti-spacing"> </span></span>æŒ‡ä»¤ç­‰ï¼‰æŒ¤åœ¨ä¸€èµ·çœ‹èµ·æ¥ä¸å¤ªä¼˜ç¾ï¼ˆ</p>
<p>æœ‰äº†ä¹‹å‰ç³»ç»Ÿå®éªŒæ—¶è¯»<span class="heti-skip"><span class="heti-spacing"> </span>RISC-V<span class="heti-spacing"> </span></span>çš„åŸºç¡€ï¼Œå¯¹ç€<a href="/cs/pl/riscv/unprivileged/"><span class="heti-skip"><span class="heti-spacing"> </span>RISC-V<span class="heti-spacing"> </span></span>éç‰¹æƒçº§<span class="heti-skip"><span class="heti-spacing"> </span>ISA<span class="heti-spacing"> </span></span></a>é¡µé¢ä¸€æ¡æ¡æŒ‡ä»¤æŠ„åœ¨é‡Œé¢å°±å¯ä»¥äº†ã€‚å®é™…è¿è¡Œèµ·æ¥æ‰å‘ç°è¿˜æœ‰<span class="heti-skip"><span class="heti-spacing"> </span>RV32M<span class="heti-spacing"> </span></span>çš„æ‰©å±•ï¼Œå‡ ä¸ªæŒ‡ä»¤ä¹Ÿéœ€è¦å®ç°ä¸€ä¸‹ï¼Œåç»­å†è¡¥å……åˆ°é‚£ä¸ªé¡µé¢ã€‚</p>
<p>è¿™éƒ¨åˆ†éœ€è¦æ³¨æ„çš„åœ°æ–¹å°±æ˜¯å…³äºå‡ ä¸ª<span class="heti-skip"><span class="heti-spacing"> </span>M<span class="heti-spacing"> </span></span>æ‰©å±•æŒ‡ä»¤çš„æ“ä½œæ•°ç±»å‹å¼ºè½¬ã€æº¢å‡ºã€é™¤é›¶å¤„ç†ç­‰äº†ã€‚</p>
<h3 id="pa22">PA2.2<a class="headerlink" href="#pa22" title="Permanent link">Â¶</a></h3>
<p><span>PA2.2<span class="heti-spacing"> </span></span>å‰åŠéƒ¨åˆ†åœ¨å®ç°ä¸€äº›åº“å‡½æ•°å†…å®¹ï¼ŒåŒ…æ‹¬<span class="heti-skip"><span class="heti-spacing"> </span>string.h<span class="heti-spacing"> </span></span>çš„ä¸€äº›å‡½æ•°ï¼ˆå®ç°<span class="heti-skip"><span class="heti-spacing"> </span>memcpy<span class="heti-spacing"> </span></span>çš„æ—¶å€™å‡ºç°äº†ä¸€ä¸ªæ½œåœ¨<span><span class="heti-spacing"> </span>bug</span>ï¼Œåé¢<span class="heti-skip"><span class="heti-spacing"> </span>PA3.3<span class="heti-spacing"> </span></span>å†è¯´ï¼‰ï¼Œä»¥åŠ<span class="heti-skip"><span class="heti-spacing"> </span>stdio.h<span class="heti-spacing"> </span></span>çš„<span class="heti-skip"><span class="heti-spacing"> </span>sprintf<span class="heti-spacing"> </span></span>å‡½æ•°ï¼Œåé¢<span class="heti-skip"><span class="heti-spacing"> </span>PA2.3<span class="heti-spacing"> </span></span>ç»“åˆä¸²å£è®¾å¤‡å®ç°<span class="heti-skip"><span class="heti-spacing"> </span>printf<span class="heti-spacing"> </span></span>å‡½æ•°ï¼Œè¿™é‡Œæ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>PA<span class="heti-spacing"> </span></span>ä»¥æ¥ç¬¬ä¸€æ¬¡ç—›è‹¦è°ƒè¯•ï¼Œæ”¾åœ¨åé¢å†™ã€‚</p>
<p>é™¤äº†è¿™äº›ï¼ŒååŠéƒ¨åˆ†å®ç°å„ç§<span class="heti-skip"><span class="heti-spacing"> </span>trace<span class="heti-spacing"> </span></span>ä¹Ÿæ²¡ä»€ä¹ˆéš¾åº¦ï¼Œè¿™é‡Œæˆ‘æŠŠå®ƒä»¬éƒ½ç†è§£ä¸ºäº†é€šè¿‡<span class="heti-skip"><span class="heti-spacing"> </span>sdb<span class="heti-spacing"> </span></span>å‘½ä»¤è¾“å‡º<span><span class="heti-spacing"> </span>trace</span>ï¼Œå®é™…ä¸Šç›´æ¥<span class="heti-skip"><span class="heti-spacing"> </span>Log<span class="heti-spacing"> </span></span>å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹å¼ï¼Œä¸éœ€è¦æé‚£ä¹ˆå¤æ‚ã€‚ç„¶åå°±æ˜¯<span><span class="heti-spacing"> </span>difftest</span>ã€‚</p>
<p>åŸå…ˆå¬åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>difftest<span class="heti-spacing"> </span></span>æˆ‘è¿˜ä»¥ä¸ºæ˜¯ä»€ä¹ˆé«˜æ·±çš„æŠ€æœ¯ï¼Œä»”ç»†ä¸€çœ‹åŸæ¥å°±æ˜¯â€œå¯¹æ‹â€ï¼Œç”¨è‡ªå·±å®ç°çš„<span class="heti-skip"><span class="heti-spacing"> </span>NEMU<span class="heti-spacing"> </span></span>å’Œæ›´å‡†ç¡®çš„<span class="heti-skip"><span class="heti-spacing"> </span>Spike<span class="heti-spacing"> </span></span>åœ¨æ¯æ¡æŒ‡ä»¤è¿è¡Œåå¯¹å¯„å­˜å™¨çš„å€¼è¿›è¡Œå¯¹æ¯”ï¼Œç¡®ä¿æŒ‡ä»¤çš„æ‰§è¡Œæ²¡æœ‰é”™è¯¯ã€‚çœ‹ä¸€çœ‹æºç å…¶å®ä¹Ÿæ˜¯å¾ˆæ¸…æ™°çš„ã€‚åœ¨è°ƒè¯•çš„æ—¶å€™ä¹Ÿä¸€ç›´å¼€ç€<span><span class="heti-spacing"> </span>difftest</span>ï¼Œæ²¡å‡ºç°è¿‡ä»€ä¹ˆé—®é¢˜ï¼Œç›´åˆ°åé¢åŠ ä¸Šå¼‚å¸¸å¤„ç†ä¹‹åå¸®æˆ‘æ•æ‰åˆ°äº†å‡ ä¸ªé¢å¤–çš„å¼‚å¸¸ï¼Œåé¢å†è¯´ã€‚</p>
<h3 id="pa23">PA2.3<a class="headerlink" href="#pa23" title="Permanent link">Â¶</a></h3>
<p><span>RISC-V<span class="heti-spacing"> </span></span>é€šè¿‡<span class="heti-skip"><span class="heti-spacing"> </span>MMIO<span class="heti-spacing"> </span></span>æ¥å®ç°è®¾å¤‡é€šä¿¡ã€‚åŸç†å¤§æ¦‚å°±æ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>NEMU<span class="heti-spacing"> </span></span>ä¸­å„ä¸ªè®¾å¤‡åˆ†åˆ«åˆ›å»ºä¸€äº›ç©ºé—´ï¼Œç„¶åå°†è¿™äº›ç©ºé—´æ˜ å°„åˆ°æŒ‡å®šçš„åœ°å€ä¸Šï¼Œå¹¶ä¸”æ³¨å†Œä¸€ä¸ª<span class="heti-skip"><span class="heti-spacing"> </span>callback<span class="heti-spacing"> </span></span>å‡½æ•°ã€‚åœ¨è®¿å­˜çš„æ—¶å€™å¦‚æœåœ°å€ä¸è½åœ¨ç‰©ç†åœ°å€èŒƒå›´å†…ï¼Œåˆ™å°è¯•æœç´¢åœ°å€æ˜¯å¦åœ¨æŸä¸€ä¸ªè®¾å¤‡æ˜ å°„çš„ç©ºé—´ä¸­ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œå¯¹äºè¯»å–å…ˆè°ƒç”¨<span><span class="heti-spacing"> </span>callback</span>ï¼Œè¿™æ—¶å¯ä»¥åœ¨å®é™…è¯»å–æ•°æ®ä¹‹å‰æ›´æ–°å€¼ï¼Œå¯¹äºå†™å…¥åˆ™å†™å…¥åè°ƒç”¨<span class="heti-skip"><span class="heti-spacing"> </span>callback<span class="heti-spacing"> </span></span>å‡½æ•°å¤„ç†æ–°çš„å€¼ã€‚</p>
<h4 id="_2">ä¸²å£<a class="headerlink" href="#_2" title="Permanent link"><span><span class="heti-spacing"> </span>Â¶</span></a></h4>
<p>å¯¹äºä¸²å£ï¼Œç›¸åº”ä»£ç å·²ç»æä¾›å¥½äº†ï¼Œ<span>callback<span class="heti-spacing"> </span></span>å‡½æ•°ä¼šè¦æ±‚ä¸€å®šæ˜¯å†™å…¥ï¼Œä¸”å†™å…¥çš„é•¿åº¦ä¸€å®šæ˜¯ä¸€ä¸ªå­—èŠ‚ã€‚æ¥æ”¶åˆ°ä¸€ä¸ªå­—èŠ‚ååˆ™é€šè¿‡<span class="heti-skip"><span class="heti-spacing"> </span>putch<span class="heti-spacing"> </span></span>æ¥è¾“å‡ºã€‚åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>AM<span class="heti-spacing"> </span></span>ä¸­ï¼Œ<span>TRM<span class="heti-spacing"> </span></span>éƒ¨åˆ†å°±æä¾›äº†<span class="heti-skip"><span class="heti-spacing"> </span>putch<span class="heti-spacing"> </span></span>å‡½æ•°ï¼Œå‡½æ•°ä½“å°±åªæœ‰ <code class="highlight"><span class="n">outb</span><span class="p">(</span><span class="n">SERIAL_PORT</span><span class="p">,</span><span class="w"> </span><span class="n">ch</span><span class="p">);</span><span class="w"></span></code> æ¥å‘ä¸²å£åœ°å€å†™å…¥å­—èŠ‚è¿›è¡Œè¾“å‡ºã€‚</p>
<p>æ ¹æ®è¿™ä¸ªåŠŸèƒ½å°±å¯ä»¥å®ç°<span class="heti-skip"><span class="heti-spacing"> </span>printf<span class="heti-spacing"> </span></span>äº†ã€‚ç”±äº<span><span class="heti-spacing"> </span>printf</span>ã€<span>sprintf<span class="heti-spacing"> </span></span>å·¥ä½œåŸç†éƒ½ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºè¾“å‡ºçš„ä½ç½®ï¼Œæ‰€ä»¥å¯ä»¥å°†å…±ç”¨çš„éƒ¨åˆ†æå–å‡ºå•ä¸ªå‡½æ•°<span><span class="heti-spacing"> </span>vprintf</span>ï¼Œå¹¶ä¸”æ¥æ”¶ä¸€ä¸ªå‡½æ•°ç”¨æ¥è¾“å‡ºå•ä¸ªå­—ç¬¦ã€‚ç”±äº<span class="heti-skip"><span class="heti-spacing"> </span>printf<span class="heti-spacing"> </span></span>å‚æ•°ä¸å›ºå®šï¼Œæ‰€ä»¥å°±éœ€è¦ä½¿ç”¨<span class="heti-skip"><span class="heti-spacing"> </span>va_<span class="heti-spacing"> </span></span>ç›¸å…³çš„åŠŸèƒ½äº†ã€‚<span>printf<span class="heti-spacing"> </span></span>å’Œ<span class="heti-skip"><span class="heti-spacing"> </span>sprintf<span class="heti-spacing"> </span></span>æœ¬èº«å°±æ˜¯æ¥æ”¶ä¸€ä¸‹å‚æ•°ç„¶åä¼ ç»™<span><span class="heti-spacing"> </span>vprintf</span>ï¼ˆåœ¨ç³»ç»Ÿå®éªŒé‡Œå­¦æ¥çš„ï¼‰ï¼Œæ‰€ä»¥å®ƒä»¬ä¸¤ä¸ªå†™èµ·æ¥å°±æ˜¯ï¼š
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">printf</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">fmt</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-5-3" id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">    </span><span class="kt">va_list</span><span class="w"> </span><span class="n">ap</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-5-4" id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">    </span><span class="n">va_start</span><span class="p">(</span><span class="n">ap</span><span class="p">,</span><span class="w"> </span><span class="n">fmt</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-5-5" id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">    </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vprintf</span><span class="p">(</span><span class="n">putch</span><span class="p">,</span><span class="w"> </span><span class="n">fmt</span><span class="p">,</span><span class="w"> </span><span class="n">ap</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-5-6" id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">    </span><span class="n">va_end</span><span class="p">(</span><span class="n">ap</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-5-7" id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">res</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-5-8" id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-5-9" id="__codelineno-5-9" name="__codelineno-5-9"></a>
<a href="#__codelineno-5-10" id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="k">static</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">__out</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-5-11" id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="kt">void</span><span class="w"> </span><span class="nf">sputch</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">*</span><span class="n">__out</span><span class="o">++</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-5-12" id="__codelineno-5-12" name="__codelineno-5-12"></a>
<a href="#__codelineno-5-13" id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="kt">int</span><span class="w"> </span><span class="nf">sprintf</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">fmt</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-5-14" id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-5-15" id="__codelineno-5-15" name="__codelineno-5-15"></a><span class="w">    </span><span class="kt">va_list</span><span class="w"> </span><span class="n">ap</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-5-16" id="__codelineno-5-16" name="__codelineno-5-16"></a><span class="w">    </span><span class="n">va_start</span><span class="p">(</span><span class="n">ap</span><span class="p">,</span><span class="w"> </span><span class="n">fmt</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-5-17" id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="w">    </span><span class="n">__out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">out</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-5-18" id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="w">    </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vprintf</span><span class="p">(</span><span class="n">sputch</span><span class="p">,</span><span class="w"> </span><span class="n">fmt</span><span class="p">,</span><span class="w"> </span><span class="n">ap</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-5-19" id="__codelineno-5-19" name="__codelineno-5-19"></a><span class="w">    </span><span class="o">*</span><span class="n">__out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">'\0'</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-5-20" id="__codelineno-5-20" name="__codelineno-5-20"></a><span class="w">    </span><span class="n">va_end</span><span class="p">(</span><span class="n">ap</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-5-21" id="__codelineno-5-21" name="__codelineno-5-21"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">res</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-5-22" id="__codelineno-5-22" name="__codelineno-5-22"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>ä¸»è¦çš„å¤„ç†éƒ½åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>vprintf<span class="heti-spacing"> </span></span>ä¸­ã€‚å½“æ—¶æˆ‘å°±ç›´æ¥æŠ„ç³»ç»ŸäºŒç»™çš„<span class="heti-skip"><span class="heti-spacing"> </span>printf<span class="heti-spacing"> </span></span>ä»£ç äº†ï¼Œæ²¡æƒ³åˆ°è¢«å‘çš„è¶…æƒ¨ï¼Œå…¨æ˜¯<span><span class="heti-spacing"> </span>bug</span>ã€‚ä¸è¿‡ä¸»ä½“æ²¡ä»€ä¹ˆé—®é¢˜ï¼š
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">vprintf</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">putch</span><span class="p">)(</span><span class="kt">char</span><span class="p">),</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">fmt</span><span class="p">,</span><span class="w"> </span><span class="kt">va_list</span><span class="w"> </span><span class="n">ap</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">in_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">longarg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="o">*</span><span class="n">fmt</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">fmt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">in_format</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-6-5" id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">fmt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-6-6" id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="sc">'x'</span><span class="p">:</span><span class="w"> </span><span class="p">...</span><span class="w"></span>
<a href="#__codelineno-6-7" id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="w">                </span><span class="p">...</span><span class="w"></span>
<a href="#__codelineno-6-8" id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="w">            </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-6-9" id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">fmt</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">'%'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-6-10" id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="w">            </span><span class="n">in_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-6-11" id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-6-12" id="__codelineno-6-12" name="__codelineno-6-12"></a><span class="w">            </span><span class="n">putch</span><span class="p">(</span><span class="o">*</span><span class="n">fmt</span><span class="p">);</span><span class="w"> </span><span class="n">pos</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-6-13" id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-6-14" id="__codelineno-6-14" name="__codelineno-6-14"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-6-15" id="__codelineno-6-15" name="__codelineno-6-15"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">pos</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-6-16" id="__codelineno-6-16" name="__codelineno-6-16"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
å½“æ—¶å†™å®Œä¹‹åè·‘èµ·æ¥æ²¡å•¥é—®é¢˜ï¼Œä½†æ˜¯åæ¥å†™æ—¶é’Ÿçš„æ—¶å€™å‘ç°äº†ä¸¤ä¸ªé—®é¢˜ï¼š
<ol>
<li>å¯¹äº<span class="heti-skip"><span class="heti-spacing"> </span>64<span class="heti-spacing"> </span></span>ä½æ•°ï¼Œè¾“å‡ºçš„ç»“æœå¹¶ä¸æ­£ç¡®ï¼Œå¾ˆä¹±ï¼Œå·®åˆ«å¾ˆå¤§</li>
<li>å¯¹äºæ— ç¬¦å·æ•°ï¼Œè¾“å‡ºä¹±ä¸ƒå…«ç³Ÿï¼Œç”šè‡³ä¼šè¾“å‡º<span class="heti-skip"><span class="heti-spacing"> </span>.)/(<span class="heti-spacing"> </span></span>è¿™ç§ä¸€å †ä¹±ç³Ÿçš„å­—ç¬¦</li>
</ol>
<p>é‡æ–°å®¡è§†äº†ä¸€éç³»ç»ŸäºŒçš„ä»£ç ï¼Œå‘ç°å³ä½¿æ˜¯æ— ç¬¦å·è¾“å‡ºï¼Œè™½ç„¶<span class="heti-skip"><span class="heti-spacing"> </span>va_arg<span class="heti-spacing"> </span></span>è·å–å‚æ•°çš„æ—¶å€™éƒ½å†™äº†<span><span class="heti-spacing"> </span>unsigned</span>ï¼Œä½†æœ€åå¾ªç¯è®¡ç®—è¾“å‡ºä½çš„æ—¶å€™ä¸­é—´å˜é‡ä»ç„¶éƒ½æ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>signed<span class="heti-spacing"> </span></span>çš„ï¼Œæ”¹è¿‡æ¥åè¾“å‡ºä¸ä¹±å¥—äº†ï¼Œä½†æ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>64<span class="heti-spacing"> </span></span>ä½è¾“å‡ºä»ç„¶æœ‰é—®é¢˜ã€‚</p>
<p>æˆ‘ç”šè‡³è¿˜çœ‹äº†æ±‡ç¼–ä»£ç ï¼Œå‘ç°äº†ä¸€äº›è¯¡å¼‚çš„äº‹æƒ…ï¼Œå°±æ˜¯æ­£å¸¸æ¥è®²å‡½æ•°çš„å‚æ•°ä¼šä¾æ¬¡æ”¾å…¥<span class="heti-skip"><span class="heti-spacing"> </span>a0 a1 a2 ...<span class="heti-spacing"> </span></span>å¯„å­˜å™¨ä¸­ï¼Œä½†æ˜¯å¯¹äº<span class="heti-skip"><span class="heti-spacing"> </span>64<span class="heti-spacing"> </span></span>ä½æ•°æ®ï¼Œä¼šè·³è¿‡<span class="heti-skip"><span class="heti-spacing"> </span>a1<span class="heti-spacing"> </span></span>æ”¾å…¥<span class="heti-skip"><span class="heti-spacing"> </span>a2<span class="heti-spacing"> </span></span>å’Œ<span class="heti-skip"><span class="heti-spacing"> </span>a3<span class="heti-spacing"> </span></span>ä¸­ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a>printf("%d %d", 123, 456);
<a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a>    a0 -&gt; address of "%d %d"
<a href="#__codelineno-7-3" id="__codelineno-7-3" name="__codelineno-7-3"></a>    a1 -&gt; 123
<a href="#__codelineno-7-4" id="__codelineno-7-4" name="__codelineno-7-4"></a>    a2 -&gt; 456
<a href="#__codelineno-7-5" id="__codelineno-7-5" name="__codelineno-7-5"></a>
<a href="#__codelineno-7-6" id="__codelineno-7-6" name="__codelineno-7-6"></a>printf("%lld", 0x1234567890);
<a href="#__codelineno-7-7" id="__codelineno-7-7" name="__codelineno-7-7"></a>    a0 -&gt; address of "%lld"
<a href="#__codelineno-7-8" id="__codelineno-7-8" name="__codelineno-7-8"></a>    a2 -&gt; 0x34567890
<a href="#__codelineno-7-9" id="__codelineno-7-9" name="__codelineno-7-9"></a>    a3 -&gt; 0x12
</code></pre></div>
<p>æˆ‘ä¸€åº¦ä»¥ä¸ºè¿™æ˜¯ç¼–è¯‘å™¨é”™äº†ï¼Œä½†å³ä½¿æ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>riscv<span class="heti-spacing"> </span></span>çš„<span class="heti-skip"><span class="heti-spacing"> </span>gcc<span class="heti-spacing"> </span></span>åˆæ€ä¹ˆä¼šå‡ºè¿™ç§é”™è¯¯å‘¢ã€‚åœ¨çº ç»“ç”šè‡³æ‰“ç®—æ”¾å¼ƒçš„æ—¶å€™æˆ‘åˆåˆ°<span class="heti-skip"><span class="heti-spacing"> </span>Compiler Explorer<span class="heti-spacing"> </span></span>ä¸Šè¯•äº†ä¸€ä¸‹ï¼Œå‘ç°ç¡®å®å°±æ˜¯è¿™æ ·ç¼–è¯‘çš„ï¼Œå¾ˆç¥å¥‡ã€‚æ‰€ä»¥é—®é¢˜è‚¯å®šè¿˜æ˜¯å‡ºç°åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>vprintf<span class="heti-spacing"> </span></span>å†…éƒ¨äº†ã€‚</p>
<p>ä¸‡æ¶ä¹‹æºæ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>vsc<span class="heti-spacing"> </span></span>å°†<span class="heti-skip"><span class="heti-spacing"> </span>uint64_t<span class="heti-spacing"> </span></span>æç¤ºæˆäº†ç”±<span class="heti-skip"><span class="heti-spacing"> </span>unsigned long typedef<span class="heti-spacing"> </span></span>è€Œæ¥çš„ï¼Œæ‰€ä»¥æˆ‘å°±ç†æ‰€åº”å½“çš„è®¤ä¸ºç”¨<span class="heti-skip"><span class="heti-spacing"> </span>va_arg<span class="heti-spacing"> </span></span>è·å–ä¸€ä¸ª<span class="heti-skip"><span class="heti-spacing"> </span>64<span class="heti-spacing"> </span></span>ä½æ•°çš„æ—¶å€™ä½¿ç”¨<span class="heti-skip"><span class="heti-spacing"> </span>va_arg(ap, long)<span class="heti-spacing"> </span></span>æ˜¯æ­£ç¡®çš„ï¼Œç³»ç»ŸäºŒä¹Ÿæ˜¯è¿™æ ·å†™çš„ã€‚è€Œé—®é¢˜å°±åœ¨äº<span class="heti-skip"><span class="heti-spacing"> </span>vsc<span class="heti-spacing"> </span></span>æç¤ºçš„æ¥æºæ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>x86<span class="heti-spacing"> </span></span>çš„<span class="heti-skip"><span class="heti-spacing"> </span>gcc<span class="heti-spacing"> </span></span>å†…éƒ¨çš„ï¼Œè€Œä¸æ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>riscv<span class="heti-spacing"> </span></span>çš„ã€‚<span>printf<span class="heti-spacing"> </span></span>è¾“å‡ºä¸€ä¸‹<span class="heti-skip"><span class="heti-spacing"> </span>long<span class="heti-spacing"> </span></span>çš„å¤§å°çš„è¯å¯ä»¥å‘ç°ä¹Ÿæ˜¯å››ä¸ªå­—èŠ‚â€¦â€¦æ‰€ä»¥åœ¨ç”¨åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>64<span class="heti-spacing"> </span></span>ä½æ•°çš„æ—¶å€™æ˜ç¡®çš„å†™å‡º<span class="heti-skip"><span class="heti-spacing"> </span>int64_t<span class="heti-spacing"> </span></span>æˆ–<span class="heti-skip"><span class="heti-spacing"> </span>uint64_t<span class="heti-spacing"> </span></span>å°±å¥½äº†ã€‚</p>
<h4 id="_3">æ—¶é’Ÿ<a class="headerlink" href="#_3" title="Permanent link"><span><span class="heti-spacing"> </span>Â¶</span></a></h4>
<p>æ—¶é’Ÿå…¶å®å†™èµ·æ¥é—®é¢˜ä¸å¤§çš„ï¼Œä¸è¿‡åšæ—¶é’Ÿçš„æ—¶å€™æ­£æ˜¯éœ€è¦<span class="heti-skip"><span class="heti-spacing"> </span>printf 64<span class="heti-spacing"> </span></span>ä½æ— ç¬¦å·æ•°çš„æ—¶å€™ï¼Œè¿™æ—¶å‘ç°äº†ä¸Šé¢è¯´åˆ°çš„<span class="heti-skip"><span class="heti-spacing"> </span>printf<span class="heti-spacing"> </span></span>çš„<span><span class="heti-spacing"> </span>bug</span>ï¼Œè°ƒèµ·æ¥å°±ç›¸å½“ç—›è‹¦äº†ã€‚</p>
<p>é€šè¿‡é˜…è¯»æºç å‘ç°ï¼Œ<span>NEMU<span class="heti-spacing"> </span></span>é‡Œ<span class="heti-skip"><span class="heti-spacing"> </span>timer<span class="heti-spacing"> </span></span>çš„<span class="heti-skip"><span class="heti-spacing"> </span>callback<span class="heti-spacing"> </span></span>å‡½æ•°åªæœ‰åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>offset == 4<span class="heti-spacing"> </span></span>ä¹Ÿå°±æ˜¯è¯»å–é«˜<span class="heti-skip"><span class="heti-spacing"> </span>32<span class="heti-spacing"> </span></span>ä½çš„æ—¶å€™ä¼šåˆ·æ–°æ—¶é—´ï¼Œæ‰€ä»¥ä¸æ›´æ”¹è¿™é‡Œçš„è¯å°±éœ€è¦å…ˆè¯»å–é«˜<span class="heti-skip"><span class="heti-spacing"> </span>32<span class="heti-spacing"> </span></span>ä½å†è¯»å–ä½<span class="heti-skip"><span class="heti-spacing"> </span>32<span class="heti-spacing"> </span></span>ä½ï¼Œç„¶ååˆå¹¶å¾—åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>64<span class="heti-spacing"> </span></span>ä½æ—¶é—´æˆ³ã€‚</p>
<p>å¤§æ¦‚<span class="heti-skip"><span class="heti-spacing"> </span>PA2<span class="heti-spacing"> </span></span>éœ€è¦æ³¨æ„çš„å°±è¿™äº›äº†ï¼Œåé¢é”®ç›˜ã€<span>VGA<span class="heti-spacing"> </span></span>éƒ½è¿˜å¥½å®ç°ï¼Œä¹Ÿæ²¡å‡ºå•¥é—®é¢˜ã€‚</p>
<h2 id="pa3">PA3<a class="headerlink" href="#pa3" title="Permanent link">Â¶</a></h2>
<h3 id="pa31">PA3.1<a class="headerlink" href="#pa31" title="Permanent link">Â¶</a></h3>
<p><span>PA3.1<span class="heti-spacing"> </span></span>éœ€è¦å®Œæˆå¼‚å¸¸å¤„ç†ï¼Œå®ç°ç‰¹æƒæŒ‡ä»¤å’Œä¸€å †<span class="heti-skip"><span class="heti-spacing"> </span>csr<span class="heti-spacing"> </span></span>æŒ‡ä»¤ã€‚ä»¥åŠåé¢å¼‚å¸¸äº‹ä»¶çš„åˆ†å‘ï¼Œä¸Šä¸‹æ–‡çš„ä¿å­˜å’Œæ¢å¤ï¼Œè¿™å€’æ˜¯éƒ½è›®ç®€å•ï¼Œæ²¡å•¥å¯è®°çš„ã€‚</p>
<p><span>CSR<span class="heti-spacing"> </span></span>æŒ‡ä»¤éƒ½è¿˜å¥½åŠï¼Œè™½ç„¶<span class="heti-skip"><span class="heti-spacing"> </span>verilog<span class="heti-spacing"> </span></span>ç¼–å†™ç¡¬ä»¶çš„æ—¶å€™ç—›è‹¦é¢å…·ï¼Œä½†æ˜¯è¿™é‡Œå°±å¾ˆæ¸…æ™°äº†ï¼Œç›´æ¥å†™ä¸€ä¸ªè¯»ä¸€ä¸ªå†™å°±å¥½ï¼Œè€Œä¸”å¯ä»¥å°†æ‰€æœ‰<span class="heti-skip"><span class="heti-spacing"> </span>csr<span class="heti-spacing"> </span></span>æŒ‡ä»¤éƒ½å½“ä½œ<span class="heti-skip"><span class="heti-spacing"> </span>I<span class="heti-spacing"> </span></span>å‹ï¼Œè¿™æ ·è§£æå‡ºçš„ç«‹å³æ•°å°±æ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>csr<span class="heti-spacing"> </span></span>å¯„å­˜å™¨ç¼–å·äº†ã€‚</p>
<p><span>ecall<span class="heti-spacing"> </span></span>å’Œ<span class="heti-skip"><span class="heti-spacing"> </span>mret<span class="heti-spacing"> </span></span>çš„è¯å°±æœ‰ä¸€ç‚¹å¤´ç–¼äº†ï¼Œè™½ç„¶è¡¨é¢ä¸Šåšçš„å°±æ˜¯è·³è½¬åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>mtvec<span class="heti-spacing"> </span></span>æˆ–è€…<span class="heti-skip"><span class="heti-spacing"> </span>mepc<span class="heti-spacing"> </span></span>ä½ç½®ï¼Œä½†æ˜¯ä¸ºäº†ä½¿<span class="heti-skip"><span class="heti-spacing"> </span>difftest<span class="heti-spacing"> </span></span>é€šè¿‡è¿˜éœ€è¦æŒ‰ç…§è¦æ±‚ä¿®æ”¹<span class="heti-skip"><span class="heti-spacing"> </span>mstatus<span class="heti-spacing"> </span></span>çš„å€¼ã€‚åœ¨<a href="/cs/pl/riscv/privilege/"><span class="heti-skip"><span class="heti-spacing"> </span>RISC-V<span class="heti-spacing"> </span></span>ç‰¹æƒçº§<span class="heti-skip"><span class="heti-spacing"> </span>ISA<span class="heti-spacing"> </span></span></a>çš„æœ€åæˆ‘æ¢³ç†äº†å¼‚å¸¸å¤„ç†çš„æµç¨‹ï¼ŒåŒ…æ‹¬äº†<span class="heti-skip"><span class="heti-spacing"> </span>ecall<span class="heti-spacing"> </span></span>å’Œ<span class="heti-skip"><span class="heti-spacing"> </span>mret<span class="heti-spacing"> </span></span>æœŸé—´çš„å…¨éƒ¨æ•ˆæœï¼š</p>
<div class="admonition note">
<p class="admonition-title"><span>ecall<span class="heti-spacing"> </span></span>å’Œ<span class="heti-skip"><span class="heti-spacing"> </span>mret<span class="heti-spacing"> </span></span>æ•ˆæœ</p>
<p><span>ecall<span class="heti-spacing"> </span></span>æ—¶ï¼š</p>
<ul>
<li>å°†å‘ç”Ÿå¼‚å¸¸çš„æŒ‡ä»¤åœ°å€ä¿å­˜åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>mepc<span class="heti-spacing"> </span></span>å¯„å­˜å™¨</li>
<li>å°†ä¸­æ–­ç±»å‹ç ä¿å­˜åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>mcause<span class="heti-spacing"> </span></span>å¯„å­˜å™¨ï¼ˆ<span>11<span class="heti-spacing"> </span></span>è¡¨ç¤ºä»<span class="heti-skip"><span class="heti-spacing"> </span>M<span class="heti-spacing"> </span></span>æ¨¡å¼å‘å‡ºçš„<span><span class="heti-spacing"> </span>ecall</span>ï¼‰</li>
<li>å¦‚æœä¸­æ–­å¸¦æœ‰é™„åŠ ä¿¡æ¯ï¼Œå°†å…¶ä¿å­˜åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>mtval<span class="heti-spacing"> </span></span>å¯„å­˜å™¨ï¼ˆè¿™é‡Œå¿½ç•¥ï¼‰</li>
<li>å¦‚æœæ˜¯å¤–éƒ¨å¼•å‘çš„ä¸­æ–­ï¼Œä»¤<span><span class="heti-spacing"> </span>mstatus[MPIE] = mstatus[MIE]</span>ï¼ˆä¿å­˜ï¼‰ï¼Œç„¶åä»¤<span><span class="heti-spacing"> </span>mstatus[MIE] = 0</span>ï¼ˆå…³é—­ä¸­æ–­ï¼‰</li>
<li>å°†å½“å‰ç‰¹æƒæ¨¡å¼ä¿å­˜åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>mstatus[MPP]<span class="heti-spacing"> </span></span>ä¸­</li>
<li>å°†å½“å‰ç‰¹æƒæ¨¡å¼è®¾ç½®ä¸º<span class="heti-skip"><span class="heti-spacing"> </span>Machine<span class="heti-spacing"> </span></span>æ¨¡å¼</li>
<li>æ ¹æ®<span class="heti-skip"><span class="heti-spacing"> </span>mtvec<span class="heti-spacing"> </span></span>å¯„å­˜å™¨çš„è®¾ç½®ï¼Œè·³è½¬åˆ°å¯¹åº”ä¸­æ–­å“åº”ç¨‹åº</li>
</ul>
<p><span>mret<span class="heti-spacing"> </span></span>æ—¶ï¼š</p>
<ul>
<li>ä»¤<span><span class="heti-spacing"> </span>mstatus[MIE] = mstatus[MPIE]</span>ï¼ˆæ¢å¤ï¼‰ï¼Œç„¶åä»¤<span><span class="heti-spacing"> </span>mstatus[MPIE] = 1</span></li>
<li>å°†å½“å‰ç‰¹æƒæ¨¡å¼è®¾ç½®ä¸º<span class="heti-skip"><span class="heti-spacing"> </span>mstatus[MPP]<span class="heti-spacing"> </span></span>ä¸­ä¿å­˜çš„å€¼</li>
<li>å°†<span class="heti-skip"><span class="heti-spacing"> </span>mstatus[MPP]<span class="heti-spacing"> </span></span>è®¾ç½®ä¸º<span class="heti-skip"><span class="heti-spacing"> </span>U<span class="heti-spacing"> </span></span>æ¨¡å¼</li>
<li>å°†<span class="heti-skip"><span class="heti-spacing"> </span>pc<span class="heti-spacing"> </span></span>å€¼è®¾ç½®ä¸º<span class="heti-skip"><span class="heti-spacing"> </span>mepc<span class="heti-spacing"> </span></span>å€¼ï¼Œå³è·³è½¬å›ä¸­æ–­å‰çš„ç¨‹åº</li>
</ul>
</div>
<p>ç”±äº<span class="heti-skip"><span class="heti-spacing"> </span>mstatus<span class="heti-spacing"> </span></span>å¯„å­˜å™¨æ¯ä¸€ä½æœ‰è‡ªå·±çš„ä½œç”¨ï¼Œæ‰€ä»¥ä½¿ç”¨<span class="heti-skip"><span class="heti-spacing"> </span>union<span class="heti-spacing"> </span></span>æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„é€‰æ‹©ï¼ˆå…¶å®åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>PA4<span class="heti-spacing"> </span></span>æˆ‘æ‰è½¬åˆ°<span><span class="heti-spacing"> </span>union</span>ï¼Œä¹‹å‰éƒ½æ˜¯ä½æ“ä½œï¼‰ï¼š
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="k">union</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-8-2" id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-8-3" id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">        </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">UIE</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">SIE</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">WPRI_0</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">MIE</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-8-4" id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">        </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">UPIE</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">SPIE</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">WPRI</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">MPIE</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-8-5" id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="w">        </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">SPP</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">WPRI_1_2</span><span class="o">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">MPP</span><span class="o">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">FS</span><span class="o">:</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-8-6" id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="w">        </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">XS</span><span class="o">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">MPRV</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">SUM</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">MXR</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-8-7" id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="w">        </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">TVM</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">TW</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">TSR</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">WPRI_3_10</span><span class="o">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">SD</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-8-8" id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">part</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-8-9" id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="w">    </span><span class="n">word_t</span><span class="w"> </span><span class="n">val</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-8-10" id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="p">}</span><span class="w"> </span><span class="n">mstatus</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>æ‰€ä»¥åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>ecall<span class="heti-spacing"> </span></span>æ—¶åšçš„æ“ä½œå°±æ˜¯ï¼š
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cpu</span><span class="p">.</span><span class="n">priv</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="n">s</span><span class="o">-&gt;</span><span class="n">dnpc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">isa_raise_intr</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="o">-&gt;</span><span class="n">pc</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-9-2" id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cpu</span><span class="p">.</span><span class="n">priv</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="n">s</span><span class="o">-&gt;</span><span class="n">dnpc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">isa_raise_intr</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="o">-&gt;</span><span class="n">pc</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-9-3" id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="k">else</span><span class="w"> </span><span class="n">assert</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-9-4" id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="c1">// å…¶ä¸­</span>
<a href="#__codelineno-9-5" id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="n">word_t</span><span class="w"> </span><span class="nf">isa_raise_intr</span><span class="p">(</span><span class="n">word_t</span><span class="w"> </span><span class="n">NO</span><span class="p">,</span><span class="w"> </span><span class="n">vaddr_t</span><span class="w"> </span><span class="n">epc</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-9-6" id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="w">    </span><span class="n">cpu</span><span class="p">.</span><span class="n">mepc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">epc</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-9-7" id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="w">    </span><span class="n">cpu</span><span class="p">.</span><span class="n">mcause</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-9-8" id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="w">    </span><span class="n">cpu</span><span class="p">.</span><span class="n">mstatus</span><span class="p">.</span><span class="n">part</span><span class="p">.</span><span class="n">MPP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cpu</span><span class="p">.</span><span class="n">priv</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-9-9" id="__codelineno-9-9" name="__codelineno-9-9"></a><span class="w">    </span><span class="n">cpu</span><span class="p">.</span><span class="n">priv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-9-10" id="__codelineno-9-10" name="__codelineno-9-10"></a><span class="w">    </span><span class="n">cpu</span><span class="p">.</span><span class="n">mstatus</span><span class="p">.</span><span class="n">part</span><span class="p">.</span><span class="n">MPIE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cpu</span><span class="p">.</span><span class="n">mstatus</span><span class="p">.</span><span class="n">part</span><span class="p">.</span><span class="n">MIE</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-9-11" id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="w">    </span><span class="n">cpu</span><span class="p">.</span><span class="n">mstatus</span><span class="p">.</span><span class="n">part</span><span class="p">.</span><span class="n">MIE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-9-12" id="__codelineno-9-12" name="__codelineno-9-12"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">cpu</span><span class="p">.</span><span class="n">mtvec</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-9-13" id="__codelineno-9-13" name="__codelineno-9-13"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
åœ¨ mret æ—¶åšçš„æ“ä½œï¼š
<div class="highlight"><pre><span></span><code><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="n">s</span><span class="o">-&gt;</span><span class="n">dnpc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cpu</span><span class="p">.</span><span class="n">mepc</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="n">cpu</span><span class="p">.</span><span class="n">mstatus</span><span class="p">.</span><span class="n">part</span><span class="p">.</span><span class="n">MIE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cpu</span><span class="p">.</span><span class="n">mstatus</span><span class="p">.</span><span class="n">part</span><span class="p">.</span><span class="n">MPIE</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-10-3" id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="n">cpu</span><span class="p">.</span><span class="n">mstatus</span><span class="p">.</span><span class="n">part</span><span class="p">.</span><span class="n">MPIE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-10-4" id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="n">cpu</span><span class="p">.</span><span class="n">priv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cpu</span><span class="p">.</span><span class="n">mstatus</span><span class="p">.</span><span class="n">part</span><span class="p">.</span><span class="n">MPP</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-10-5" id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="n">cpu</span><span class="p">.</span><span class="n">mstatus</span><span class="p">.</span><span class="n">part</span><span class="p">.</span><span class="n">MPP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<h3 id="pa32">PA3.2<a class="headerlink" href="#pa32" title="Permanent link">Â¶</a></h3>
<p>è¿™éƒ¨åˆ†ä¹Ÿç®—æ˜¯å®ç°èµ·æ¥æ¯”è¾ƒå¤æ‚çš„äº†ï¼Œå› ä¸ºè¦å®ç°<span class="heti-skip"><span class="heti-spacing"> </span>ELF<span class="heti-spacing"> </span></span>æ–‡ä»¶çš„åŠ è½½ã€‚</p>
<h4 id="elf"><span>ELF<span class="heti-spacing"> </span></span>åŠ è½½<a class="headerlink" href="#elf" title="Permanent link"><span><span class="heti-spacing"> </span>Â¶</span></a></h4>
<p>å¯ä»¥é€šè¿‡<span class="heti-skip"><span class="heti-spacing"> </span>elf.h<span class="heti-spacing"> </span></span>å¯¼å…¥ä¸€äº›ç»“æ„ä½“æ¥è¿›è¡Œè§£æã€‚é¦–å…ˆæœ€å¼€å¤´çš„æ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>ELF<span class="heti-spacing"> </span></span>å¤´ï¼ˆEhdrï¼‰ï¼Œå…ˆè¯»å–ç„¶ååˆ¤æ–­é­”æ•°ä»¥åŠæœºå™¨ç±»å‹ï¼š
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="n">Elf32_Ehdr</span><span class="w"> </span><span class="n">ehdr</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-11-2" id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="n">fread</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ehdr</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">ehdr</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">fp</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-11-3" id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="n">assert</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="kt">uint32_t</span><span class="o">*</span><span class="p">)</span><span class="n">ehdr</span><span class="p">.</span><span class="n">e_ident</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="o">*</span><span class="p">(</span><span class="kt">uint32_t</span><span class="o">*</span><span class="p">)</span><span class="n">ELFMAG</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-11-4" id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="n">assert</span><span class="p">(</span><span class="n">ehdr</span><span class="p">.</span><span class="n">e_machine</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">EM_RISCV</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
æ¥ç€æ ¹æ® ehdr.e_phoff æ‰¾åˆ°ç¨‹åºè¡¨å¤´ï¼Œç„¶åè¯»å– ehdr.e_phnum ä¸ª Phdrï¼š
<div class="highlight"><pre><span></span><code><a href="#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="n">Elf32_Phdr</span><span class="w"> </span><span class="o">*</span><span class="n">phdr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Elf32_Phdr</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">Elf32_Phdr</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">ehdr</span><span class="p">.</span><span class="n">e_phnum</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-12-2" id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="n">fseek</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="w"> </span><span class="n">ehdr</span><span class="p">.</span><span class="n">e_phoff</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_SET</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-12-3" id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="n">fread</span><span class="p">(</span><span class="n">phdr</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">Elf32_Phdr</span><span class="p">),</span><span class="w"> </span><span class="n">ehdr</span><span class="p">.</span><span class="n">e_phnum</span><span class="p">,</span><span class="w"> </span><span class="n">fp</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
ç„¶åéå†ç¨‹åºè¡¨ï¼Œåˆ¤æ–­ p_typeï¼Œå¦‚æœæ˜¯ PT_LOAD åˆ™è¯´æ˜æ˜¯éœ€è¦åŠ è½½çš„éƒ¨åˆ†ï¼Œç„¶åå¤åˆ¶ p_filesz ä¸ªå­—èŠ‚åˆ° p_vaddr ä½ç½®ï¼Œåå†é™„åŠ  p_memsz - p_filesz ä¸ªå­—èŠ‚çš„ 0ï¼ˆbss æ®µï¼‰å³å¯ã€‚æœ€å loader éœ€è¦è¿”å›ç¨‹åºå…¥å£åœ°å€ï¼Œå³ ehdr.e_entryã€‚
<h4 id="_4">ç³»ç»Ÿè°ƒç”¨<a class="headerlink" href="#_4" title="Permanent link"><span><span class="heti-spacing"> </span>Â¶</span></a></h4>
<p>ç³»ç»Ÿè°ƒç”¨çš„å®ç°ä¹Ÿå¾ˆç®€å•ï¼Œå‰é¢åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>CTE<span class="heti-spacing"> </span></span>ä¸­å°†<span class="heti-skip"><span class="heti-spacing"> </span>a7<span class="heti-spacing"> </span></span>ä¸º<span class="heti-skip"><span class="heti-spacing"> </span>-1<span class="heti-spacing"> </span></span>çš„<span class="heti-skip"><span class="heti-spacing"> </span>ecall<span class="heti-spacing"> </span></span>è¯†åˆ«ä¸ºäº†<span><span class="heti-spacing"> </span>yield</span>ï¼ˆåº•å±‚çš„<span class="heti-skip"><span class="heti-spacing"> </span>yield<span class="heti-spacing"> </span></span>è€Œéç³»ç»Ÿè°ƒç”¨çš„<span><span class="heti-spacing"> </span>yield</span>ï¼‰ï¼Œå‰©ä½™çš„éƒ½å¯ä»¥è¯†åˆ«ä¸ºç³»ç»Ÿè°ƒç”¨ï¼ŒæŒ‡å®šä¸º<span><span class="heti-spacing"> </span>EVENT_SYSCALL</span>ï¼Œç„¶åå¤„ç†å°±åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>NanOS-lite<span class="heti-spacing"> </span></span>ä¸­äº†ï¼Œ<span>irq.c<span class="heti-spacing"> </span></span>ä¸­<span class="heti-skip"><span class="heti-spacing"> </span>do_event<span class="heti-spacing"> </span></span>æ¥æ”¶<span><span class="heti-spacing"> </span>event</span>ï¼Œè¯†åˆ«ä¸º<span class="heti-skip"><span class="heti-spacing"> </span>EVENT_SYSCALL<span class="heti-spacing"> </span></span>åè°ƒç”¨<span><span class="heti-spacing"> </span>do_syscall</span>ï¼Œç„¶åå†æ ¹æ®<span class="heti-skip"><span class="heti-spacing"> </span>a7<span class="heti-spacing"> </span></span>çš„å€¼è¿›è¡Œç›¸åº”çš„ç³»ç»Ÿè°ƒç”¨å³å¯ã€‚è¿™é‡Œè¦è®°å¾—å°†<span class="heti-skip"><span class="heti-spacing"> </span>mepc<span class="heti-spacing"> </span></span>åŠ <span class="heti-skip"><span class="heti-spacing"> </span>4<span class="heti-spacing"> </span></span>å¦åˆ™ä¼šæ­»å¾ªç¯ã€‚å…¶å®å¯ä»¥é’ˆå¯¹<span class="heti-skip"><span class="heti-spacing"> </span>EVENT_YIELD<span class="heti-spacing"> </span></span>å’Œ<span class="heti-skip"><span class="heti-spacing"> </span>EVENT_SYSCALL<span class="heti-spacing"> </span></span>éƒ½è¿›è¡Œ<span><span class="heti-spacing"> </span>mepc += 4</span>ï¼Œè€Œåé¢çš„ç¡¬ä»¶ä¸­æ–­ä¾‹å¦‚æ—¶é’Ÿä¸­æ–­åˆ™ä¸éœ€è¦ã€‚</p>
<p>åœ¨è½¯ä»¶å±‚é¢çš„ç³»ç»Ÿè°ƒç”¨æ˜¯åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>navy-apps<span class="heti-spacing"> </span></span>çš„<span class="heti-skip"><span class="heti-spacing"> </span>libos<span class="heti-spacing"> </span></span>ä¸­çš„ï¼Œæ¯ä¸ªç³»ç»Ÿè°ƒç”¨å‡½æ•°ï¼ˆ_exitã€<span>_open<span class="heti-spacing"> </span></span>ç­‰ï¼‰éƒ½ä¼šè°ƒç”¨<span class="heti-skip"><span class="heti-spacing"> </span>_syscall_<span class="heti-spacing"> </span></span>å‡½æ•°ï¼Œå…¶ä¸­æ˜¯å†…è”æ±‡ç¼–å¸ƒå±€å¯„å­˜å™¨åæ‰§è¡Œ<span class="heti-skip"><span class="heti-spacing"> </span>ecall<span class="heti-spacing"> </span></span>æŒ‡ä»¤ï¼Œç„¶åè¿”å›<span class="heti-skip"><span class="heti-spacing"> </span>a0<span class="heti-spacing"> </span></span>çš„å€¼ã€‚ç³»ç»Ÿè°ƒç”¨å‡½æ•°åªéœ€è¦<span class="heti-skip"><span class="heti-spacing"> </span>return _syscall_(SYS_..., ...)<span class="heti-spacing"> </span></span>å³å¯ã€‚æ‰€ä»¥æ•´ä¸ªç³»ç»Ÿè°ƒç”¨è¿‡ç¨‹æ˜¯ä»<span class="heti-skip"><span class="heti-spacing"> </span>Navy-apps<span class="heti-spacing"> </span></span>ç”³è¯·å¼€å§‹ï¼Œ<span>NEMU<span class="heti-spacing"> </span></span>æ‰§è¡Œ<span class="heti-skip"><span class="heti-spacing"> </span>ecall<span class="heti-spacing"> </span></span>æŒ‡ä»¤è½¬åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>AM<span class="heti-spacing"> </span></span>æä¾›çš„å¼‚å¸¸å¤„ç†ç¨‹åºï¼Œç„¶ååˆ†å‘ç»™<span class="heti-skip"><span class="heti-spacing"> </span>NanOS-lite<span class="heti-spacing"> </span></span>å¤„ç†ï¼Œå†ä¸€å±‚å±‚è¿”å›ã€‚å¯è§è¿™æ˜¯ä¸€ä¸ªéå¸¸å…¸å‹çš„è½¯ç¡¬ä»¶ååŒçš„ä¾‹å­ã€‚</p>
<p>è€Œè¿™ä¸€éƒ¨åˆ†éœ€è¦å®ç°<span class="heti-skip"><span class="heti-spacing"> </span>yield exit write brk<span class="heti-spacing"> </span></span>ç³»ç»Ÿè°ƒç”¨ï¼Œå‰ä¸¤ä¸ªæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œ<span>brk<span class="heti-spacing"> </span></span>è¿™é‡Œä¹Ÿæ¯”è¾ƒå¥½å†™ï¼Œå› ä¸ºè¿›è¡Œçš„å¹¶ä¸æ˜¯çœŸæ­£çš„å †ç®¡ç†ï¼Œè€Œæ˜¯æ¨¡æ‹Ÿè¾¾åˆ°äº†ç±»ä¼¼èƒ½è·‘çš„æ•ˆæœã€‚</p>
<p>è€Œ<span class="heti-skip"><span class="heti-spacing"> </span>write<span class="heti-spacing"> </span></span>åœ¨å†™çš„æ—¶å€™å°±å‡ºäº†ä¸€ç‚¹é—®é¢˜ï¼Œè¿è¡Œèµ·æ¥ä¸€ç›´éƒ½æ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>printf<span class="heti-spacing"> </span></span>åªä¼šè¾“å‡ºä¸€ä¸ªå­—ç¬¦ï¼Œå¾ˆå¥‡æ€ªï¼Œæˆ‘å½“æ—¶åˆæ€€ç–‘æ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>printf<span class="heti-spacing"> </span></span>å‡ºäº†é—®é¢˜ã€‚æœ€åé€ä¸€æ’æŸ¥å‘ç°æ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>write<span class="heti-spacing"> </span></span>ç³»ç»Ÿè°ƒç”¨çš„è¿”å›å€¼æ²¡æœ‰ä¼ å‡ºå»ï¼Œå¯¼è‡´è¾“å‡ºä¸€ä¸ªå­—ç¬¦å°±ç»“æŸäº†ã€‚</p>
<h3 id="pa33">PA3.3<a class="headerlink" href="#pa33" title="Permanent link">Â¶</a></h3>
<p>è¿™ä¸€éƒ¨åˆ†è¦å®Œå–„ä¸€ä¸ªç®€æ˜“çš„æ–‡ä»¶ç³»ç»Ÿï¼ˆå†…å®¹å›ºå®šã€å¤§å°å›ºå®šã€æ²¡æœ‰ç›®å½•â€¦â€¦ï¼‰ï¼Œç„¶åå°†è®¾å¤‡æŠ½è±¡ä¸ºè™šæ‹Ÿæ–‡ä»¶ï¼Œå†å®Œå–„<span class="heti-skip"><span class="heti-spacing"> </span>Navy-apps<span class="heti-spacing"> </span></span>çš„ä¸€ç³»åˆ—åº“æ¥è¿è¡Œèµ·å„ç§å„æ ·çš„ç¨‹åºã€‚</p>
<h4 id="_5">æ–‡ä»¶ç³»ç»Ÿ<a class="headerlink" href="#_5" title="Permanent link"><span><span class="heti-spacing"> </span>Â¶</span></a></h4>
<p>è¿™é‡Œçš„æ–‡ä»¶ç³»ç»Ÿæ•´ä½“å­˜å‚¨åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>ramdisk.img<span class="heti-spacing"> </span></span>ä¸­ï¼Œé€šè¿‡<span class="heti-skip"><span class="heti-spacing"> </span>resource.S<span class="heti-spacing"> </span></span>ä¸­çš„<span class="heti-skip"><span class="heti-spacing"> </span>.incbin<span class="heti-spacing"> </span></span>åŠ è½½è¿›æ¥ã€‚ç„¶åæ¯ä¸€ä¸ªæ–‡ä»¶éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªç»“æ„ä½“æ¥è®°å½•ï¼š
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">ReadFn</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">len</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-13-2" id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">WriteFn</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">len</span><span class="p">);</span><span class="w"></span>
<a href="#__codelineno-13-3" id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-13-4" id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-13-5" id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-13-6" id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">disk_offset</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-13-7" id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="w">    </span><span class="n">ReadFn</span><span class="w"> </span><span class="n">read</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-13-8" id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="w">    </span><span class="n">WriteFn</span><span class="w"> </span><span class="n">write</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-13-9" id="__codelineno-13-9" name="__codelineno-13-9"></a><span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">open_offset</span><span class="p">;</span><span class="w"></span>
<a href="#__codelineno-13-10" id="__codelineno-13-10" name="__codelineno-13-10"></a><span class="p">}</span><span class="w"> </span><span class="n">Finfo</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
ç„¶åé€šè¿‡ä¸€ä¸ª Finfo çš„æ•°ç»„æ¥åœ¨æ–‡ä»¶æè¿°ç¬¦å’Œ Finfo ä¹‹é—´è¿›è¡Œæ˜ å°„ã€‚è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªæˆ‘è§‰å¾—å¾ˆå·§å¦™çš„åœ°æ–¹ï¼Œå°±æ˜¯åœ¨ç¼–è¯‘ Navy-apps çš„è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰å¯æ‰§è¡Œæ–‡ä»¶å’Œç´ æéƒ½ä¼šå­˜åœ¨ fsimg æ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶å Makefile ä¸­çš„è„šæœ¬ä¼šå°†å…¶æ‰“åŒ…æˆä¸€ä¸ª ramdisk.imgï¼Œç„¶ååŒæ—¶æå–å‡º nameã€sizeã€disk_offset çš„ä¿¡æ¯æ ¼å¼åŒ–åˆ°ä¸€ä¸ª files.h ä¸­ã€‚åœ¨å®šä¹‰ Finfo æ•°ç»„çš„æ—¶å€™ç›´æ¥ include è¿›æ¥ï¼Œå°±åœ¨ç¼–è¯‘æ—¶å®Œæˆäº†æ–‡ä»¶ç³»ç»Ÿå…¨éƒ¨å†…å®¹çš„åˆå§‹åŒ–ã€‚
<p>å¯¹äºè™šæ‹Ÿæ–‡ä»¶ï¼Œç›´æ¥å®šä¹‰çš„æ—¶å€™åŠ ä¸Šå¯¹åº”çš„åå­—ï¼Œç„¶åæŒ‡å®šç‰¹æœ‰çš„<span class="heti-skip"><span class="heti-spacing"> </span>read<span class="heti-spacing"> </span></span>å’Œ<span><span class="heti-spacing"> </span>write</span>ï¼Œåœ¨æ‰§è¡Œ<span class="heti-skip"><span class="heti-spacing"> </span>fs_read fs_write<span class="heti-spacing"> </span></span>çš„æ—¶å€™å¦‚æœ<span class="heti-skip"><span class="heti-spacing"> </span>read write<span class="heti-spacing"> </span></span>ä¸ä¸º<span class="heti-skip"><span class="heti-spacing"> </span>NULL<span class="heti-spacing"> </span></span>åˆ™è°ƒç”¨ï¼Œå¦åˆ™è°ƒç”¨<span><span class="heti-spacing"> </span>ramdisk_read ramdisk_write</span>ï¼Œè¿™æ ·å°±å®ç°äº†è¿™ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„åŸºæœ¬åŠŸèƒ½ã€‚
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-14-1" id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">FD_STDIN</span><span class="p">,</span><span class="w"> </span><span class="n">FD_STDOUT</span><span class="p">,</span><span class="w"> </span><span class="n">FD_STDERR</span><span class="p">,</span><span class="w"> </span><span class="n">FD_FB</span><span class="p">,</span><span class="w"> </span><span class="n">FD_EVENTS</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<a href="#__codelineno-14-2" id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="k">static</span><span class="w"> </span><span class="n">Finfo</span><span class="w"> </span><span class="n">file_table</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-14-3" id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="w">    </span><span class="p">[</span><span class="n">FD_STDIN</span><span class="p">]</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">"stdin"</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">invalid_read</span><span class="p">,</span><span class="w"> </span><span class="n">invalid_write</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-14-4" id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="w">    </span><span class="p">[</span><span class="n">FD_STDOUT</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">"stdout"</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">invalid_read</span><span class="p">,</span><span class="w"> </span><span class="n">serial_write</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-14-5" id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="w">    </span><span class="p">[</span><span class="n">FD_STDERR</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">"stderr"</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">invalid_read</span><span class="p">,</span><span class="w"> </span><span class="n">serial_write</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-14-6" id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="w">    </span><span class="p">[</span><span class="n">FD_FB</span><span class="p">]</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">"/dev/fb"</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">invalid_read</span><span class="p">,</span><span class="w"> </span><span class="n">fb_write</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-14-7" id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="w">    </span><span class="p">[</span><span class="n">FD_EVENTS</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">"/dev/events"</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">events_read</span><span class="p">,</span><span class="w"> </span><span class="n">invalid_write</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-14-8" id="__codelineno-14-8" name="__codelineno-14-8"></a><span class="w">    </span><span class="p">{</span><span class="s">"/proc/dispinfo"</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">dispinfo_read</span><span class="p">,</span><span class="w"> </span><span class="n">invalid_write</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-14-9" id="__codelineno-14-9" name="__codelineno-14-9"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">"files.h"</span><span class="cp"></span>
<a href="#__codelineno-14-10" id="__codelineno-14-10" name="__codelineno-14-10"></a><span class="p">};</span><span class="w"></span>
</code></pre></div>
é™¤æ­¤ä¹‹å¤– Finfo è¿˜éœ€è¦ç»´æŠ¤ open_offsetï¼Œè¿™é‡Œæˆ‘å½“æ—¶ç†è§£é”™äº†ï¼Œå®é™…ä¸Šåº”è¯¥æ˜¯è·ç¦» disk_offset çš„åç§»ï¼Œè€Œæˆ‘ç†è§£ä¸ºäº†åœ¨ ramdisk ä¸­æ•´ä½“çš„åç§»ï¼Œä¸è¿‡å®ç°åçš„æœ€ç»ˆæ•ˆæœè¿˜æ˜¯ä¸€æ ·çš„ã€‚
<h4 id="load"><span>load<span class="heti-spacing"> </span></span>å¯¹é½å¼‚å¸¸<a class="headerlink" href="#load" title="Permanent link"><span><span class="heti-spacing"> </span>Â¶</span></a></h4>
<p>è¿™ä¸ªé—®é¢˜ä¹Ÿ<span class="heti-skip"><span class="heti-spacing"> </span>debug<span class="heti-spacing"> </span></span>äº†å¥½ä¹…ï¼Œè¯´èµ·æ¥ä¹Ÿå¾ˆç¥å¥‡ï¼Œè¿™ä¸ª<span class="heti-skip"><span class="heti-spacing"> </span>bug<span class="heti-spacing"> </span></span>æ¥è‡ª<span class="heti-skip"><span class="heti-spacing"> </span>PA2.2<span class="heti-spacing"> </span></span>ä½†ä¸€ç›´æ²¡å‘ç°ï¼Œç›´åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>PA4.1<span class="heti-spacing"> </span></span>æ‰é€šè¿‡<span class="heti-skip"><span class="heti-spacing"> </span>difftest<span class="heti-spacing"> </span></span>å‘ç°ï¼Œè€Œå®é™…å‡ºé—®é¢˜çš„åœ°æ–¹åˆæ˜¯åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>PA3.3<span class="heti-spacing"> </span></span>è¿™é‡Œå†™è¿‡çš„<span><span class="heti-spacing"> </span>ramdisk_read</span>ã€‚</p>
<p><span>PA4.1<span class="heti-spacing"> </span></span>å‘ç°é—®é¢˜çš„æ—¶å€™å¾ˆå¥‡æ€ªï¼Œ<span>difftest<span class="heti-spacing"> </span></span>çš„<span class="heti-skip"><span class="heti-spacing"> </span>ref<span class="heti-spacing"> </span></span>è«åå…¶å¦™åœ°è·³åˆ°äº†<span class="heti-skip"><span class="heti-spacing"> </span>mtvec<span class="heti-spacing"> </span></span>å¼‚å¸¸å¤„ç†å‡½æ•°ä½ç½®ï¼Œè€Œ<span class="heti-skip"><span class="heti-spacing"> </span>dut<span class="heti-spacing"> </span></span>ç»§ç»­å¾€ä¸‹è¿è¡Œï¼Œå¯¼è‡´<span class="heti-skip"><span class="heti-spacing"> </span>pc<span class="heti-spacing"> </span></span>å‡ºç°äº†ä¸åŒã€‚è¿”å›å»çœ‹å‡ºé”™çš„<span class="heti-skip"><span class="heti-spacing"> </span>pc<span class="heti-spacing"> </span></span>ä½ç½®çš„æŒ‡ä»¤ï¼Œç«Ÿç„¶æ˜¯ä¸€æ¡<span class="heti-skip"><span class="heti-spacing"> </span>load<span class="heti-spacing"> </span></span>æŒ‡ä»¤ã€‚å½“æ—¶æˆ‘è¿˜ä»¥ä¸ºæ˜¯ä»€ä¹ˆå¥‡æ€ªçš„æ—¶é’Ÿä¸­æ–­å•¥çš„ï¼Œæ¯•ç«Ÿå…³æ‰äº†<span class="heti-skip"><span class="heti-spacing"> </span>difftest<span class="heti-spacing"> </span></span>æ˜¯å®Œå…¨å¯ä»¥è·‘èµ·æ¥çš„ã€‚</p>
<p>å› ä¸º<span class="heti-skip"><span class="heti-spacing"> </span>difftest<span class="heti-spacing"> </span></span>å‘ç°å¼‚å¸¸åå°±é€€å‡ºäº†ï¼Œä¸èƒ½è®©<span class="heti-skip"><span class="heti-spacing"> </span>ref<span class="heti-spacing"> </span></span>ç»§ç»­è¿è¡Œï¼Œæ‰€ä»¥å½“æ—¶æˆ‘å°±å›°åœ¨è¿™é‡Œäº†ï¼Œä»¥ä¸ºä¸å¥½å†è°ƒè¯•äº†ã€‚ä½†çªç„¶ååº”è¿‡æ¥å†å‘ç”Ÿå¼‚å¸¸çš„æ—¶å€™ï¼Œè¿™æ—¶<span class="heti-skip"><span class="heti-spacing"> </span>trap<span class="heti-spacing"> </span></span>åŸå› å°±å·²ç»å­˜åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>mcause<span class="heti-spacing"> </span></span>é‡Œäº†ï¼Œè€Œè¿™æ—¶æˆ‘æ˜¯å¯ä»¥è¾“å‡º<span class="heti-skip"><span class="heti-spacing"> </span>ref<span class="heti-spacing"> </span></span>ä¸­<span class="heti-skip"><span class="heti-spacing"> </span>mcause<span class="heti-spacing"> </span></span>çš„å€¼çš„ã€‚ä¸€è¾“å‡ºæ¥çœ‹ï¼Œç«Ÿç„¶æ˜¯<span><span class="heti-spacing"> </span>4</span>ï¼Œä¹Ÿå°±æ˜¯<span><span class="heti-spacing"> </span>Load Address Misaligned</span>ã€‚é™¤æ­¤ä¹‹å¤–æŒ‰ç…§<span class="heti-skip"><span class="heti-spacing"> </span>RISC-V<span class="heti-spacing"> </span></span>çš„è§„å®šè¿™æ—¶è¯•å›¾è®¿é—®çš„åœ°å€ä¼šè¢«å­˜åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>mtval<span class="heti-spacing"> </span></span>å¯„å­˜å™¨ä¸­ï¼Œæ‰€ä»¥æˆ‘åˆåŠ äº†è¿™ä¸ªï¼Œç„¶ååŒæ—¶è¾“å‡ºï¼Œå‘ç°æ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>ramdisk<span class="heti-spacing"> </span></span>ä¸­çš„åœ°å€ï¼Œè€Œè¿™ä¸ªåœ°å€ä¸æ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>4<span class="heti-spacing"> </span></span>çš„å€æ•°ã€‚</p>
<p>æˆ‘å›å¿†èµ·æ¥ä¹‹å‰æ–‡æ¡£ä¸­æœ‰ä¸€ä¸ªåœ°æ–¹è¯´åˆ°äº†<span class="heti-skip"><span class="heti-spacing"> </span>Spike<span class="heti-spacing"> </span></span>ä¸å…è®¸ä¸å¯¹é½çš„è®¿é—®ï¼Œç„¶åç¿»äº†ä¸€éå‘ç°æ˜¯åœ¨<span><span class="heti-spacing"> </span>PA2.2</span>ï¼ŒåŒæ—¶é‡Œé¢ä¹Ÿè¯´äº†è¿™å¤§æ¦‚æ˜¯ç”±äº<span class="heti-skip"><span class="heti-spacing"> </span>klib<span class="heti-spacing"> </span></span>å®ç°é”™è¯¯å¼•èµ·çš„ã€‚å†æ·±å…¥è°ƒäº†ä¸€ä¸‹å‘ç°ç¡®å®ï¼Œé—®é¢˜æ¥è‡ªäº<span><span class="heti-spacing"> </span>memcpy</span>ã€‚æˆ‘å½“æ—¶ç›´æ¥é€‰ç”¨äº†<span class="heti-skip"><span class="heti-spacing"> </span>copilot<span class="heti-spacing"> </span></span>æä¾›çš„å†™æ³•ï¼Œä¹Ÿå°±æ˜¯å…ˆå°è¯•ä¸€ä¸ª<span class="heti-skip"><span class="heti-spacing"> </span>int<span class="heti-spacing"> </span></span>ä¸€ä¸ª<span class="heti-skip"><span class="heti-spacing"> </span>int<span class="heti-spacing"> </span></span>æ‹·è´ï¼Œæœ€åä¸åˆ°ä¸€ä¸ª<span class="heti-skip"><span class="heti-spacing"> </span>int<span class="heti-spacing"> </span></span>äº†å†é€<span class="heti-skip"><span class="heti-spacing"> </span>byte<span class="heti-spacing"> </span></span>æ‹·è´ã€‚è¿™é‡Œå°±å¿½ç•¥äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å¦‚æœæœ€å¼€å§‹çš„åœ°å€ä¸æ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>4<span class="heti-spacing"> </span></span>çš„å€æ•°ï¼Œé‚£ä¹ˆè¯»å–ä¸€ä¸ª<span class="heti-skip"><span class="heti-spacing"> </span>int<span class="heti-spacing"> </span></span>å°±æ˜¯ä¸å¯¹é½çš„è®¿é—®ï¼Œè™½ç„¶<span class="heti-skip"><span class="heti-spacing"> </span>NEMU<span class="heti-spacing"> </span></span>ä¸­æ²¡é—®é¢˜ï¼Œä½†<span class="heti-skip"><span class="heti-spacing"> </span>Spike<span class="heti-spacing"> </span></span>è®¤ä¸ºå‡ºäº†é—®é¢˜ï¼Œè¿›å…¥äº†å¼‚å¸¸å¤„ç†ã€‚</p>
<p>æ‰€ä»¥è§£å†³æ–¹æ¡ˆæ˜¯ä¿®æ”¹<span><span class="heti-spacing"> </span>memcpy</span>ï¼Œå…ˆæ‹·è´å­—èŠ‚åˆ°å¯¹é½çš„ä½ç½®ï¼Œç„¶åå†ä»¥<span class="heti-skip"><span class="heti-spacing"> </span>int<span class="heti-spacing"> </span></span>ä¸ºå•ä½æ‹·è´ã€‚ä¸è¿‡è¿˜æ˜¯æ‡’å¾—å†™äº†ï¼Œå°±å…¨éƒ¨é€å­—èŠ‚æ‹·è´äº†ã€‚</p>
<h4 id="navy"><span>Navy<span class="heti-spacing"> </span></span>åº“è¡¥å……<a class="headerlink" href="#navy" title="Permanent link"><span><span class="heti-spacing"> </span>Â¶</span></a></h4>
<p>è¿™é‡Œè¦å®Œå–„å®šç‚¹ç®—æ•°<span class="heti-skip"><span class="heti-spacing"> </span>fixedpt<span class="heti-spacing"> </span></span>åº“ï¼Œ<span>NDL<span class="heti-spacing"> </span></span>åº“ï¼Œ<span>miniSDL<span class="heti-spacing"> </span></span>åº“ã€‚å‰ä¸¤ä¸ªéƒ½æ²¡ä»€ä¹ˆå¤§é—®é¢˜ã€‚</p>
<p>åœ¨å®ç°<span class="heti-skip"><span class="heti-spacing"> </span>NDL_DrawRect<span class="heti-spacing"> </span></span>çš„æ—¶å€™æœ€å¼€å§‹è¿˜æ˜¯ç»•äº†ä¸€ä¸‹çš„ã€‚å®ƒçš„ç›®æ ‡æ˜¯åœ¨æ˜¾ç¤ºå™¨ä¸­ç”»ä¸€ä¸ªçŸ©å½¢ï¼Œä¹Ÿå°±æ˜¯å°†çŸ©å½¢çš„æ•°æ®å¡«å†™åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>frame buffer<span class="heti-spacing"> </span></span>ä¸­ï¼Œä¹Ÿå°±æ˜¯å†™å…¥<span class="heti-skip"><span class="heti-spacing"> </span>/dev/fb<span class="heti-spacing"> </span></span>è¿™ä¸ªè™šæ‹Ÿæ–‡ä»¶ã€‚è€Œæˆ‘å½“æ—¶å°±è¢«è¿™ä¸ªæ“ä½œå›°ä½äº†ï¼Œå› ä¸ºå†™çš„æ—¶å€™å‚æ•°å°±åªæœ‰<span class="heti-skip"><span class="heti-spacing"> </span>offset<span class="heti-spacing"> </span></span>å’Œ<span><span class="heti-spacing"> </span>len</span>ï¼Œè€Œéœ€è¦è¡¨ç¤ºçš„å‘¢ï¼Œæ˜¯ä¸€ä¸ªçŸ©å½¢çš„èŒƒå›´ï¼Œæ‰€ä»¥æˆ‘å°±æƒ³äº†ä¸€ä¸ªéå¸¸æ²™é›•çš„åŠæ³•ï¼Œå°†å·¦ä¸Šè§’<span class="heti-skip"><span class="heti-spacing"> </span>(x, y)<span class="heti-spacing"> </span></span>åˆ†é«˜<span class="heti-skip"><span class="heti-spacing"> </span>16<span class="heti-spacing"> </span></span>ä½å’Œä½<span class="heti-skip"><span class="heti-spacing"> </span>16<span class="heti-spacing"> </span></span>ä½å†™å…¥<span><span class="heti-spacing"> </span>offset</span>ï¼Œç„¶åé•¿å’Œå®½åŒæ ·å†™å…¥<span class="heti-skip"><span class="heti-spacing"> </span>len<span class="heti-spacing"> </span></span>ä¸­ï¼Œæœ€ååœ¨<span class="heti-skip"><span class="heti-spacing"> </span>fb_write<span class="heti-spacing"> </span></span>ä¸­ç‰¹æ®Šå¤„ç†çš„åˆ°<span><span class="heti-spacing"> </span>x y w h</span>ã€‚è¿™æ ·è·‘æ˜¯èƒ½è·‘ï¼Œä½†æ˜¯ä¸€æ—¦å°†<span class="heti-skip"><span class="heti-spacing"> </span>Navy-apps<span class="heti-spacing"> </span></span>æ”¾åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>native<span class="heti-spacing"> </span></span>ä¸Šè¿è¡Œå°±ä¸è¡Œäº†ï¼ˆå› ä¸ºè¿™æ—¶ä¼šä½¿ç”¨<span class="heti-skip"><span class="heti-spacing"> </span>NDL<span class="heti-spacing"> </span></span>åº“ï¼Œä½†åº•å±‚çš„<span class="heti-skip"><span class="heti-spacing"> </span>fb<span class="heti-spacing"> </span></span>å†™å…¥å¤„ç†ä¸æ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>NanOS-lite<span class="heti-spacing"> </span></span>åšçš„ï¼Œè€Œæ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>native<span class="heti-spacing"> </span></span>åšçš„ï¼‰ã€‚</p>
<p>ç„¶åæˆ‘è®²è¿™ä¸ªé—®é¢˜äº¤ç»™äº†<span><span class="heti-spacing"> </span>copilot</span>ï¼Œå®ƒä¸€ä¸‹å°±å†™å‡ºæ¥äº†ï¼Œè§£å†³åŠæ³•æ˜¯é€šè¿‡<span class="heti-skip"><span class="heti-spacing"> </span>for<span class="heti-spacing"> </span></span>å¾ªç¯ä¸€è¡Œä¸€è¡Œå†™å…¥<span><span class="heti-spacing"> </span>fb</span>â€¦â€¦ æˆ‘çœŸçš„æ˜¯è„‘å­é”ˆä½äº†ï¼ˆ</p>
<p>ç„¶åæ¯”è¾ƒç—›è‹¦çš„å°±æ˜¯<span class="heti-skip"><span class="heti-spacing"> </span>miniSDL<span class="heti-spacing"> </span></span>åº“äº†ï¼Œè¿™æ—¶çš„è¿è¡Œå°±æ˜¯è½¯ä»¶è°ƒç”¨<span><span class="heti-spacing"> </span>SDL</span>ï¼Œ<span>SDL<span class="heti-spacing"> </span></span>è°ƒç”¨<span><span class="heti-spacing"> </span>NDL</span>ï¼Œ<span>NDL<span class="heti-spacing"> </span></span>å†™å…¥<span><span class="heti-spacing"> </span>fb</span>ï¼Œ<span>fb_write<span class="heti-spacing"> </span></span>å†™å…¥<span class="heti-skip"><span class="heti-spacing"> </span>VGA<span class="heti-spacing"> </span></span>è®¾å¤‡è¿™æ ·çš„å…³ç³»ã€‚è¿™ä¸ª<span class="heti-skip"><span class="heti-spacing"> </span>SDL<span class="heti-spacing"> </span></span>çš„<span><span class="heti-spacing"> </span>surface</span>ï¼Œ<span>NDL<span class="heti-spacing"> </span></span>çš„<span><span class="heti-spacing"> </span>canvas</span>ï¼Œ<span>fb<span class="heti-spacing"> </span></span>çš„å¤§å°ä¹‹é—´çš„å…³ç³»æ˜¯ä¸€ä¸ªå€¼å¾—å¥½å¥½è€ƒè™‘çš„é—®é¢˜ã€‚</p>
<ul>
<li>åªçœ‹<span class="heti-skip"><span class="heti-spacing"> </span>NDL<span class="heti-spacing"> </span></span>å’Œ<span><span class="heti-spacing"> </span>fb</span><ul>
<li><span>canvas<span class="heti-spacing"> </span></span>æ˜¯è®°å½•åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>NDL<span class="heti-spacing"> </span></span>ä¸­çš„å…¨å±€æ•°æ®</li>
<li>ä»<span class="heti-skip"><span class="heti-spacing"> </span>fb<span class="heti-spacing"> </span></span>ä¸­è·å–å±å¹•å¤§å°æ•°æ®å­˜åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>screen<span class="heti-spacing"> </span></span>ä¸­</li>
<li>ç»˜å›¾ï¼ˆDrawRectï¼‰çš„æ—¶å€™æ ¹æ®<span class="heti-skip"><span class="heti-spacing"> </span>canvas screen x y<span class="heti-spacing"> </span></span>è®¡ç®—å‡ºåœ¨å±å¹•ä¸Šå®é™…çš„ä½ç½®åæ ‡ï¼ˆ<span>canvas<span class="heti-spacing"> </span></span>ç›¸å¯¹<span class="heti-skip"><span class="heti-spacing"> </span>screen<span class="heti-spacing"> </span></span>å±…ä¸­ï¼‰ç„¶åå†™å…¥<span><span class="heti-spacing"> </span>fb</span></li>
</ul>
</li>
<li>çœ‹<span><span class="heti-spacing"> </span>SDL</span>ï¼Œè¿™æ—¶å€™åªéœ€è¦è€ƒè™‘å®ƒä¸‹ä¸€å±‚çš„<span><span class="heti-spacing"> </span>NDL</span>ï¼Œè€Œæ— éœ€è€ƒè™‘<span class="heti-skip"><span class="heti-spacing"> </span>fb<span class="heti-spacing"> </span></span>çš„é—®é¢˜<ul>
<li><code class="highlight"><span class="n">SDL_UpdateRect</span><span class="p">(</span><span class="n">SDL_Surface</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">h</span><span class="p">);</span><span class="w"></span></code> å®é™…ä¸Šæ˜¯æå–<span class="heti-skip"><span class="heti-spacing"> </span>s<span class="heti-spacing"> </span></span>ä¸Šä»<span class="heti-skip"><span class="heti-spacing"> </span>(x, y)<span class="heti-spacing"> </span></span>å¼€å§‹çš„<span class="heti-skip"><span class="heti-spacing"> </span>w*h<span class="heti-spacing"> </span></span>å¤§å°çš„çŸ©å½¢ï¼Œç„¶åé€šè¿‡<span class="heti-skip"><span class="heti-spacing"> </span>NDL_DrawRect<span class="heti-spacing"> </span></span>ç”»å‡ºæ¥ï¼Œæ­¤æ—¶çš„å‚æ•°ä¹Ÿæ˜¯ä»<span class="heti-skip"><span class="heti-spacing"> </span>(x, y)<span class="heti-spacing"> </span></span>å¼€å§‹ï¼Œå®½é«˜ä¸º<span><span class="heti-spacing"> </span>w h</span></li>
<li><code class="highlight"><span class="n">SDL_FillRect</span><span class="w"></span></code> æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œç›´æ¥å¡«å…¥<span class="heti-skip"><span class="heti-spacing"> </span>surface<span class="heti-spacing"> </span></span>çš„<span class="heti-skip"><span class="heti-spacing"> </span>pixels<span class="heti-spacing"> </span></span>å°±å¥½</li>
<li><code class="highlight"><span class="n">SDL_BlitSurface</span><span class="p">(</span><span class="n">SDL_Surface</span><span class="w"> </span><span class="o">*</span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">SDL_Rect</span><span class="w"> </span><span class="o">*</span><span class="n">srcrect</span><span class="p">,</span><span class="w"> </span><span class="n">SDL_Surface</span><span class="w"> </span><span class="o">*</span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">SDL_Rect</span><span class="w"> </span><span class="o">*</span><span class="n">dstrect</span><span class="p">);</span><span class="w"></span></code> å®é™…ä¸Šåœ¨åšçš„æ˜¯å°†<span class="heti-skip"><span class="heti-spacing"> </span>src<span class="heti-spacing"> </span></span>ä¸Šçš„ä¸€éƒ¨åˆ†çŸ©å½¢å†…å®¹æ‹·è´åˆ°<span class="heti-skip"><span class="heti-spacing"> </span>dst<span class="heti-spacing"> </span></span>ä¸ŠæŒ‡å®šçš„ä½ç½®ï¼Œå…·ä½“ä½ç½®å’Œå¤§å°å‚è€ƒ<span class="heti-skip"><span class="heti-spacing"> </span>SDL<span class="heti-spacing"> </span></span>æ–‡æ¡£ã€‚è€Œä¸”è¿™é‡Œç”šè‡³ä¸éœ€è¦è€ƒè™‘<span><span class="heti-spacing"> </span>NDL</span>ï¼Œåªè¦å¤åˆ¶è¿‡å»äº†å°±å¥½</li>
</ul>
</li>
</ul>
<p>éƒ½è°ƒå¥½ä¹‹åå°±å¯ä»¥æˆåŠŸè¿è¡Œ<span><span class="heti-spacing"> </span>NSlider</span>ã€MENUã€NTermã€Flappy Birdã€ä»™å‰‘å¥‡ä¾ ä¼ ç­‰æä¾›å¥½çš„ç¨‹åºäº†ã€‚æœ€åçš„<span class="heti-skip"><span class="heti-spacing"> </span>execve<span class="heti-spacing"> </span></span>ç³»ç»Ÿè°ƒç”¨è¿™é‡Œä¹Ÿåªéœ€è¦ç›´æ¥<span class="heti-skip"><span class="heti-spacing"> </span>load<span class="heti-spacing"> </span></span>ä¸€ä¸ªæ–°ç¨‹åºè¿›æ¥å°±å¯ä»¥äº†ã€‚</p>
<h2 id="pa4">PA4<a class="headerlink" href="#pa4" title="Permanent link">Â¶</a></h2>
<h3 id="pa41">PA4.1<a class="headerlink" href="#pa41" title="Permanent link">Â¶</a></h3>
<p>è¿™ä¸€éƒ¨åˆ†è¦å®ç°çº¿ç¨‹ä¸Šä¸‹æ–‡çš„åˆ›å»ºï¼ŒåŒ…æ‹¬å†…æ ¸è¿›ç¨‹å’Œç”¨æˆ·è¿›ç¨‹ï¼Œæ­¤å¤–ç”¨æˆ·è¿›ç¨‹åŠ è½½æ—¶è¿˜éœ€è¦ä¸ºå…¶å¸ƒå±€å¥½<span class="heti-skip"><span class="heti-spacing"> </span>argc argv envp<span class="heti-spacing"> </span></span>çš„å‚æ•°æ ˆã€‚</p>
<p>å¯¹äºå†…æ ¸è¿›ç¨‹ï¼Œè¦å®ç°çš„æœ‰ä¸º<span class="heti-skip"><span class="heti-spacing"> </span>mstatus<span class="heti-spacing"> </span></span>èµ‹åˆå€¼ã€è®¾ç½®<span class="heti-skip"><span class="heti-spacing"> </span>mepc<span class="heti-spacing"> </span></span>ä¸ºå…¥å£ç‚¹ã€è®¾ç½®<span class="heti-skip"><span class="heti-spacing"> </span>a0<span class="heti-spacing"> </span></span>ä¸ºå‚æ•°ï¼Œè®¾ç½®<span class="heti-skip"><span class="heti-spacing"> </span>sp<span class="heti-spacing"> </span></span>ä¸ºæ ˆç©ºé—´å¼€å¤´ç­‰ã€‚ç”¨æˆ·è¿›ç¨‹ç±»ä¼¼ã€‚</p>
<p>è€Œè¿™é‡Œç”¨æˆ·è¿›ç¨‹çš„åŠ è½½åˆ™éœ€è¦ä¸€ä¸ªæ–°çš„å‡½æ•°<span class="heti-skip"><span class="heti-spacing"> </span>context_uload<span class="heti-spacing"> </span></span>æ¥å®Œæˆï¼Œå…¶ä¸­è¦è¿›è¡Œå‚æ•°çš„å¸ƒå±€ã€‚å…·ä½“æ¥è®²å°±æ˜¯ä»æ ˆé¡¶ï¼ˆé«˜åœ°å€ï¼‰å¼€å§‹ä¾æ¬¡å­˜æ”¾<span class="heti-skip"><span class="heti-spacing"> </span>envp<span class="heti-spacing"> </span></span>å„ä¸ªå­—ç¬¦ä¸²ï¼Œ<span>argv<span class="heti-spacing"> </span></span>å„ä¸ªå­—ç¬¦ä¸²ï¼Œç©ºä¸€ä¸ªï¼ˆ<span>envp<span class="heti-spacing"> </span></span>æ•°ç»„æœ€åçš„<span><span class="heti-spacing"> </span>NULL</span>ï¼‰ï¼Œç„¶åå€’åºå­˜æ”¾<span class="heti-skip"><span class="heti-spacing"> </span>envp<span class="heti-spacing"> </span></span>æ•°ç»„ï¼ˆå†…å®¹æ˜¯æŒ‡å‘å‰é¢å„ä¸ªå­—ç¬¦ä¸²çš„æŒ‡é’ˆï¼‰ï¼Œç©ºä¸€ä¸ªï¼ˆ<span>argv<span class="heti-spacing"> </span></span>æ•°ç»„æœ€åçš„<span><span class="heti-spacing"> </span>NULL</span>ï¼‰ï¼Œç„¶åå€’åºå­˜æ”¾<span class="heti-skip"><span class="heti-spacing"> </span>argv<span class="heti-spacing"> </span></span>æ•°ç»„ï¼Œæœ€åå­˜æ”¾<span><span class="heti-spacing"> </span>argc</span>ã€‚ç„¶åç”¨æˆ·æ ˆä»åé¢å¼€å§‹å‘ä½åœ°å€å»¶ä¼¸ã€‚å…·ä½“å°±å¾ˆå¥½å®ç°äº†ã€‚</p>
<h3 id="pa42">PA4.2<a class="headerlink" href="#pa42" title="Permanent link">Â¶</a></h3>
<p>è¿™ä¸€éƒ¨åˆ†è¦å®ç°åˆ†é¡µæœºåˆ¶ï¼Œåšè¿™é‡Œçš„æ—¶å€™å­¦æ ¡çš„ç³»ç»Ÿè¯¾ç¨‹è¿˜æ²¡æœ‰é™åˆ°è™šæ‹Ÿå†…å­˜ç®¡ç†çš„éƒ¨åˆ†ï¼Œ<span>RISC-V<span class="heti-spacing"> </span></span>æ‰‹å†Œé˜…è¯»å½“æ—¶ä¹Ÿè·³è¿‡äº†è¿™é‡Œï¼Œå¯èƒ½ç†è§£çš„è¿˜æ˜¯ä¸å¤Ÿé€å½»ï¼Œåªæ˜¯èƒ½è·‘è€Œå·²ï¼Œæ‰€ä»¥å°±ä¸å†è¿™é‡Œè¯¦ç»†å†™äº†ã€‚å…·ä½“ä¼šåœ¨ç³»ç»Ÿè®²åˆ°çš„æ—¶å€™å†™åˆ°é‚£é‡Œï¼Œä»¥åŠ<span class="heti-skip"><span class="heti-spacing"> </span>RISC-V<span class="heti-spacing"> </span></span>æ‰‹å†Œä¹‹åå†è¯¦ç»†è¯»äº†ä¹‹åå†è¡¥å……è¿›å»ã€‚</p>
<p>è¿™é‡Œå½“æ—¶è°ƒè¯•çš„ä¸€ä¸ªå›°éš¾æ˜¯å®ç°äº†åˆ†é¡µæœºåˆ¶ä¹‹å<span class="heti-skip"><span class="heti-spacing"> </span>difftest<span class="heti-spacing"> </span></span>æ—¶<span class="heti-skip"><span class="heti-spacing"> </span>mstatus<span class="heti-spacing"> </span></span>æ€»æ˜¯å¯¹ä¸ä¸Šï¼Œç„¶åä»”ç»†ä¿®æ”¹äº†<span><span class="heti-spacing"> </span>ecall</span>ã€<span>mret<span class="heti-spacing"> </span></span>çš„å®ç°ï¼Œç»“æœå¼‚å¸¸å·åˆå¯¹ä¸ä¸Šäº†ï¼ˆ8/11ï¼Œå¤§æ¦‚æ˜¯ç‰¹æƒçº§è®°å½•çš„é—®é¢˜ï¼‰ã€‚è€Œä¸”<span class="heti-skip"><span class="heti-spacing"> </span>ref<span class="heti-spacing"> </span></span>ä¹Ÿä¼šæŠ›å‡º<span class="heti-skip"><span class="heti-spacing"> </span>7<span class="heti-spacing"> </span></span>å·å¼‚å¸¸ï¼Œä¹Ÿå°±æ˜¯<span><span class="heti-spacing"> </span>Store/AMO Access Fault</span>ï¼Œå¤§æ¦‚æ˜¯åˆ†é¡µæœºåˆ¶å¯¼è‡´çš„æƒé™é—®é¢˜ï¼Œæ ¹æ®å®éªŒæ‰‹å†Œçš„æç¤ºï¼Œç»™é¡µè¡¨é¡¹åŠ äº†äº›<span class="heti-skip"><span class="heti-spacing"> </span>flag<span class="heti-spacing"> </span></span>ç®—æ˜¯è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ä½†æ˜¯ç‰¹æƒçº§ç»•æ¥ç»•å»ä¸å¤ªæ¸…æ¥šæ€ä¹ˆæ”¹ï¼Œæœ‰ç‚¹å¤æ‚ã€‚è€Œä¸”åé¢åˆ°äº†æ—¶é’Ÿä¸­æ–­å°±è¦æŠ›å¼ƒ<span class="heti-skip"><span class="heti-spacing"> </span>difftest<span class="heti-spacing"> </span></span>äº†ï¼Œæ‰€ä»¥è¿™é‡Œç›´æ¥å¼€æ‘†äº†ã€‚</p>
<h3 id="pa43">PA4.3<a class="headerlink" href="#pa43" title="Permanent link">Â¶</a></h3>
<p>æœ€åè¿™éƒ¨åˆ†æ—¶é’Ÿä¸­æ–­å’ŒæŠ¢å å¼è°ƒåº¦å…¶å®éƒ½è¿˜å¥½å†™ã€‚ä½†æ˜¯åé¢å†…æ ¸æ ˆå’Œç”¨æˆ·æ ˆåˆ‡æ¢çœ‹çš„æœ‰ç‚¹è¿·è¿·ç³Šç³Šäº†ï¼Œå¯èƒ½æ˜¯åˆ†é¡µæœºåˆ¶å°±ä¸å¤ªç†Ÿçš„ç¼˜æ•…ï¼Œä¹Ÿæ˜¯å†™å¾—èƒ½è·‘å°±è¡Œäº†ï¼Œè¿™é‡Œå°±ä¸è®°äº†ï¼Œä¹‹åç†è§£æ¸…æ¥šäº†å†è¡¥å……ã€‚</p>
<p>æ€»ä¹‹è¿™å°±æ˜¯èƒ½å›å¿†èµ·æ¥çš„å…¨éƒ¨å€¼å¾—ä¸€è®°çš„å†…å®¹äº†ã€‚</p>
<h2 id="_6">é—ç•™é—®é¢˜<a class="headerlink" href="#_6" title="Permanent link"><span><span class="heti-spacing"> </span>Â¶</span></a></h2>
<p>ç¬¬ä¸€éåˆ·<span><span class="heti-spacing"> </span>PA</span>ï¼Œä¹Ÿæƒ³ç€æ—¢ç„¶æœ‰äº†ç‚¹åŸºç¡€ï¼Œé‚£å°±å°½å¿«å®Œæˆï¼ˆ<del>ç•™å‡ºçš„æ—¶é—´è¿˜èƒ½å¹²ç‚¹åˆ«<heti-adjacent class="heti-adjacent-half"></heti-adjacent>çš„</del>ï¼‰ï¼Œè™½ç„¶è¯´å¿…åšä»»åŠ¡éƒ½å®Œæˆäº†ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€äº›é€‰åšä»»åŠ¡è¿˜æ²¡åšï¼Œç•™äº†ä¸€ç‚¹é—æ†¾ã€‚ä»¥åæœ‰æœºä¼šäºŒåˆ·çš„æ—¶å€™å†å®Œæ•´å®Œæˆï¼ˆæˆ‘ä¼°è®¡å¯èƒ½ä¼šå’•ï¼‰ã€‚</p>
<ul>
<li><span>PA2.2 trace<span class="heti-spacing"> </span></span>æœ‰ç‚¹è¯¯è§£äº†ï¼Œæˆ‘ä»¥ä¸ºéƒ½æ˜¯åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>sdb<span class="heti-spacing"> </span></span>ä¸­é€šè¿‡å‘½ä»¤æ‰‹åŠ¨è¾“å‡ºçš„ï¼Œä½†å…¶å®åœ¨è§¦å‘çš„æ—¶å€™ç›´æ¥<span class="heti-skip"><span class="heti-spacing"> </span>Log<span class="heti-spacing"> </span></span>å‡ºæ¥æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©</li>
<li><span>PA2.2 klib<span class="heti-spacing"> </span></span>æ²¡æœ‰è¿›è¡Œæµ‹è¯•ï¼Œå†™å®Œäº†ç›´æ¥å¼€è·‘</li>
<li><span>PA2.3<span class="heti-spacing"> </span></span>å£°å¡å®ç°äº†ï¼Œä½†æ˜¯å¬èµ·æ¥æœ‰æ‚éŸ³ï¼Œå¯èƒ½æ˜¯å†™çš„æœ‰ç‚¹é—®é¢˜ï¼Œæ²¡å†ç»†è°ƒï¼Œåé¢å£°å¡ç›¸å…³çš„é€‰åšä¹Ÿæ²¡å†åš</li>
<li><span>PA2.3<span class="heti-spacing"> </span></span>æœ€åé€‰åšçš„ä¼˜åŒ–<span><span class="heti-spacing"> </span>LiteNES</span>ã€åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>NEMU<span class="heti-spacing"> </span></span>ä¸Šè·‘<span class="heti-skip"><span class="heti-spacing"> </span>NEMU<span class="heti-spacing"> </span></span>çš„ä¸¤ä¸ªå®éªŒçœ‹èµ·æ¥æŒºæœ‰è¶£ï¼Œä½†æ²¡åš</li>
<li><span>PA3.2<span class="heti-spacing"> </span></span>é€‰åšçš„â€æ”¯æŒå¤šä¸ª<span class="heti-skip"><span class="heti-spacing"> </span>ELF<span class="heti-spacing"> </span></span>çš„<span><span class="heti-spacing"> </span>ftrace</span>â€œæ²¡åšï¼Œè¿˜è¦è¯»å–ã€è¿˜è¦è§£æã€è¿˜è¦è®¡ç®—ï¼Œæ‡’å¾—å†™äº†ï¼ˆx</li>
<li><span>PA3.3<span class="heti-spacing"> </span></span>åœ¨<span class="heti-skip"><span class="heti-spacing"> </span>Navy<span class="heti-spacing"> </span></span>ä¸Šè¿è¡Œ<span><span class="heti-spacing"> </span>am-kernels</span>ã€fceuxã€<span>oslab<span class="heti-spacing"> </span></span>ä»¥åŠå¸¦å£°éŸ³çš„ç¨‹åºï¼Œè¿™äº›é€‰åšéƒ½æ²¡åš</li>
<li><span>PA3.3<span class="heti-spacing"> </span></span>è‡ªç”±å¼€å…³<span><span class="heti-spacing"> </span>difftest</span>ï¼Œå¿«ç…§åŠŸèƒ½éƒ½æ²¡åšï¼Œå› ä¸ºæˆ‘å¥½åƒä¹Ÿæ²¡æ€ä¹ˆç”¨è¿‡<span class="heti-skip"><span class="heti-spacing"> </span>sdb<span class="heti-spacing"> </span></span>æ¥è°ƒè¯•ï¼Œè€Œä¸”<span class="heti-skip"><span class="heti-spacing"> </span>difftest<span class="heti-spacing"> </span></span>ä¸ç”¨çš„æ—¶å€™æˆ‘å°±ç›´æ¥å…³æ‰äº†</li>
<li><span>PA4.2<span class="heti-spacing"> </span></span>æ·»åŠ åˆ†é¡µæœºåˆ¶åæš´éœ²å‡ºäº†<span class="heti-skip"><span class="heti-spacing"> </span>NEMU<span class="heti-spacing"> </span></span>çš„ç‰¹æƒçº§ç®¡ç†æ²¡åšå¥½ï¼Œå¯¼è‡´<span class="heti-skip"><span class="heti-spacing"> </span>difftest<span class="heti-spacing"> </span></span>å‡ºç°äº†é—®é¢˜ï¼ˆ<span>mstatus<span class="heti-spacing"> </span></span>å¯¹ä¸ä¸Šï¼Œæˆ–è€…è®¿å­˜æƒé™å¼‚å¸¸ï¼‰ï¼Œè°ƒäº†åŠå¤©æ²¡è°ƒå¥½ï¼Œæš‚æ—¶æ”¾å¼ƒäº†ï¼ˆ<del>åæ­£å¿«åˆ°æ—¶é’Ÿä¸­æ–­ä¹Ÿè¦æŠ›å¼ƒ<span class="heti-skip"><span class="heti-spacing"> </span>difftest<span class="heti-spacing"> </span></span>äº†</del>ï¼‰</li>
<li><span>PA4.3<span class="heti-spacing"> </span></span>å†…æ ¸æ ˆç”¨æˆ·æ ˆåˆ‡æ¢ï¼Œè¿˜æœ‰å‰é¢çš„åˆ†é¡µæœºåˆ¶é…åˆèµ·æ¥ï¼Œå¯èƒ½è¿˜éœ€è¦å†æ·±å…¥ç†è§£ç†è§£</li>
<li><span>PA4.3<span class="heti-spacing"> </span></span>æœ€åé€‰åšçš„è¿è¡Œ<span class="heti-skip"><span class="heti-spacing"> </span>ONScripter<span class="heti-spacing"> </span></span>éƒ¨åˆ†éƒ½æ²¡æœ‰åšï¼ˆæœ‰å£°éŸ³å’Œç£ç›˜çš„å†…å®¹ï¼‰</li>
<li>æœ€åå…³äº<span><span class="heti-spacing"> </span>ISA</span>ï¼Œ<span>x86<span class="heti-spacing"> </span></span>çš„çœ‹èµ·æ¥ä¹Ÿæœ‰ç‚¹æ„æ€ï¼ˆè™½ç„¶å–æŒ‡è¯‘ç çœ‹èµ·æ¥æœ‰äº›ç¹çï¼‰ï¼Œè€Œä¸”ä»¥ååº”è¯¥ä¹Ÿä¼šè¾ƒå¤šæ¥è§¦ï¼Œæˆ–è®¸å¯ä»¥çœ‹çœ‹ã€‚<span>mips<span class="heti-spacing"> </span></span>çš„åæœŸçœ‹èµ·æ¥å°±æœ‰ç‚¹ç—›è‹¦é¢å…·ï¼ŒåŒ…æ‹¬<span class="heti-skip"><span class="heti-spacing"> </span>difftest<span class="heti-spacing"> </span></span>åˆ†æ”¯å»¶è¿Ÿçš„å¤„ç†ï¼Œè¿˜æœ‰å¥‡æ€ªåˆ†é¡µæœºåˆ¶ä»€ä¹ˆçš„ï¼Œå¯èƒ½ä¸ä¼šå°è¯•</li>
</ul>
<hr/>
<div class="md-source-file">
<small>
    
      æœ€åæ›´æ–°:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">2023å¹´2æœˆ2æ—¥ 00:02:12</span>
<br/>
        åˆ›å»ºæ—¥æœŸ:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">2023å¹´2æœˆ2æ—¥ 00:02:12</span>
</small>
</div>
<script async="" crossorigin="anonymous" data-category="General" data-category-id="DIC_kwDOGnfbUc4CPrf4" data-emit-metadata="0" data-input-position="bottom" data-lang="zh-CN" data-mapping="pathname" data-reactions-enabled="1" data-repo="TonyCrane/note" data-repo-id="R_kgDOGnfbUQ" data-theme="light" src="https://giscus.app/client.js">
</script>
<script>
                      if (document.querySelector("body").getAttribute("data-md-color-scheme") === "slate") {
                        var giscus = document.querySelector("script[src*=giscus]")
                        giscus.setAttribute("data-theme", "https://gcore.jsdelivr.net/gh/TonyCrane/note/docs/css/giscus.css") 
                      }
                    </script>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" data-md-state="hidden" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path></svg>
              å›åˆ°é¡µé¢é¡¶éƒ¨
            </a>
</main>
<footer class="md-footer">
<nav aria-label="é¡µè„š" class="md-footer__inner md-grid">
<a aria-label="ä¸Šä¸€é¡µ: ç³»ç»Ÿ II lab5" class="md-footer__link md-footer__link--prev" href="../cs2/lab5/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                ä¸Šä¸€é¡µ
              </span>
              ç³»ç»Ÿ II lab5
            </div>
</div>
</a>
<a aria-label="ä¸‹ä¸€é¡µ: æ•°æ®ç»“æ„åŸºç¡€" class="md-footer__link md-footer__link--next" href="../../algorithm/ds/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                ä¸‹ä¸€é¡µ
              </span>
              æ•°æ®ç»“æ„åŸºç¡€
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright Â© 2022-2023 <a href="https://github.com/TonyCrane" rel="noopener" target="_blank">TonyCrane</a>
</div>
  
  
    Powered by
    <a href="https://www.mkdocs.org/" rel="noopener" target="_blank">
      MkDocs
    </a>
    with theme
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material
    </a>
    modified by
    <a href="https://github.com/TonyCrane" rel="noopener" target="_blank">
      TonyCrane
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/TonyCrane/" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</a>
<a class="md-social__link" href="https://blog.tonycrane.cc/" rel="noopener" target="_blank" title="blog.tonycrane.cc">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"></path></svg>
</a>
<a class="md-social__link" href="https://tonycrane.cc/" rel="noopener" target="_blank" title="tonycrane.cc">
<svg viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><path d="M280.37 148.26 96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47 488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top"], "search": "../../../assets/javascripts/workers/search.361d90f1.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\uff0c\\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
<script src="../../../assets/javascripts/bundle.289a2a4b.min.js"></script>
<script src="https://cdn.tonycrane.cc/utils/katex.min.js"></script>
<script src="../../../js/katex.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>
