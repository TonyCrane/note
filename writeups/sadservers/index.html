<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="鹤翔万里（TonyCrane）的笔记本" name="description"/>
<link href="https://note.tonycrane.cc/writeups/sadservers/" rel="canonical"/>
<link href="../SecurityInnovation/" rel="prev"/>
<link href="../AAA/" rel="next"/>
<link href="../../feed_rss_created.xml" rel="alternate" title="RSS 订阅" type="application/rss+xml"/>
<link href="../../feed_rss_updated.xml" rel="alternate" title="已更新内容的 RSS 订阅" type="application/rss+xml"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.16" name="generator"/>
<title>SadServers - 鹤翔万里的笔记本</title>
<link href="../../assets/stylesheets/main.7e37652d.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link href="../../css/counter.css" rel="stylesheet"/>
<link href="../../css/heti.css" rel="stylesheet"/>
<link href="../../css/timeline.css" rel="stylesheet"/>
<link href="https://cdn.tonycrane.cc/utils/katex.min.css" rel="stylesheet"/>
<link href="https://cdn.tonycrane.cc/jbmono/jetbrainsmono.css" rel="stylesheet"/>
<link href="https://cdn.tonycrane.cc/lxgw/lxgwscreen.css" rel="stylesheet"/>
<link href="../../css/tasklist.css" rel="stylesheet"/>
<link href="../../css/custom.css" rel="stylesheet"/>
<link href="../../css/card.css" rel="stylesheet"/>
<link href="../../css/flink.css" rel="stylesheet"/>
<link href="../../css/changelog_extra.css" rel="stylesheet"/>
<link href="../../css/toc_extra.css" rel="stylesheet"/>
<link href="../../css/svg_extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?c273de7f67d992cb6aef08c3ddf09bb2";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DYETCPM289"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&gtag("event","search",{search_term:this.value})}),"undefined"!=typeof location$&&location$.subscribe(function(e){gtag("config","G-DYETCPM289",{page_path:e.pathname})})})</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-DYETCPM289"></script>
<script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
<link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#sadservers-writeup">
          跳转至
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="页眉" class="md-header__inner md-grid">
<a aria-label="鹤翔万里的笔记本" class="md-header__button md-logo" data-md-component="logo" href="../.." title="鹤翔万里的笔记本">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 4v6l-2-2-2 2V4H9v16h10V4zM3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7zm2-2v2h2V5zm0 14h2v-2H5zm0-6h2v-2H5z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            鹤翔万里的笔记本
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              SadServers
            
          </span>
</div>
</div>
</div>
<div class="md-header__options">
<div class="md-header-nav__scheme md-header-nav__button md-source__icon md-icon">
<a class="light-mode" href="javascript:toggleScheme();" title="Light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg>
</a>
<a class="dark-mode" href="javascript:toggleScheme();" title="Dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg>
</a>
<a class="system-mode" href="javascript:toggleScheme();" title="System preference">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 2c-1.79 1.15-3 3.18-3 5.5s1.21 4.35 3.03 5.5C4.46 13 2 10.54 2 7.5A5.5 5.5 0 0 1 7.5 2m11.57 1.5 1.43 1.43L4.93 20.5 3.5 19.07zm-6.18 2.43L11.41 5 9.97 6l.42-1.7L9 3.24l1.75-.12.58-1.65L12 3.1l1.73.03-1.35 1.13zm-3.3 3.61-1.16-.73-1.12.78.34-1.32-1.09-.83 1.36-.09.45-1.29.51 1.27 1.36.03-1.05.87zM19 13.5a5.5 5.5 0 0 1-5.5 5.5c-1.22 0-2.35-.4-3.26-1.07l7.69-7.69c.67.91 1.07 2.04 1.07 3.26m-4.4 6.58 2.77-1.15-.24 3.35zm4.33-2.7 1.15-2.77 2.2 2.54zm1.15-4.96-1.14-2.78 3.34.24zM9.63 18.93l2.77 1.15-2.53 2.19z"></path></svg>
</a>
<a class="unknown-mode" href="javascript:toggleScheme();" title="Unknown scheme">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m15.07 11.25-.9.92C13.45 12.89 13 13.5 13 15h-2v-.5c0-1.11.45-2.11 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41a2 2 0 0 0-2-2 2 2 0 0 0-2 2H8a4 4 0 0 1 4-4 4 4 0 0 1 4 4 3.2 3.2 0 0 1-.93 2.25M13 19h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10"></path></svg>
</a>
</div>
</div>
<script src="../../js/scheme.js" type="text/javascript"></script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="搜索" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="搜索" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="查找" class="md-search__options">
<button aria-label="清空当前内容" class="md-search__icon md-icon" tabindex="-1" title="清空当前内容" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/TonyCrane/note/" title="前往仓库">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4" fill="currentColor"></path></svg>
</div>
<div class="md-source__repository">
    TonyCrane/note
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="标签" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
          
  
  
    
  
  Home

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../cs/">
          
  
  
    
  
  Computer Science

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../sec/">
          
  
  
    
  
  Security

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../web/">
          
  
  
    
  
  Web

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../ctf/">
          
  
  
    
  
  CTF

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../">
          
  
  
    
  
  Writeups

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../others/">
          
  
  
    
  
  Others

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="导航栏" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="鹤翔万里的笔记本" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="鹤翔万里的笔记本">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 4v6l-2-2-2 2V4H9v16h10V4zM3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7zm2-2v2h2V5zm0 14h2v-2H5zm0-6h2v-2H5z"></path></svg>
</a>
    鹤翔万里的笔记本
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/TonyCrane/note/" title="前往仓库">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4" fill="currentColor"></path></svg>
</div>
<div class="md-source__repository">
    TonyCrane/note
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
    
  </span>
</a>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            Home
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../changelog/">
<span class="md-ellipsis">
    更新记录
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../links/">
<span class="md-ellipsis">
    友链
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../cs/">
<span class="md-ellipsis">
    Computer Science
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Computer Science
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../cs/pl/">
<span class="md-ellipsis">
    编程语言 &amp; ISA
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
            编程语言 &amp; ISA
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_2_2" id="__nav_2_2_2_label" tabindex="0">
<span class="md-ellipsis">
    C/C++
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_2_2">
<span class="md-nav__icon md-icon"></span>
            C/C++
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/c_cpp/c/">
<span class="md-ellipsis">
    C 语言杂项
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/c_cpp/oop/">
<span class="md-ellipsis">
    C++ 面向对象
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../cs/pl/python/">
<span class="md-ellipsis">
    Python
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_2_3" id="__nav_2_2_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_2_3">
<span class="md-nav__icon md-icon"></span>
            Python
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/python/basic/">
<span class="md-ellipsis">
    Python 基础语法
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/python/numpy/">
<span class="md-ellipsis">
    NumPy
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/python/pil/">
<span class="md-ellipsis">
    PIL
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../cs/pl/rust/">
<span class="md-ellipsis">
    Rust
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_2_4" id="__nav_2_2_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_4_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_2_4">
<span class="md-nav__icon md-icon"></span>
            Rust
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/rust/basic/">
<span class="md-ellipsis">
    Rust 基础语法
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/rust/misc/">
<span class="md-ellipsis">
    Rust 杂项随记
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/haskell/">
<span class="md-ellipsis">
    Haskell
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/chisel/">
<span class="md-ellipsis">
    Chisel
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/asm/">
<span class="md-ellipsis">
    x86 汇编语言
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2_8" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../cs/pl/riscv/">
<span class="md-ellipsis">
    RISC-V ISA
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_2_8" id="__nav_2_2_8_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_8_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_2_8">
<span class="md-nav__icon md-icon"></span>
            RISC-V ISA
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/riscv/unprivileged/">
<span class="md-ellipsis">
    RISC-V 非特权级 ISA
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/riscv/privileged/">
<span class="md-ellipsis">
    RISC-V 特权级 ISA
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/riscv/paging/">
<span class="md-ellipsis">
    RISC-V 页表相关
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/riscv/spike/">
<span class="md-ellipsis">
    Spike 工具链相关
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2_9" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../cs/pl/ppl/">
<span class="md-ellipsis">
    编程语言原理
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_2_9" id="__nav_2_2_9_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_9_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_2_9">
<span class="md-nav__icon md-icon"></span>
            编程语言原理
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/ppl/topic1/">
<span class="md-ellipsis">
    Lambda 演算
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/ppl/topic2/">
<span class="md-ellipsis">
    抽象语法树与归纳法
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/ppl/topic3/">
<span class="md-ellipsis">
    静态语义与动态语义
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/ppl/topic4/">
<span class="md-ellipsis">
    函数与递归
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/ppl/topic5/">
<span class="md-ellipsis">
    数据类型
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/ppl/topic6/">
<span class="md-ellipsis">
    递归系统 PCF
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2_10" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../cs/pl/compiler/">
<span class="md-ellipsis">
    编译原理
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_2_10" id="__nav_2_2_10_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_10_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_2_10">
<span class="md-nav__icon md-icon"></span>
            编译原理
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/pl/compiler/topic1/">
<span class="md-ellipsis">
    词法分析与语法分析
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../cs/system/">
<span class="md-ellipsis">
    计算机系统
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
            计算机系统
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../cs/system/cs1/">
<span class="md-ellipsis">
    计算机系统 I
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_3_2" id="__nav_2_3_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_3_2">
<span class="md-nav__icon md-icon"></span>
            计算机系统 I
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs1/topic1/">
<span class="md-ellipsis">
    数据的表示
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs1/topic2/">
<span class="md-ellipsis">
    数字逻辑电路基础
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs1/topic3/">
<span class="md-ellipsis">
    组合逻辑电路设计
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs1/topic4/">
<span class="md-ellipsis">
    时序逻辑电路设计
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs1/topic5/">
<span class="md-ellipsis">
    指令集体系结构
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs1/topic6/">
<span class="md-ellipsis">
    处理器
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3_2_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3_2_8" id="__nav_2_3_2_8_label" tabindex="0">
<span class="md-ellipsis">
    系统 I 实验部分
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_2_8_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_2_3_2_8">
<span class="md-nav__icon md-icon"></span>
            系统 I 实验部分
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs1/lab1-1/">
<span class="md-ellipsis">
    系统 I lab1-1
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs1/lab1-2/">
<span class="md-ellipsis">
    系统 I lab1-2
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs1/lab2-1/">
<span class="md-ellipsis">
    系统 I lab2-1
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs1/lab2-2/">
<span class="md-ellipsis">
    系统 I lab2-2
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs1/lab3/">
<span class="md-ellipsis">
    系统 I lab3
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs1/lab4-1/">
<span class="md-ellipsis">
    系统 I lab4-1
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs1/lab4-2/">
<span class="md-ellipsis">
    系统 I lab4-2
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs1/lab5-1/">
<span class="md-ellipsis">
    系统 I lab5-1
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs1/lab5-2/">
<span class="md-ellipsis">
    系统 I lab5-2
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../cs/system/cs2/">
<span class="md-ellipsis">
    计算机系统 II
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_3_3" id="__nav_2_3_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_3_3">
<span class="md-nav__icon md-icon"></span>
            计算机系统 II
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs2/topic1/">
<span class="md-ellipsis">
    流水线 CPU
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs2/topic2/">
<span class="md-ellipsis">
    操作系统简介
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs2/topic3/">
<span class="md-ellipsis">
    操作系统结构及系统调用
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs2/topic4/">
<span class="md-ellipsis">
    进程与线程
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs2/topic5/">
<span class="md-ellipsis">
    CPU 调度
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs2/topic6/">
<span class="md-ellipsis">
    进程同步
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3_3_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3_3_8" id="__nav_2_3_3_8_label" tabindex="0">
<span class="md-ellipsis">
    系统 II 实验部分
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_3_8_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_2_3_3_8">
<span class="md-nav__icon md-icon"></span>
            系统 II 实验部分
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs2/lab1/">
<span class="md-ellipsis">
    系统 II lab1
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs2/lab2/">
<span class="md-ellipsis">
    系统 II lab2
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs2/lab7/">
<span class="md-ellipsis">
    系统 II lab7
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../cs/system/cs3/">
<span class="md-ellipsis">
    计算机系统 III
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_3_4" id="__nav_2_3_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_4_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_3_4">
<span class="md-nav__icon md-icon"></span>
            计算机系统 III
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs3/topic1/">
<span class="md-ellipsis">
    系统量化研究方法
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3_4_3" id="__nav_2_3_4_3_label" tabindex="0">
<span class="md-ellipsis">
    系统 III 实验部分
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_4_3_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_2_3_4_3">
<span class="md-nav__icon md-icon"></span>
            系统 III 实验部分
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs3/lab1/">
<span class="md-ellipsis">
    系统 III lab1
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/cs3/lab2/">
<span class="md-ellipsis">
    系统 III lab2
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/system/pa/">
<span class="md-ellipsis">
    ICS PA 实验纪实
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
<span class="md-ellipsis">
    算法相关
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_4">
<span class="md-nav__icon md-icon"></span>
            算法相关
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_4_1" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../cs/algorithm/ds/">
<span class="md-ellipsis">
    数据结构基础
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_4_1" id="__nav_2_4_1_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_4_1_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_4_1">
<span class="md-nav__icon md-icon"></span>
            数据结构基础
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/algorithm/ds/topic1/">
<span class="md-ellipsis">
    算法分析基础
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/algorithm/ds/summary1/">
<span class="md-ellipsis">
    基础数据结构
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/algorithm/ds/summary2/">
<span class="md-ellipsis">
    排序与哈希
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
<span class="md-ellipsis">
    人工智能相关
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_5">
<span class="md-nav__icon md-icon"></span>
            人工智能相关
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/ai/basic/">
<span class="md-ellipsis">
    人工智能基础
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
<span class="md-ellipsis">
    高性能计算相关
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_6">
<span class="md-nav__icon md-icon"></span>
            高性能计算相关
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_6_1" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../cs/hpc/hpc101/">
<span class="md-ellipsis">
    HPC 101 超算小学期
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_6_1" id="__nav_2_6_1_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_6_1_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_6_1">
<span class="md-nav__icon md-icon"></span>
            HPC 101 超算小学期
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/hpc/hpc101/vectorized/">
<span class="md-ellipsis">
    向量化计算
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/hpc/hpc101/gpu/">
<span class="md-ellipsis">
    GPU 编程
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/hpc/hpc101/openmp/">
<span class="md-ellipsis">
    OpenMP 基础
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/hpc/hpc101/mpi/">
<span class="md-ellipsis">
    MPI 基础
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/hpc/hpc101/ml/">
<span class="md-ellipsis">
    机器学习基础
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
<span class="md-ellipsis">
    理论计算机相关
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_7">
<span class="md-nav__icon md-icon"></span>
            理论计算机相关
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_7_1" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../cs/tcs/toc/">
<span class="md-ellipsis">
    计算理论
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_7_1" id="__nav_2_7_1_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_7_1_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_7_1">
<span class="md-nav__icon md-icon"></span>
            计算理论
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/tcs/toc/topic1/">
<span class="md-ellipsis">
    语言、自动机与正则表达式
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/tcs/toc/topic2/">
<span class="md-ellipsis">
    上下文无关语言
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/tcs/toc/topic3/">
<span class="md-ellipsis">
    图灵机理论基础
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/tcs/toc/topic4/">
<span class="md-ellipsis">
    判定问题
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/tcs/toc/topic5/">
<span class="md-ellipsis">
    函数可计算性
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/tcs/toc/topic6/">
<span class="md-ellipsis">
    复杂度理论
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
<span class="md-ellipsis">
    零散知识点
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_8_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_8">
<span class="md-nav__icon md-icon"></span>
            零散知识点
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/regex/">
<span class="md-ellipsis">
    正则表达式
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/unicode/">
<span class="md-ellipsis">
    Unicode
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_9" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../cs/analysis/">
<span class="md-ellipsis">
    源码剖析
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_9_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_9">
<span class="md-nav__icon md-icon"></span>
            源码剖析
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/analysis/mkdocs/">
<span class="md-ellipsis">
    mkdocs 源码剖析
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_10" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../cs/tools/">
<span class="md-ellipsis">
    工具相关
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_10" id="__nav_2_10_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_10_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_10">
<span class="md-nav__icon md-icon"></span>
            工具相关
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/tools/toolbox/">
<span class="md-ellipsis">
    工具收集
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_10_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_10_3" id="__nav_2_10_3_label" tabindex="0">
<span class="md-ellipsis">
    命令行工具
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_10_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_10_3">
<span class="md-nav__icon md-icon"></span>
            命令行工具
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/tools/git/">
<span class="md-ellipsis">
    Git 命令备忘
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/tools/shell/">
<span class="md-ellipsis">
    Shell 命令备忘
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/tools/docker/">
<span class="md-ellipsis">
    Docker 相关备忘
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/tools/gdb/">
<span class="md-ellipsis">
    gdb 相关备忘
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_10_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_10_4" id="__nav_2_10_4_label" tabindex="0">
<span class="md-ellipsis">
    CI 工具
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_10_4_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_10_4">
<span class="md-nav__icon md-icon"></span>
            CI 工具
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/tools/action/">
<span class="md-ellipsis">
    GitHub Action
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_10_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_10_5" id="__nav_2_10_5_label" tabindex="0">
<span class="md-ellipsis">
    站点生成工具
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_10_5_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_10_5">
<span class="md-nav__icon md-icon"></span>
            站点生成工具
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/tools/mkdocs/">
<span class="md-ellipsis">
    mkdocs 使用记录
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/tools/hexo/">
<span class="md-ellipsis">
    hexo 使用记录
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs/tools/sphinx/">
<span class="md-ellipsis">
    sphinx 使用记录
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../sec/">
<span class="md-ellipsis">
    Security
    
  </span>
</a>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Security
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../sec/crypto/">
<span class="md-ellipsis">
    密码学
    
  </span>
</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
            密码学
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../sec/softsec/">
<span class="md-ellipsis">
    软件安全
    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_3">
<span class="md-nav__icon md-icon"></span>
            软件安全
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../sec/softsec/lab1/">
<span class="md-ellipsis">
    软件安全 lab1
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sec/softsec/lab2/">
<span class="md-ellipsis">
    软件安全 lab2
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sec/softsec/lab3/">
<span class="md-ellipsis">
    软件安全 lab3
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sec/softsec/lab4/">
<span class="md-ellipsis">
    软件安全 lab4
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sec/softsec/final/">
<span class="md-ellipsis">
    软件安全 final lab
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../sec/netsec/">
<span class="md-ellipsis">
    网络安全
    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_4">
<span class="md-nav__icon md-icon"></span>
            网络安全
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../sec/netsec/lab1/">
<span class="md-ellipsis">
    网络安全 lab1
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sec/netsec/lab2/">
<span class="md-ellipsis">
    网络安全 lab2
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sec/netsec/lab3/">
<span class="md-ellipsis">
    网络安全 lab3
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sec/netsec/hw/">
<span class="md-ellipsis">
    网络安全理论作业
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../sec/syssec/">
<span class="md-ellipsis">
    系统安全
    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_5">
<span class="md-nav__icon md-icon"></span>
            系统安全
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../sec/syssec/lab1/">
<span class="md-ellipsis">
    系统安全 lab1
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sec/syssec/lab2/">
<span class="md-ellipsis">
    系统安全 lab2
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sec/syssec/lab3/">
<span class="md-ellipsis">
    系统安全 lab3
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sec/syssec/project/">
<span class="md-ellipsis">
    eBPF 简介与漏洞分析
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_6" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../sec/iotsec/">
<span class="md-ellipsis">
    无线与物联网安全
    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_6">
<span class="md-nav__icon md-icon"></span>
            无线与物联网安全
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../sec/iotsec/lab1/">
<span class="md-ellipsis">
    物联网安全 lab1
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sec/iotsec/lab2/">
<span class="md-ellipsis">
    物联网安全 lab2
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sec/iotsec/lab3/">
<span class="md-ellipsis">
    物联网安全 lab3
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
<span class="md-ellipsis">
    漏洞复现
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_7">
<span class="md-nav__icon md-icon"></span>
            漏洞复现
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../sec/vulns/log4j/">
<span class="md-ellipsis">
    log4j 漏洞复现
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../web/">
<span class="md-ellipsis">
    Web
    
  </span>
</a>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Web
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../web/devops/">
<span class="md-ellipsis">
    网络运维
    
  </span>
</a>
<label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
            网络运维
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../web/devops/basic/">
<span class="md-ellipsis">
    基本配置与工具
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../web/devops/clash/">
<span class="md-ellipsis">
    Clash 代理配置
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../web/devops/tunnel/">
<span class="md-ellipsis">
    内网穿透与代理
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../web/devops/server/">
<span class="md-ellipsis">
    Web 服务器相关
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../web/protocol/">
<span class="md-ellipsis">
    网络协议
    
  </span>
</a>
<label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_4_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_3">
<span class="md-nav__icon md-icon"></span>
            网络协议
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../web/protocol/vmess/">
<span class="md-ellipsis">
    VMess
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
<span class="md-ellipsis">
    排版写作规范
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_4">
<span class="md-nav__icon md-icon"></span>
            排版写作规范
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../web/typesetting/clreq/">
<span class="md-ellipsis">
    中文排版需求
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../web/typesetting/tech/">
<span class="md-ellipsis">
    中文技术文档风格指南
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../web/svg/">
<span class="md-ellipsis">
    SVG
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../ctf/">
<span class="md-ellipsis">
    CTF
    
  </span>
</a>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            CTF
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested md-nav__item--section">
<input class="md-nav__toggle md-toggle" id="__nav_5_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
<span class="md-ellipsis">
    misc
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
            misc
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_2_1" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../ctf/misc/steg/">
<span class="md-ellipsis">
    隐写术
    
  </span>
</a>
<label class="md-nav__link" for="__nav_5_2_1" id="__nav_5_2_1_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_1_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_2_1">
<span class="md-nav__icon md-icon"></span>
            隐写术
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ctf/misc/steg/image/">
<span class="md-ellipsis">
    图片隐写
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ctf/misc/steg/audio/">
<span class="md-ellipsis">
    音频隐写
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_2_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../ctf/misc/escapes/">
<span class="md-ellipsis">
    沙箱逃逸
    
  </span>
</a>
<label class="md-nav__link" for="__nav_5_2_2" id="__nav_5_2_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_2_2">
<span class="md-nav__icon md-icon"></span>
            沙箱逃逸
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ctf/misc/escapes/pysandbox/">
<span class="md-ellipsis">
    Python 沙箱逃逸
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_2_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../ctf/misc/forensics/">
<span class="md-ellipsis">
    取证
    
  </span>
</a>
<label class="md-nav__link" for="__nav_5_2_3" id="__nav_5_2_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_2_3">
<span class="md-nav__icon md-icon"></span>
            取证
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ctf/misc/forensics/mem/">
<span class="md-ellipsis">
    内存取证
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_2_4" id="__nav_5_2_4_label" tabindex="0">
<span class="md-ellipsis">
    编码/密码类
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_4_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_2_4">
<span class="md-nav__icon md-icon"></span>
            编码/密码类
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ctf/misc/coding/">
<span class="md-ellipsis">
    编码及古典密码
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ctf/misc/qrcode/">
<span class="md-ellipsis">
    QRCode
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ctf/misc/esolang/">
<span class="md-ellipsis">
    Esolang
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_2_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../ctf/blockchain/">
<span class="md-ellipsis">
    Blockchain
    
  </span>
</a>
<label class="md-nav__link" for="__nav_5_2_5" id="__nav_5_2_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_5_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_2_5">
<span class="md-nav__icon md-icon"></span>
            Blockchain
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_2_5_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../ctf/blockchain/eth/">
<span class="md-ellipsis">
    Ethereum
    
  </span>
</a>
<label class="md-nav__link" for="__nav_5_2_5_2" id="__nav_5_2_5_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_5_2_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_5_2_5_2">
<span class="md-nav__icon md-icon"></span>
            Ethereum
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ctf/blockchain/eth/basic/">
<span class="md-ellipsis">
    以太坊基础
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ctf/blockchain/eth/evm/">
<span class="md-ellipsis">
    以太坊虚拟机
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ctf/blockchain/eth/solidity/">
<span class="md-ellipsis">
    Solidity 语言
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ctf/blockchain/eth/yul/">
<span class="md-ellipsis">
    Yul 语言
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ctf/blockchain/eth/vuln/">
<span class="md-ellipsis">
    常见合约漏洞攻击手段
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ctf/blockchain/eth/erc/">
<span class="md-ellipsis">
    ERC 标准
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ctf/blockchain/eth/eip/">
<span class="md-ellipsis">
    其余重要 EIPs
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_2_5_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../ctf/blockchain/solana/">
<span class="md-ellipsis">
    Solana
    
  </span>
</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_5_3_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_5_2_5_3">
<span class="md-nav__icon md-icon"></span>
            Solana
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested md-nav__item--section">
<input class="md-nav__toggle md-toggle" id="__nav_5_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
<span class="md-ellipsis">
    pwn
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_3">
<span class="md-nav__icon md-icon"></span>
            pwn
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_3_1" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../ctf/pwn/stack/">
<span class="md-ellipsis">
    栈漏洞利用
    
  </span>
</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_3_1_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_3_1">
<span class="md-nav__icon md-icon"></span>
            栈漏洞利用
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_3_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../ctf/pwn/heap/">
<span class="md-ellipsis">
    堆漏洞利用
    
  </span>
</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_3_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_3_2">
<span class="md-nav__icon md-icon"></span>
            堆漏洞利用
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    Writeups
    
  </span>
</a>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Writeups
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_6_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
<span class="md-ellipsis">
    Training
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_6_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_2">
<span class="md-nav__icon md-icon"></span>
            Training
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../ethernaut/">
<span class="md-ellipsis">
    Ethernaut
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../SecurityInnovation/">
<span class="md-ellipsis">
    Security Innovation
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    SadServers
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    SadServers
    
  </span>
</a>
<nav aria-label="目录" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      目录
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#saint-john">
<span class="md-ellipsis">
      "Saint John"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#saskatoon">
<span class="md-ellipsis">
      "Saskatoon"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tokyo">
<span class="md-ellipsis">
      "Tokyo"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#manhattan">
<span class="md-ellipsis">
      "Manhattan"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cape-town">
<span class="md-ellipsis">
      "Cape Town"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#salta">
<span class="md-ellipsis">
      "Salta"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#jakarta">
<span class="md-ellipsis">
      "Jakarta"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#bern">
<span class="md-ellipsis">
      "Bern"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#singara">
<span class="md-ellipsis">
      "Singara"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#karakorum">
<span class="md-ellipsis">
      "Karakorum"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#hong-kong">
<span class="md-ellipsis">
      "Hong-Kong"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#venice">
<span class="md-ellipsis">
      "Venice"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#oaxaca">
<span class="md-ellipsis">
      "Oaxaca"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#melbourne">
<span class="md-ellipsis">
      "Melbourne"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lisbon">
<span class="md-ellipsis">
      "Lisbon"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pokhara">
<span class="md-ellipsis">
      "Pokhara"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#roseau">
<span class="md-ellipsis">
      "Roseau"
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../AAA/">
<span class="md-ellipsis">
    🔒 AAA School Bus
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
<span class="md-ellipsis">
    2021
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_3">
<span class="md-nav__icon md-icon"></span>
            2021
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../sysu_msc_puzzle/">
<span class="md-ellipsis">
    SYSU MSC Puzzle 2021
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../hackergame2021/">
<span class="md-ellipsis">
    USTC Hackergame 2021
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../d0g3/">
<span class="md-ellipsis">
    第四届“安洵杯”
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../bytectf2021_final/">
<span class="md-ellipsis">
    ByteCTF 2021 Final
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../sctf2021/">
<span class="md-ellipsis">
    SCTF 2021
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
<span class="md-ellipsis">
    2022
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_4">
<span class="md-nav__icon md-icon"></span>
            2022
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../vnctf2022/">
<span class="md-ellipsis">
    VNCTF 2022
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tqlctf2022/">
<span class="md-ellipsis">
    TQLCTF 2022
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../susctf2022/">
<span class="md-ellipsis">
    SUSCTF 2022
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../d3ctf2022/">
<span class="md-ellipsis">
    D3CTF 2022
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%2Actf2022/">
<span class="md-ellipsis">
    *CTF 2022
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mrctf2022/">
<span class="md-ellipsis">
    MRCTF 2022
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../qwb2022/">
<span class="md-ellipsis">
    强网杯 2022 Quals
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tctf2022/">
<span class="md-ellipsis">
    TCTF/0CTF 2022
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../hackergame2022/">
<span class="md-ellipsis">
    USTC Hackergame 2022
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../n1ctf2022/">
<span class="md-ellipsis">
    N1CTF 2022
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../seccon2022/">
<span class="md-ellipsis">
    SECCON 2022 Quals
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../rctf2022/">
<span class="md-ellipsis">
    RCTF 2022
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
<span class="md-ellipsis">
    2023
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_5">
<span class="md-nav__icon md-icon"></span>
            2023
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../seccon2022final/">
<span class="md-ellipsis">
    SECCON 2022 Final
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../xctf2022final/">
<span class="md-ellipsis">
    XCTF 2022 Final
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../midnight2023/">
<span class="md-ellipsis">
    MidnightSun 2023 Quals
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../aliyunctf2023/">
<span class="md-ellipsis">
    AliyunCTF 2023
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ciscn2023/">
<span class="md-ellipsis">
    CISCN 2023 Quals
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../seccon2023/">
<span class="md-ellipsis">
    SECCON 2023 Quals
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tpctf2023/">
<span class="md-ellipsis">
    TPCTF 2023
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../others/">
<span class="md-ellipsis">
    Others
    
  </span>
</a>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            Others
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../others/notes/">
<span class="md-ellipsis">
    课程笔记
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../others/subs/">
<span class="md-ellipsis">
    字幕制作系列
    
  </span>
</a>
<label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_7_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_3">
<span class="md-nav__icon md-icon"></span>
            字幕制作系列
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../others/subs/ass/">
<span class="md-ellipsis">
    ass 标签
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../others/subs/aegisub/automation/">
<span class="md-ellipsis">
    Aegisub 自动化
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../others/subs/aegisub/karaoke/">
<span class="md-ellipsis">
    Aegisub 卡拉 OK 模板
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../others/subs/ffmpeg/">
<span class="md-ellipsis">
    ffmpeg 套件杂记
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../others/troubleshooting/">
<span class="md-ellipsis">
    TroubleShooting
    
  </span>
</a>
<label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_7_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_4">
<span class="md-nav__icon md-icon"></span>
            TroubleShooting
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../others/troubleshooting/mac/">
<span class="md-ellipsis">
    macOS TroubleShooting
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="目录" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      目录
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#saint-john">
<span class="md-ellipsis">
      "Saint John"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#saskatoon">
<span class="md-ellipsis">
      "Saskatoon"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tokyo">
<span class="md-ellipsis">
      "Tokyo"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#manhattan">
<span class="md-ellipsis">
      "Manhattan"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cape-town">
<span class="md-ellipsis">
      "Cape Town"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#salta">
<span class="md-ellipsis">
      "Salta"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#jakarta">
<span class="md-ellipsis">
      "Jakarta"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#bern">
<span class="md-ellipsis">
      "Bern"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#singara">
<span class="md-ellipsis">
      "Singara"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#karakorum">
<span class="md-ellipsis">
      "Karakorum"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#hong-kong">
<span class="md-ellipsis">
      "Hong-Kong"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#venice">
<span class="md-ellipsis">
      "Venice"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#oaxaca">
<span class="md-ellipsis">
      "Oaxaca"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#melbourne">
<span class="md-ellipsis">
      "Melbourne"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lisbon">
<span class="md-ellipsis">
      "Lisbon"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pokhara">
<span class="md-ellipsis">
      "Pokhara"
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#roseau">
<span class="md-ellipsis">
      "Roseau"
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<script defer="" src="/js/toc.js"></script>
<link href="/css/fold_toc.css" rel="stylesheet"/>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="sadservers-writeup">SadServers Writeup<a class="headerlink" href="#sadservers-writeup" title="Permanent link">¶</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"></path></svg></span> 约<span class="heti-skip"><span class="heti-spacing"> </span>3871<span class="heti-spacing"> </span></span>个字 <span class="twemoji"><svg viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M360.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m64.6 136.1c-12.5 12.5-12.5 32.8 0 45.3l73.4 73.4-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0zm-274.7 0c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l73.3-73.4c12.5-12.5 12.5-32.8 0-45.3z" fill="currentColor"></path></svg></span> <span>719<span class="heti-spacing"> </span></span>行代码 <span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"></path></svg></span> 预计阅读时间<span class="heti-skip"><span class="heti-spacing"> </span>22<span class="heti-spacing"> </span></span>分钟</p>
</div>
<div class="admonition abstract">
<p class="admonition-title">Abstract</p>
<p>水<span class="heti-skip"><span class="heti-spacing"> </span>tg<span class="heti-spacing"> </span></span>发现的，挺好玩的，就做一做，学到很多，就写一写。</p>
<p>平台地址在<a href="https://sadservers.com/"><span><span class="heti-spacing"> </span>https://sadservers.com/</span></a> 。大概类似运维？反正大概就是修复一些<span class="heti-skip"><span class="heti-spacing"> </span>Linux<span class="heti-spacing"> </span></span>服务器出现的问题。</p>
<p>不算<span><span class="heti-spacing"> </span>CTF</span>，不知道咋分类，就扔这里吧</p>
<p>看起来题目不多，据说是<span><span class="heti-spacing"> </span>"new challenges weekly"</span>，出的话或许可以随时更新<heti-adjacent class="heti-adjacent-half">？</heti-adjacent>（咕咕咕</p>
</div>
<hr/>
<h2 id="saint-john">"Saint John"<a class="headerlink" href="#saint-john" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>Scenario:</strong> "Saint John": what is writing to this log file?</p>
<p><strong>Level:</strong> Easy</p>
<p><strong>Description:</strong> A developer created a testing program that is continuously writing to a log file /var/log/bad.log and filling up disk. You can check for example with <code>tail -f /var/log/bad.log</code>.
This program is no longer needed. Find it and terminate it.</p>
<p><strong>OS:</strong> Ubuntu 22.04 LTS</p>
</blockquote>
<p>可以<span class="heti-skip"><span class="heti-spacing"> </span>tail -f /var/log/bad.log<span class="heti-spacing"> </span></span>看一眼确实在一直填东西。然后当然是先查一下后台进程<span><span class="heti-spacing"> </span>ps -aux</span>，可以发现有一条很可疑：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a>USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
<a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a>...
<a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a>ubuntu       610  0.0  1.7  17672  8212 ?        S    07:57   0:00 /usr/bin/python3 /home/ubuntu/badlog.py
<a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a>...
</code></pre></div>
可以 cat 看一下 badlog.py:
<div class="highlight"><pre><span></span><code><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="ch">#! /usr/bin/python3</span>
<a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="c1"># test python writing to a file</span>
<a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a>
<a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
<a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a>
<a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'/var/log/bad.log'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">)</span>
<a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a href="#__codelineno-1-10" id="__codelineno-1-10" name="__codelineno-1-10"></a>  <span class="n">r</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">2147483647</span><span class="p">)</span>
<a href="#__codelineno-1-11" id="__codelineno-1-11" name="__codelineno-1-11"></a>  <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">())</span> <span class="o">+</span> <span class="s1">' token: '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
<a href="#__codelineno-1-12" id="__codelineno-1-12" name="__codelineno-1-12"></a>  <span class="n">f</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<a href="#__codelineno-1-13" id="__codelineno-1-13" name="__codelineno-1-13"></a>  <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
确实是在每一秒写一行。所以直接 kill -9 610 强制杀死这个进程就好了。
<p>题目的本意大概是用<span class="heti-skip"><span class="heti-spacing"> </span>lsof<span class="heti-spacing"> </span></span>来查看使用某一文件的进程：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a>ubuntu@ip-172-31-32-108:/$ lsof /var/log/bad.log 
<a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a>COMMAND   PID   USER   FD   TYPE DEVICE SIZE/OFF  NODE NAME
<a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a>badlog.py 610 ubuntu    3w   REG  259,1    31275 67701 /var/log/bad.log
</code></pre></div>
<p>然后同样是强杀。</p>
<hr/>
<h2 id="saskatoon">"Saskatoon"<a class="headerlink" href="#saskatoon" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>Scenario:</strong> "Saskatoon": counting IPs.</p>
<p><strong>Level:</strong> Easy</p>
<p><strong>Description:</strong> There's a web server access log file at /home/admin/access.log. The file consists of one line per HTTP request, with the requester's IP address at the beginning of each line.</p>
<p>Find what's the IP address that has the most requests in this file (there's no tie; the IP is unique). Write the solution into a file /home/admin/highestip.txt. For example, if your solution is "1.2.3.4", you can do echo "1.2.3.4" &gt; /home/admin/highestip.txt</p>
<p><strong>OS:</strong> Debian 11</p>
</blockquote>
<p>所有需要的东西都在<span class="heti-skip"><span class="heti-spacing"> </span>access.log<span class="heti-spacing"> </span></span>里面，所以写一个<span class="heti-skip"><span class="heti-spacing"> </span>python<span class="heti-spacing"> </span></span>脚本读取、统计、排序、输出就好了：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"/home/admin/access.log"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a>    <span class="n">contents</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a>
<a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="n">ips</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">" "</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">contents</span><span class="p">]</span>
<a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="n">cnt</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">([(</span><span class="n">ips</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">ip</span><span class="p">),</span> <span class="n">ip</span><span class="p">)</span> <span class="k">for</span> <span class="n">ip</span> <span class="ow">in</span> <span class="n">ips</span><span class="p">]))</span>
<a href="#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">cnt</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<a href="#__codelineno-3-7" id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="c1"># (482, '66.249.73.135')</span>
</code></pre></div>
所以请求最多的 ip 就是 66.249.73.135。
<p>当然题目的意思是通过<span class="heti-skip"><span class="heti-spacing"> </span>shell<span class="heti-spacing"> </span></span>命令直接来做。可以<span class="heti-skip"><span class="heti-spacing"> </span>cat<span class="heti-spacing"> </span></span>然后<span class="heti-skip"><span class="heti-spacing"> </span>cut<span class="heti-spacing"> </span></span>来取出<span><span class="heti-spacing"> </span>ip</span>，然后<span class="heti-skip"><span class="heti-spacing"> </span>sort | uniq -c<span class="heti-spacing"> </span></span>来统计次数（要先<span><span class="heti-spacing"> </span>sort</span>，<span>uniq<span class="heti-spacing"> </span></span>只会统计相邻的重复行<heti-adjacent class="heti-adjacent-half">）</heti-adjacent>，之后在<span class="heti-skip"><span class="heti-spacing"> </span>sort<span class="heti-spacing"> </span></span>一下，最后一行就是要的了：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a>$ cat /home/admin/access.log | cut -d ' ' -f 1 | sort | uniq -c | sort | tail -n 1
<a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a>    482 66.249.73.135
</code></pre></div>
用 awk 来处理也很方便，直接一行解决：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a>$<span class="w"> </span>awk<span class="w"> </span><span class="s1">'{print $1}'</span><span class="w"> </span>/home/admin/access.log<span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="w"> </span><span class="p">|</span><span class="w"> </span>uniq<span class="w"> </span>-c<span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="w"> </span><span class="p">|</span><span class="w"> </span>tail<span class="w"> </span>-n<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">'{print $2}'</span><span class="w"> </span>&gt;<span class="w"> </span>/home/admin/highestip.txt
</code></pre></div>
<hr/>
<h2 id="tokyo">"Tokyo"<a class="headerlink" href="#tokyo" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>Scenario:</strong> "Tokyo": can't serve web file</p>
<p><strong>Level:</strong> Medium</p>
<p><strong>Description:</strong> There's a web server serving a file /var/www/html/index.html with content "hello sadserver" but when we try to check it locally with an HTTP client like curl 127.0.0.1:80, nothing is returned. This scenario is not about the particular web server configuration and you only need to have general knowledge about how web servers work.</p>
<p><strong>OS:</strong> Ubuntu 22.04 LTS</p>
</blockquote>
<p><span>ps -aux<span class="heti-spacing"> </span></span>可以发现这个<span class="heti-skip"><span class="heti-spacing"> </span>web server<span class="heti-spacing"> </span></span>服务是由<span class="heti-skip"><span class="heti-spacing"> </span>apache2<span class="heti-spacing"> </span></span>提供的：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a>USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
<a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a>...
<a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a>www-data     774  0.0  0.9 1211728 4304 ?        Sl   08:27   0:00 /usr/sbin/apache2 -k start
<a href="#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a>www-data     775  0.0  0.9 1211728 4304 ?        Sl   08:27   0:00 /usr/sbin/apache2 -k start
<a href="#__codelineno-6-5" id="__codelineno-6-5" name="__codelineno-6-5"></a>...
</code></pre></div>
去 /etc/apache2 逛了一圈，确实没什么问题。
<p><code>curl -v 127.0.0.1:80</code>，发现根本就连不上。可能是防火墙的问题，看一下<span><span class="heti-spacing"> </span>iptables</span>：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a># iptables -L -n
<a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a>Chain INPUT (policy ACCEPT)
<a href="#__codelineno-7-3" id="__codelineno-7-3" name="__codelineno-7-3"></a>target     prot opt source               destination         
<a href="#__codelineno-7-4" id="__codelineno-7-4" name="__codelineno-7-4"></a>DROP       tcp  --  0.0.0.0/0            0.0.0.0/0            tcp dpt:80
<a href="#__codelineno-7-5" id="__codelineno-7-5" name="__codelineno-7-5"></a>
<a href="#__codelineno-7-6" id="__codelineno-7-6" name="__codelineno-7-6"></a>Chain FORWARD (policy ACCEPT)
<a href="#__codelineno-7-7" id="__codelineno-7-7" name="__codelineno-7-7"></a>target     prot opt source               destination         
<a href="#__codelineno-7-8" id="__codelineno-7-8" name="__codelineno-7-8"></a>
<a href="#__codelineno-7-9" id="__codelineno-7-9" name="__codelineno-7-9"></a>Chain OUTPUT (policy ACCEPT)
<a href="#__codelineno-7-10" id="__codelineno-7-10" name="__codelineno-7-10"></a>target     prot opt source               destination
</code></pre></div>
发现 INPUT 链把所有 tcp 包都 DROP 了。所以可以直接情况规则：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a># iptables -F
</code></pre></div>
然后再 curl 发现返回 403 Forbidden。检查一下 /var/www/html/index.html 的权限：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a># ls -l /var/www/html/index.html
<a href="#__codelineno-9-2" id="__codelineno-9-2" name="__codelineno-9-2"></a>-rw------- 1 root root 16 Aug  1 00:40 /var/www/html/index.html
</code></pre></div>
所以需要修改一下权限，让所有人可读：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a># chmod +r /var/www/html/index.html
</code></pre></div>
然后再 curl 就可以了。
<hr/>
<h2 id="manhattan">"Manhattan"<a class="headerlink" href="#manhattan" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>Scenario:</strong> "Manhattan": can't write data into database.</p>
<p><strong>Level:</strong> Medium</p>
<p><strong>Description:</strong> Your objective is to be able to insert a row in an existing Postgres database. The issue is not specific to Postgres and you don't need to know details about it (although it may help).</p>
<p>Helpful Postgres information: it's a service that listens to a port (:5432) and writes to disk in a data directory, the location of which is defined in the data_directory parameter of the configuration file /etc/postgresql/14/main/postgresql.conf. In our case Postgres is managed by systemd as a unit with name postgresql.</p>
<p><strong>OS:</strong> Debian 10</p>
</blockquote>
<p>有一些难度，看了些提示。</p>
<p>首先 <code>systemctl status postgresql</code> 可以看出<span class="heti-skip"><span class="heti-spacing"> </span>postgresql<span class="heti-spacing"> </span></span>确实在运行，但是连不上。看一看<span class="heti-skip"><span class="heti-spacing"> </span>/var/log/syslog<span class="heti-spacing"> </span></span>没有什么异样。</p>
<p>试着 <code>systemctl restart postgresql</code> 重启<span><span class="heti-spacing"> </span>postgresql</span>，没有报错，但是<span class="heti-skip"><span class="heti-spacing"> </span>/var/log/syslog<span class="heti-spacing"> </span></span>里面可以看到错误：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a>Nov  3 09:11:58 ip-172-31-47-134 postgresql@14-main[884]: 2022-11-03 09:11:58.882 UTC [889] FATAL:  could not create lock file "postmaster.pid": No space left on device
</code></pre></div>
No space left on device，所以 df 看一下磁盘用量：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a>root@ip-172-31-47-134:/# df
<a href="#__codelineno-12-2" id="__codelineno-12-2" name="__codelineno-12-2"></a>Filesystem      1K-blocks    Used Available Use% Mounted on
<a href="#__codelineno-12-3" id="__codelineno-12-3" name="__codelineno-12-3"></a>udev               229200       0    229200   0% /dev
<a href="#__codelineno-12-4" id="__codelineno-12-4" name="__codelineno-12-4"></a>tmpfs               47660    1520     46140   4% /run
<a href="#__codelineno-12-5" id="__codelineno-12-5" name="__codelineno-12-5"></a>/dev/nvme1n1p1    8026128 1233676   6363196  17% /
<a href="#__codelineno-12-6" id="__codelineno-12-6" name="__codelineno-12-6"></a>tmpfs              238300       0    238300   0% /dev/shm
<a href="#__codelineno-12-7" id="__codelineno-12-7" name="__codelineno-12-7"></a>tmpfs                5120       0      5120   0% /run/lock
<a href="#__codelineno-12-8" id="__codelineno-12-8" name="__codelineno-12-8"></a>tmpfs              238300       0    238300   0% /sys/fs/cgroup
<a href="#__codelineno-12-9" id="__codelineno-12-9" name="__codelineno-12-9"></a>/dev/nvme1n1p15    126710     278    126432   1% /boot/efi
<a href="#__codelineno-12-10" id="__codelineno-12-10" name="__codelineno-12-10"></a>/dev/nvme0n1      8378368 8378340        28 100% /opt/pgdata
</code></pre></div>
可以看到挂载在 /opt/pgdata 上的设备容量满了。检查一下这个目录：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a>root@ip-172-31-47-134:/# ls -l /opt/pgdata
<a href="#__codelineno-13-2" id="__codelineno-13-2" name="__codelineno-13-2"></a>total 8285620
<a href="#__codelineno-13-3" id="__codelineno-13-3" name="__codelineno-13-3"></a>-rw-r--r--  1 root     root             69 May 21 22:20 deleteme
<a href="#__codelineno-13-4" id="__codelineno-13-4" name="__codelineno-13-4"></a>-rw-r--r--  1 root     root     7516192768 May 21 22:06 file1.bk
<a href="#__codelineno-13-5" id="__codelineno-13-5" name="__codelineno-13-5"></a>-rw-r--r--  1 root     root      967774208 May 21 22:17 file2.bk
<a href="#__codelineno-13-6" id="__codelineno-13-6" name="__codelineno-13-6"></a>-rw-r--r--  1 root     root         499712 May 21 22:23 file3.bk
<a href="#__codelineno-13-7" id="__codelineno-13-7" name="__codelineno-13-7"></a>drwx------ 19 postgres postgres       4096 May 21 22:24 main
</code></pre></div>
可以发现一堆 .bk 备份文件占满了磁盘，删除、重启、测试，发现一切正常了：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-14-1" id="__codelineno-14-1" name="__codelineno-14-1"></a>root@ip-172-31-47-134:/# rm /opt/pgdata/file*.bk
<a href="#__codelineno-14-2" id="__codelineno-14-2" name="__codelineno-14-2"></a>root@ip-172-31-47-134:/# ls -l /opt/pgdata
<a href="#__codelineno-14-3" id="__codelineno-14-3" name="__codelineno-14-3"></a>total 8
<a href="#__codelineno-14-4" id="__codelineno-14-4" name="__codelineno-14-4"></a>-rw-r--r--  1 root     root       69 May 21 22:20 deleteme
<a href="#__codelineno-14-5" id="__codelineno-14-5" name="__codelineno-14-5"></a>drwx------ 19 postgres postgres 4096 May 21 22:24 main
<a href="#__codelineno-14-6" id="__codelineno-14-6" name="__codelineno-14-6"></a>root@ip-172-31-47-134:/# systemctl restart postgresql
<a href="#__codelineno-14-7" id="__codelineno-14-7" name="__codelineno-14-7"></a>root@ip-172-31-47-134:/# sudo -u postgres psql -c "insert into persons(name) values ('jane smith');" -d dt
<a href="#__codelineno-14-8" id="__codelineno-14-8" name="__codelineno-14-8"></a>INSERT 0 1
</code></pre></div>
<hr/>
<h2 id="cape-town">"Cape Town"<a class="headerlink" href="#cape-town" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>Scenario:</strong> "Cape Town": Borked Nginx</p>
<p><strong>Level:</strong> Medium</p>
<p><strong>Description:</strong> There's an Nginx web server installed and managed by systemd. Running curl -I 127.0.0.1:80 returns curl: (7) Failed to connect to localhost port 80: Connection refused , fix it so when you curl you get the default Nginx page.</p>
<p><strong>OS:</strong> Debian 11</p>
</blockquote>
<p>首先<span class="heti-skip"><span class="heti-spacing"> </span>systemctl status nginx<span class="heti-spacing"> </span></span>检查一下<span class="heti-skip"><span class="heti-spacing"> </span>nginx<span class="heti-spacing"> </span></span>运行状态：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-15-1" id="__codelineno-15-1" name="__codelineno-15-1"></a>$ sudo systemctl status nginx
<a href="#__codelineno-15-2" id="__codelineno-15-2" name="__codelineno-15-2"></a>● nginx.service - The NGINX HTTP and reverse proxy server
<a href="#__codelineno-15-3" id="__codelineno-15-3" name="__codelineno-15-3"></a>     Loaded: loaded (/etc/systemd/system/nginx.service; enabled; vendor preset: enabled)
<a href="#__codelineno-15-4" id="__codelineno-15-4" name="__codelineno-15-4"></a>     Active: failed (Result: exit-code) since Thu 2022-11-03 09:30:47 UTC; 42s ago
<a href="#__codelineno-15-5" id="__codelineno-15-5" name="__codelineno-15-5"></a>    Process: 584 ExecStartPre=/usr/sbin/nginx -t (code=exited, status=1/FAILURE)
<a href="#__codelineno-15-6" id="__codelineno-15-6" name="__codelineno-15-6"></a>        CPU: 28ms
<a href="#__codelineno-15-7" id="__codelineno-15-7" name="__codelineno-15-7"></a>
<a href="#__codelineno-15-8" id="__codelineno-15-8" name="__codelineno-15-8"></a>Nov 03 09:30:47 ip-172-31-33-45 systemd[1]: Starting The NGINX HTTP and reverse proxy server...
<a href="#__codelineno-15-9" id="__codelineno-15-9" name="__codelineno-15-9"></a>Nov 03 09:30:47 ip-172-31-33-45 nginx[584]: nginx: [emerg] unexpected ";" in /etc/nginx/sites-enabled/default:1
<a href="#__codelineno-15-10" id="__codelineno-15-10" name="__codelineno-15-10"></a>Nov 03 09:30:47 ip-172-31-33-45 nginx[584]: nginx: configuration file /etc/nginx/nginx.conf test failed
<a href="#__codelineno-15-11" id="__codelineno-15-11" name="__codelineno-15-11"></a>Nov 03 09:30:47 ip-172-31-33-45 systemd[1]: nginx.service: Control process exited, code=exited, status=1/FAILURE
<a href="#__codelineno-15-12" id="__codelineno-15-12" name="__codelineno-15-12"></a>Nov 03 09:30:47 ip-172-31-33-45 systemd[1]: nginx.service: Failed with result 'exit-code'.
<a href="#__codelineno-15-13" id="__codelineno-15-13" name="__codelineno-15-13"></a>Nov 03 09:30:47 ip-172-31-33-45 systemd[1]: Failed to start The NGINX HTTP and reverse proxy server.
</code></pre></div>
发现有报错，说在 /etc/nginx/sites-enabled/default:1 有一个 unexpected ";"，所以去删掉它，然后重启。
<div class="highlight"><pre><span></span><code><a href="#__codelineno-16-1" id="__codelineno-16-1" name="__codelineno-16-1"></a>admin@ip-172-31-33-45:/$ sudo vim /etc/nginx/sites-enabled/default 
<a href="#__codelineno-16-2" id="__codelineno-16-2" name="__codelineno-16-2"></a>admin@ip-172-31-33-45:/$ sudo systemctl restart nginx
<a href="#__codelineno-16-3" id="__codelineno-16-3" name="__codelineno-16-3"></a>admin@ip-172-31-33-45:/$ sudo systemctl status nginx
<a href="#__codelineno-16-4" id="__codelineno-16-4" name="__codelineno-16-4"></a>● nginx.service - The NGINX HTTP and reverse proxy server
<a href="#__codelineno-16-5" id="__codelineno-16-5" name="__codelineno-16-5"></a>     Loaded: loaded (/etc/systemd/system/nginx.service; enabled; vendor preset: enabled)
<a href="#__codelineno-16-6" id="__codelineno-16-6" name="__codelineno-16-6"></a>     Active: active (running) since Thu 2022-11-03 09:32:32 UTC; 6s ago
<a href="#__codelineno-16-7" id="__codelineno-16-7" name="__codelineno-16-7"></a>    Process: 868 ExecStartPre=/usr/sbin/nginx -t (code=exited, status=0/SUCCESS)
<a href="#__codelineno-16-8" id="__codelineno-16-8" name="__codelineno-16-8"></a>    Process: 869 ExecStart=/usr/sbin/nginx (code=exited, status=0/SUCCESS)
<a href="#__codelineno-16-9" id="__codelineno-16-9" name="__codelineno-16-9"></a>   Main PID: 870 (nginx)
<a href="#__codelineno-16-10" id="__codelineno-16-10" name="__codelineno-16-10"></a>      Tasks: 2 (limit: 524)
<a href="#__codelineno-16-11" id="__codelineno-16-11" name="__codelineno-16-11"></a>     Memory: 2.4M
<a href="#__codelineno-16-12" id="__codelineno-16-12" name="__codelineno-16-12"></a>        CPU: 27ms
<a href="#__codelineno-16-13" id="__codelineno-16-13" name="__codelineno-16-13"></a>     CGroup: /system.slice/nginx.service
<a href="#__codelineno-16-14" id="__codelineno-16-14" name="__codelineno-16-14"></a>             ├─870 nginx: master process /usr/sbin/nginx
<a href="#__codelineno-16-15" id="__codelineno-16-15" name="__codelineno-16-15"></a>             └─871 nginx: worker process
<a href="#__codelineno-16-16" id="__codelineno-16-16" name="__codelineno-16-16"></a>
<a href="#__codelineno-16-17" id="__codelineno-16-17" name="__codelineno-16-17"></a>Nov 03 09:32:32 ip-172-31-33-45 systemd[1]: Starting The NGINX HTTP and reverse proxy server...
<a href="#__codelineno-16-18" id="__codelineno-16-18" name="__codelineno-16-18"></a>Nov 03 09:32:32 ip-172-31-33-45 nginx[868]: nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
<a href="#__codelineno-16-19" id="__codelineno-16-19" name="__codelineno-16-19"></a>Nov 03 09:32:32 ip-172-31-33-45 nginx[868]: nginx: configuration file /etc/nginx/nginx.conf test is successful
<a href="#__codelineno-16-20" id="__codelineno-16-20" name="__codelineno-16-20"></a>Nov 03 09:32:32 ip-172-31-33-45 systemd[1]: Started The NGINX HTTP and reverse proxy server.
</code></pre></div>
工作正常，但是 curl 一下会得到 500。检查一下 log：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-17-1" id="__codelineno-17-1" name="__codelineno-17-1"></a>admin@ip-172-31-33-45:/$ cat /var/log/nginx/error.log | tail -n 10
<a href="#__codelineno-17-2" id="__codelineno-17-2" name="__codelineno-17-2"></a>2022/09/11 16:39:11 [emerg] 5875#5875: unexpected ";" in /etc/nginx/sites-enabled/default:1
<a href="#__codelineno-17-3" id="__codelineno-17-3" name="__codelineno-17-3"></a>2022/09/11 16:54:26 [emerg] 5931#5931: unexpected ";" in /etc/nginx/sites-enabled/default:1
<a href="#__codelineno-17-4" id="__codelineno-17-4" name="__codelineno-17-4"></a>2022/09/11 16:55:00 [emerg] 5961#5961: unexpected ";" in /etc/nginx/sites-enabled/default:1
<a href="#__codelineno-17-5" id="__codelineno-17-5" name="__codelineno-17-5"></a>2022/09/11 17:02:07 [emerg] 6066#6066: unexpected ";" in /etc/nginx/sites-enabled/default:1
<a href="#__codelineno-17-6" id="__codelineno-17-6" name="__codelineno-17-6"></a>2022/09/11 17:07:03 [emerg] 6146#6146: unexpected ";" in /etc/nginx/sites-enabled/default:1
<a href="#__codelineno-17-7" id="__codelineno-17-7" name="__codelineno-17-7"></a>2022/11/03 09:30:47 [emerg] 584#584: unexpected ";" in /etc/nginx/sites-enabled/default:1
<a href="#__codelineno-17-8" id="__codelineno-17-8" name="__codelineno-17-8"></a>2022/11/03 09:32:32 [alert] 870#870: socketpair() failed while spawning "worker process" (24: Too many open files)
<a href="#__codelineno-17-9" id="__codelineno-17-9" name="__codelineno-17-9"></a>2022/11/03 09:32:32 [emerg] 871#871: eventfd() failed (24: Too many open files)
<a href="#__codelineno-17-10" id="__codelineno-17-10" name="__codelineno-17-10"></a>2022/11/03 09:32:32 [alert] 871#871: socketpair() failed (24: Too many open files)
<a href="#__codelineno-17-11" id="__codelineno-17-11" name="__codelineno-17-11"></a>2022/11/03 09:33:03 [crit] 871#871: *1 open() "/var/www/html/index.nginx-debian.html" failed (24: Too many open files), client: 127.0.0.1, server: _, request: "GET / HTTP/1.1", host: "127.0.0.1"
</code></pre></div>
可以发现报错 Too many open files。搜了一下，网上提供的方法都试了一圈，问题不出在 nginx 的配置上。然后根据提示去看了 systemd 上 nginx 的配置：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-18-1" id="__codelineno-18-1" name="__codelineno-18-1"></a>admin@ip-172-31-33-45:/$ cat /etc/systemd/system/nginx.service 
<a href="#__codelineno-18-2" id="__codelineno-18-2" name="__codelineno-18-2"></a>[Unit]
<a href="#__codelineno-18-3" id="__codelineno-18-3" name="__codelineno-18-3"></a>Description=The NGINX HTTP and reverse proxy server
<a href="#__codelineno-18-4" id="__codelineno-18-4" name="__codelineno-18-4"></a>After=syslog.target network-online.target remote-fs.target nss-lookup.target
<a href="#__codelineno-18-5" id="__codelineno-18-5" name="__codelineno-18-5"></a>Wants=network-online.target
<a href="#__codelineno-18-6" id="__codelineno-18-6" name="__codelineno-18-6"></a>
<a href="#__codelineno-18-7" id="__codelineno-18-7" name="__codelineno-18-7"></a>[Service]
<a href="#__codelineno-18-8" id="__codelineno-18-8" name="__codelineno-18-8"></a>Type=forking
<a href="#__codelineno-18-9" id="__codelineno-18-9" name="__codelineno-18-9"></a>PIDFile=/run/nginx.pid
<a href="#__codelineno-18-10" id="__codelineno-18-10" name="__codelineno-18-10"></a>ExecStartPre=/usr/sbin/nginx -t
<a href="#__codelineno-18-11" id="__codelineno-18-11" name="__codelineno-18-11"></a>ExecStart=/usr/sbin/nginx
<a href="#__codelineno-18-12" id="__codelineno-18-12" name="__codelineno-18-12"></a>ExecReload=/usr/sbin/nginx -s reload
<a href="#__codelineno-18-13" id="__codelineno-18-13" name="__codelineno-18-13"></a>ExecStop=/bin/kill -s QUIT $MAINPID
<a href="#__codelineno-18-14" id="__codelineno-18-14" name="__codelineno-18-14"></a>PrivateTmp=true
<a href="#__codelineno-18-15" id="__codelineno-18-15" name="__codelineno-18-15"></a>LimitNOFILE=10
<a href="#__codelineno-18-16" id="__codelineno-18-16" name="__codelineno-18-16"></a>
<a href="#__codelineno-18-17" id="__codelineno-18-17" name="__codelineno-18-17"></a>[Install]
<a href="#__codelineno-18-18" id="__codelineno-18-18" name="__codelineno-18-18"></a>WantedBy=multi-user.target
</code></pre></div>
把 LimitNOFILE=10 改成 LimitNOFILE=1024，然后重启 nginx 即可正常得到响应：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-19-1" id="__codelineno-19-1" name="__codelineno-19-1"></a>admin@ip-172-31-33-45:/$ sudo systemctl restart nginx
<a href="#__codelineno-19-2" id="__codelineno-19-2" name="__codelineno-19-2"></a>Warning: The unit file, source configuration file or drop-ins of nginx.service changed on disk. Run 'systemctl daemon-reload' to reload units.
<a href="#__codelineno-19-3" id="__codelineno-19-3" name="__codelineno-19-3"></a>admin@ip-172-31-33-45:/$ sudo systemctl daemon-reload
<a href="#__codelineno-19-4" id="__codelineno-19-4" name="__codelineno-19-4"></a>admin@ip-172-31-33-45:/$ sudo systemctl restart nginx
<a href="#__codelineno-19-5" id="__codelineno-19-5" name="__codelineno-19-5"></a>admin@ip-172-31-33-45:/$ curl -Is 127.0.0.1:80 | head -1
<a href="#__codelineno-19-6" id="__codelineno-19-6" name="__codelineno-19-6"></a>HTTP/1.1 200 OK
</code></pre></div>
<hr/>
<h2 id="salta">"Salta"<a class="headerlink" href="#salta" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>Scenario:</strong> "Salta": Docker container won't start.</p>
<p><strong>Level:</strong> Medium</p>
<p><strong>Description:</strong> There's a "dockerized" Node.js web application in the /home/admin/app directory. Create a Docker container so you get a web app on port :8888 and can curl to it. For the solution to be valid, there should be only one running Docker container.</p>
<p><strong>OS:</strong> Debian 11</p>
</blockquote>
<p>首先检查一下<span class="heti-skip"><span class="heti-spacing"> </span>docker<span class="heti-spacing"> </span></span>容器：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-20-1" id="__codelineno-20-1" name="__codelineno-20-1"></a>admin@ip-172-31-38-21:/$ sudo docker ps -a
<a href="#__codelineno-20-2" id="__codelineno-20-2" name="__codelineno-20-2"></a>CONTAINER ID   IMAGE     COMMAND                  CREATED       STATUS                   PORTS     NAMES
<a href="#__codelineno-20-3" id="__codelineno-20-3" name="__codelineno-20-3"></a>124a4fb17a1c   app       "docker-entrypoint.s…"   6 weeks ago   Exited (1) 6 weeks ago             elated_taussig
<a href="#__codelineno-20-4" id="__codelineno-20-4" name="__codelineno-20-4"></a>admin@ip-172-31-38-21:~/app$ sudo docker logs 124
<a href="#__codelineno-20-5" id="__codelineno-20-5" name="__codelineno-20-5"></a>node:internal/modules/cjs/loader:928
<a href="#__codelineno-20-6" id="__codelineno-20-6" name="__codelineno-20-6"></a>  throw err;
<a href="#__codelineno-20-7" id="__codelineno-20-7" name="__codelineno-20-7"></a>  ^
<a href="#__codelineno-20-8" id="__codelineno-20-8" name="__codelineno-20-8"></a>
<a href="#__codelineno-20-9" id="__codelineno-20-9" name="__codelineno-20-9"></a>Error: Cannot find module '/usr/src/app/serve.js'
<a href="#__codelineno-20-10" id="__codelineno-20-10" name="__codelineno-20-10"></a>    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:925:15)
<a href="#__codelineno-20-11" id="__codelineno-20-11" name="__codelineno-20-11"></a>    at Function.Module._load (node:internal/modules/cjs/loader:769:27)
<a href="#__codelineno-20-12" id="__codelineno-20-12" name="__codelineno-20-12"></a>    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:76:12)
<a href="#__codelineno-20-13" id="__codelineno-20-13" name="__codelineno-20-13"></a>    at node:internal/main/run_main_module:17:47 {
<a href="#__codelineno-20-14" id="__codelineno-20-14" name="__codelineno-20-14"></a>  code: 'MODULE_NOT_FOUND',
<a href="#__codelineno-20-15" id="__codelineno-20-15" name="__codelineno-20-15"></a>  requireStack: []
<a href="#__codelineno-20-16" id="__codelineno-20-16" name="__codelineno-20-16"></a>}
</code></pre></div>
发现报错了，Dockerfile 里出了一些问题，看一下：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-21-1" id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="c"># documentation https://nodejs.org/en/docs/guides/nodejs-docker-webapp/</span>
<a href="#__codelineno-21-2" id="__codelineno-21-2" name="__codelineno-21-2"></a>
<a href="#__codelineno-21-3" id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="c"># most recent node (security patches) and alpine (minimal, adds to security, possible libc issues)</span>
<a href="#__codelineno-21-4" id="__codelineno-21-4" name="__codelineno-21-4"></a><span class="k">FROM</span><span class="w"> </span><span class="s">node:15.7-alpine</span><span class="w"> </span>
<a href="#__codelineno-21-5" id="__codelineno-21-5" name="__codelineno-21-5"></a>
<a href="#__codelineno-21-6" id="__codelineno-21-6" name="__codelineno-21-6"></a><span class="c"># Create app directory &amp; copy app files</span>
<a href="#__codelineno-21-7" id="__codelineno-21-7" name="__codelineno-21-7"></a><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/usr/src/app</span>
<a href="#__codelineno-21-8" id="__codelineno-21-8" name="__codelineno-21-8"></a>
<a href="#__codelineno-21-9" id="__codelineno-21-9" name="__codelineno-21-9"></a><span class="c"># we copy first package.json only, so we take advantage of cached Docker layers</span>
<a href="#__codelineno-21-10" id="__codelineno-21-10" name="__codelineno-21-10"></a><span class="k">COPY</span><span class="w"> </span>./package*.json<span class="w"> </span>./
<a href="#__codelineno-21-11" id="__codelineno-21-11" name="__codelineno-21-11"></a>
<a href="#__codelineno-21-12" id="__codelineno-21-12" name="__codelineno-21-12"></a><span class="c"># RUN npm ci --only=production</span>
<a href="#__codelineno-21-13" id="__codelineno-21-13" name="__codelineno-21-13"></a><span class="k">RUN</span><span class="w"> </span>npm<span class="w"> </span>install
<a href="#__codelineno-21-14" id="__codelineno-21-14" name="__codelineno-21-14"></a>
<a href="#__codelineno-21-15" id="__codelineno-21-15" name="__codelineno-21-15"></a><span class="c"># Copy app source</span>
<a href="#__codelineno-21-16" id="__codelineno-21-16" name="__codelineno-21-16"></a><span class="k">COPY</span><span class="w"> </span>./*<span class="w"> </span>./
<a href="#__codelineno-21-17" id="__codelineno-21-17" name="__codelineno-21-17"></a>
<a href="#__codelineno-21-18" id="__codelineno-21-18" name="__codelineno-21-18"></a><span class="c"># port used by this app</span>
<a href="#__codelineno-21-19" id="__codelineno-21-19" name="__codelineno-21-19"></a><span class="k">EXPOSE</span><span class="w"> </span><span class="s">8880</span>
<a href="#__codelineno-21-20" id="__codelineno-21-20" name="__codelineno-21-20"></a>
<a href="#__codelineno-21-21" id="__codelineno-21-21" name="__codelineno-21-21"></a><span class="c"># command to run</span>
<a href="#__codelineno-21-22" id="__codelineno-21-22" name="__codelineno-21-22"></a><span class="k">CMD</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"node"</span><span class="p">,</span><span class="w"> </span><span class="s2">"serve.js"</span><span class="w"> </span><span class="p">]</span>
</code></pre></div>
发现最后 CMD 里 server.js 打成了 serve.js，而且 EXPOSE 的端口也不对。两个问题修一下然后重新构建、运行：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-22-1" id="__codelineno-22-1" name="__codelineno-22-1"></a>admin@ip-172-31-38-21:~/app$ sudo docker build -t app .
<a href="#__codelineno-22-2" id="__codelineno-22-2" name="__codelineno-22-2"></a>admin@ip-172-31-38-21:~/app$ sudo docker rm 124
<a href="#__codelineno-22-3" id="__codelineno-22-3" name="__codelineno-22-3"></a>admin@ip-172-31-38-21:~/app$ sudo docker run -d -p 8888:8888 app
<a href="#__codelineno-22-4" id="__codelineno-22-4" name="__codelineno-22-4"></a>e67b36ff14ff3676e419036180abf9231e97eacc5ec6fe9d76426e7003acfb8f
<a href="#__codelineno-22-5" id="__codelineno-22-5" name="__codelineno-22-5"></a>docker: Error response from daemon: driver failed programming external connectivity on endpoint nifty_bhaskara (ce8a09c7a42f730b89e0bd1bd3298de1598d79bf0d08d1532a7f38002cda84d4): Error starting userland proxy: listen tcp4 0.0.0.0:8888: bind: address already in use.
</code></pre></div>
发现报错 8888 端口被占用了。没有 lsof，用 netstat 查一下端口：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-23-1" id="__codelineno-23-1" name="__codelineno-23-1"></a>admin@ip-172-31-38-21:~/app$ netstat -tunlp
<a href="#__codelineno-23-2" id="__codelineno-23-2" name="__codelineno-23-2"></a>(Not all processes could be identified, non-owned process info
<a href="#__codelineno-23-3" id="__codelineno-23-3" name="__codelineno-23-3"></a> will not be shown, you would have to be root to see it all.)
<a href="#__codelineno-23-4" id="__codelineno-23-4" name="__codelineno-23-4"></a>Active Internet connections (only servers)
<a href="#__codelineno-23-5" id="__codelineno-23-5" name="__codelineno-23-5"></a>Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
<a href="#__codelineno-23-6" id="__codelineno-23-6" name="__codelineno-23-6"></a>tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      -                   
<a href="#__codelineno-23-7" id="__codelineno-23-7" name="__codelineno-23-7"></a>tcp        0      0 0.0.0.0:8888            0.0.0.0:*               LISTEN      -                   
<a href="#__codelineno-23-8" id="__codelineno-23-8" name="__codelineno-23-8"></a>tcp6       0      0 :::8080                 :::*                    LISTEN      562/gotty           
<a href="#__codelineno-23-9" id="__codelineno-23-9" name="__codelineno-23-9"></a>tcp6       0      0 :::22                   :::*                    LISTEN      -                   
<a href="#__codelineno-23-10" id="__codelineno-23-10" name="__codelineno-23-10"></a>tcp6       0      0 :::8888                 :::*                    LISTEN      -                   
<a href="#__codelineno-23-11" id="__codelineno-23-11" name="__codelineno-23-11"></a>tcp6       0      0 :::6767                 :::*                    LISTEN      563/sadagent        
<a href="#__codelineno-23-12" id="__codelineno-23-12" name="__codelineno-23-12"></a>udp        0      0 127.0.0.1:323           0.0.0.0:*                           -                   
<a href="#__codelineno-23-13" id="__codelineno-23-13" name="__codelineno-23-13"></a>udp        0      0 0.0.0.0:68              0.0.0.0:*                           -                   
<a href="#__codelineno-23-14" id="__codelineno-23-14" name="__codelineno-23-14"></a>udp6       0      0 fe80::8d3:45ff:fee9:546 :::*                                -                   
<a href="#__codelineno-23-15" id="__codelineno-23-15" name="__codelineno-23-15"></a>udp6       0      0 ::1:323                 :::*                                - 
</code></pre></div>
发现 8888 端口在用，ps -aux 可以看到有一个 nginx 在运行，在 /etc/nginx/sites-enabled/default 里确实有使用 8888 端口。
<p>所以先停掉<span><span class="heti-spacing"> </span>nginx</span>，然后重新部署容器即可：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-24-1" id="__codelineno-24-1" name="__codelineno-24-1"></a>admin@ip-172-31-38-21:~/app$ sudo systemctl stop nginx
<a href="#__codelineno-24-2" id="__codelineno-24-2" name="__codelineno-24-2"></a>admin@ip-172-31-38-21:~/app$ sudo docker stop e6
<a href="#__codelineno-24-3" id="__codelineno-24-3" name="__codelineno-24-3"></a>e6
<a href="#__codelineno-24-4" id="__codelineno-24-4" name="__codelineno-24-4"></a>admin@ip-172-31-38-21:~/app$ sudo docker rm e6
<a href="#__codelineno-24-5" id="__codelineno-24-5" name="__codelineno-24-5"></a>e6
<a href="#__codelineno-24-6" id="__codelineno-24-6" name="__codelineno-24-6"></a>admin@ip-172-31-38-21:~/app$ sudo docker run -d -p 8888:8888 app
<a href="#__codelineno-24-7" id="__codelineno-24-7" name="__codelineno-24-7"></a>...
<a href="#__codelineno-24-8" id="__codelineno-24-8" name="__codelineno-24-8"></a>admin@ip-172-31-38-21:~/app$ curl localhost:8888
<a href="#__codelineno-24-9" id="__codelineno-24-9" name="__codelineno-24-9"></a>Hello World!
</code></pre></div>
<hr/>
<h2 id="jakarta">"Jakarta"<a class="headerlink" href="#jakarta" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>Scenario:</strong> "Jakarta": it's always DNS.</p>
<p><strong>Level:</strong> Hard</p>
<p><strong>Description:</strong> Can't ping google.com. It returns ping: google.com: Name or service not known. Expected is being able to resolve the hostname. (Note: currently the VMs can't ping outside so there's no automated check for the solution).</p>
<p><strong>OS:</strong> Ubuntu 22.04 LTS</p>
</blockquote>
<p>根据题目知道是<span class="heti-skip"><span class="heti-spacing"> </span>dns<span class="heti-spacing"> </span></span>出了问题，<span>/etc/resolv.conf<span class="heti-spacing"> </span></span>里的配置都没啥问题。而且整个<span class="heti-skip"><span class="heti-spacing"> </span>sadservers<span class="heti-spacing"> </span></span>是不能连接外网的，所以大概只能用本机的了。搜索了一下<span class="heti-skip"><span class="heti-spacing"> </span>dns<span class="heti-spacing"> </span></span>相关的配置文件，看了一圈发现<span class="heti-skip"><span class="heti-spacing"> </span>/etc/nsswitch.conf<span class="heti-spacing"> </span></span>里的<span class="heti-skip"><span class="heti-spacing"> </span>hosts<span class="heti-spacing"> </span></span>配置有问题：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-25-1" id="__codelineno-25-1" name="__codelineno-25-1"></a>hosts:          files
</code></pre></div>
而网上的例子里都有 dns，所以在 files 后面加一个 dns 就可以了：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-26-1" id="__codelineno-26-1" name="__codelineno-26-1"></a>ubuntu@ip-172-31-42-233:/$ ping google.com
<a href="#__codelineno-26-2" id="__codelineno-26-2" name="__codelineno-26-2"></a>PING google.com (142.250.191.174) 56(84) bytes of data.
</code></pre></div>
<hr/>
<h2 id="bern">"Bern"<a class="headerlink" href="#bern" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>Scenario:</strong> "Bern": Docker web container can't connect to db container.</p>
<p><strong>Level:</strong> Hard</p>
<p><strong>Description:</strong> There are two Docker containers running, a web application (Wordpress or WP) and a database (MariaDB) as back-end, but if we look at the web page, we see that it cannot connect to the database. curl -s localhost:80 |tail -4 returns:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-27-1" id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="p">&lt;</span><span class="nt">body</span> <span class="na">id</span><span class="o">=</span><span class="s">"error-page"</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"wp-die-message"</span><span class="p">&gt;&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Error establishing a database connection<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;&lt;/</span><span class="nt">body</span><span class="p">&gt;</span> <span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p>This is not a Wordpress code issue (the image is :latest with some network utilities added). What you need to know is that WP uses "WORDPRESS_DB_" environment variables to create the MySQL connection string. See the ./html/wp-config.php WP config file for example (from /home/admin).</p>
<p><strong>OS:</strong> Debian 11</p>
</blockquote>
<p><span>docker ps -a<span class="heti-spacing"> </span></span>可以看到有两个容器在运行。根据题目的<span class="heti-skip"><span class="heti-spacing"> </span>test<span class="heti-spacing"> </span></span>可以知道<span class="heti-skip"><span class="heti-spacing"> </span>mysql<span class="heti-spacing"> </span></span>的账号密码是<span><span class="heti-spacing"> </span>root:password</span>。</p>
<p><span>WordPress<span class="heti-spacing"> </span></span>启动会从环境变量读取配置，所以在<span class="heti-skip"><span class="heti-spacing"> </span>wordpress<span class="heti-spacing"> </span></span>的容器中查一下<span><span class="heti-spacing"> </span>env</span>：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-28-1" id="__codelineno-28-1" name="__codelineno-28-1"></a>admin@ip-172-31-19-232:/$ sudo docker exec wordpress env |grep WORDPRESS_DB_
<a href="#__codelineno-28-2" id="__codelineno-28-2" name="__codelineno-28-2"></a>WORDPRESS_DB_PASSWORD=password
<a href="#__codelineno-28-3" id="__codelineno-28-3" name="__codelineno-28-3"></a>WORDPRESS_DB_USER=root
</code></pre></div>
可以看出用户名和密码设置的是正确的。但是 NAME 和 HOST 使用的就是 wp-config.php 中默认的了，也就是 wordpress 和 mysql，NAME 的话在 mariadb 容器里可以看到确实是 wordpress，但 HOST 是 mysql，就连接不到了。
<p>而题给的<span class="heti-skip"><span class="heti-spacing"> </span>test<span class="heti-spacing"> </span></span>一定要在<span class="heti-skip"><span class="heti-spacing"> </span>wordpress<span class="heti-spacing"> </span></span>容器里打开<span><span class="heti-spacing"> </span>mysqladmin</span>，连接<span><span class="heti-spacing"> </span>host mysql</span>。不知道怎么搞<span><span class="heti-spacing"> </span>qwq</span>，<span>hint<span class="heti-spacing"> </span></span>没再接着写了，八会<span><span class="heti-spacing"> </span>qwq</span>。</p>
<hr/>
<h2 id="singara">"Singara"<a class="headerlink" href="#singara" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>Scenario:</strong> "Singara": Docker and Kubernetes web app not working.</p>
<p><strong>Level:</strong> Hard</p>
<p><strong>Description:</strong> There's a k3s Kubernetes install you can access with kubectl. The Kubernetes YAML manifests under /home/admin have been applied. The objective is to access from the host the "webapp" web server deployed and find what message it serves (it's a name of a town or city btw). In order to pass the check, the webapp Docker container should not be run separately outside Kubernetes as a shortcut.</p>
<p><strong>OS:</strong> Debian 11</p>
</blockquote>
<p>先看一下<span class="heti-skip"><span class="heti-spacing"> </span>k3s<span class="heti-spacing"> </span></span>的配置文件：</p>
<details class="example">
<summary>配置文件</summary>
<p></p><div class="highlight"><span class="filename">deployment.yml</span><pre><span></span><code><a href="#__codelineno-29-1" id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<a href="#__codelineno-29-2" id="__codelineno-29-2" name="__codelineno-29-2"></a><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deployment</span>
<a href="#__codelineno-29-3" id="__codelineno-29-3" name="__codelineno-29-3"></a><span class="nt">metadata</span><span class="p">:</span>
<a href="#__codelineno-29-4" id="__codelineno-29-4" name="__codelineno-29-4"></a><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">webapp-deployment</span>
<a href="#__codelineno-29-5" id="__codelineno-29-5" name="__codelineno-29-5"></a><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">web</span>
<a href="#__codelineno-29-6" id="__codelineno-29-6" name="__codelineno-29-6"></a><span class="nt">spec</span><span class="p">:</span>
<a href="#__codelineno-29-7" id="__codelineno-29-7" name="__codelineno-29-7"></a><span class="nt">selector</span><span class="p">:</span>
<a href="#__codelineno-29-8" id="__codelineno-29-8" name="__codelineno-29-8"></a><span class="w">    </span><span class="nt">matchLabels</span><span class="p">:</span>
<a href="#__codelineno-29-9" id="__codelineno-29-9" name="__codelineno-29-9"></a><span class="w">    </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">webapp</span>
<a href="#__codelineno-29-10" id="__codelineno-29-10" name="__codelineno-29-10"></a><span class="nt">replicas</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a href="#__codelineno-29-11" id="__codelineno-29-11" name="__codelineno-29-11"></a><span class="nt">template</span><span class="p">:</span>
<a href="#__codelineno-29-12" id="__codelineno-29-12" name="__codelineno-29-12"></a><span class="w">    </span><span class="nt">metadata</span><span class="p">:</span>
<a href="#__codelineno-29-13" id="__codelineno-29-13" name="__codelineno-29-13"></a><span class="w">    </span><span class="nt">labels</span><span class="p">:</span>
<a href="#__codelineno-29-14" id="__codelineno-29-14" name="__codelineno-29-14"></a><span class="w">        </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">webapp</span>
<a href="#__codelineno-29-15" id="__codelineno-29-15" name="__codelineno-29-15"></a><span class="w">    </span><span class="nt">spec</span><span class="p">:</span>
<a href="#__codelineno-29-16" id="__codelineno-29-16" name="__codelineno-29-16"></a><span class="w">    </span><span class="nt">containers</span><span class="p">:</span>
<a href="#__codelineno-29-17" id="__codelineno-29-17" name="__codelineno-29-17"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">webapp</span>
<a href="#__codelineno-29-18" id="__codelineno-29-18" name="__codelineno-29-18"></a><span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">image</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">webapp</span>
<a href="#__codelineno-29-19" id="__codelineno-29-19" name="__codelineno-29-19"></a><span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">imagePullPolicy</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Always</span>
<a href="#__codelineno-29-20" id="__codelineno-29-20" name="__codelineno-29-20"></a><span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">ports</span><span class="p p-Indicator">:</span>
<a href="#__codelineno-29-21" id="__codelineno-29-21" name="__codelineno-29-21"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">containerPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8880</span>
</code></pre></div>
<div class="highlight"><span class="filename">namespace.yml</span><pre><span></span><code><a href="#__codelineno-30-1" id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<a href="#__codelineno-30-2" id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Namespace</span>
<a href="#__codelineno-30-3" id="__codelineno-30-3" name="__codelineno-30-3"></a><span class="nt">metadata</span><span class="p">:</span>
<a href="#__codelineno-30-4" id="__codelineno-30-4" name="__codelineno-30-4"></a><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">web</span>
</code></pre></div>
<div class="highlight"><span class="filename">nodeport.yml</span><pre><span></span><code><a href="#__codelineno-31-1" id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<a href="#__codelineno-31-2" id="__codelineno-31-2" name="__codelineno-31-2"></a><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
<a href="#__codelineno-31-3" id="__codelineno-31-3" name="__codelineno-31-3"></a><span class="nt">metadata</span><span class="p">:</span>
<a href="#__codelineno-31-4" id="__codelineno-31-4" name="__codelineno-31-4"></a><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">webapp-service</span>
<a href="#__codelineno-31-5" id="__codelineno-31-5" name="__codelineno-31-5"></a><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">web</span>
<a href="#__codelineno-31-6" id="__codelineno-31-6" name="__codelineno-31-6"></a><span class="nt">spec</span><span class="p">:</span>
<a href="#__codelineno-31-7" id="__codelineno-31-7" name="__codelineno-31-7"></a><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NodePort</span>
<a href="#__codelineno-31-8" id="__codelineno-31-8" name="__codelineno-31-8"></a><span class="nt">selector</span><span class="p">:</span>
<a href="#__codelineno-31-9" id="__codelineno-31-9" name="__codelineno-31-9"></a><span class="w">    </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">webapp</span>
<a href="#__codelineno-31-10" id="__codelineno-31-10" name="__codelineno-31-10"></a><span class="nt">ports</span><span class="p">:</span>
<a href="#__codelineno-31-11" id="__codelineno-31-11" name="__codelineno-31-11"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<a href="#__codelineno-31-12" id="__codelineno-31-12" name="__codelineno-31-12"></a><span class="w">    </span><span class="nt">targetPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8888</span>
<a href="#__codelineno-31-13" id="__codelineno-31-13" name="__codelineno-31-13"></a><span class="w">    </span><span class="nt">nodePort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30007</span>
</code></pre></div>
</details>
<p>然后检查一下<span class="heti-skip"><span class="heti-spacing"> </span>k3s<span class="heti-spacing"> </span></span>各部分的状态：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-32-1" id="__codelineno-32-1" name="__codelineno-32-1"></a>admin@ip-10-0-0-64:~$ kubectl get all -n web
<a href="#__codelineno-32-2" id="__codelineno-32-2" name="__codelineno-32-2"></a>NAME                                     READY   STATUS             RESTARTS   AGE
<a href="#__codelineno-32-3" id="__codelineno-32-3" name="__codelineno-32-3"></a>pod/webapp-deployment-666b67994b-5sffz   0/1     ImagePullBackOff   0          46d
<a href="#__codelineno-32-4" id="__codelineno-32-4" name="__codelineno-32-4"></a>
<a href="#__codelineno-32-5" id="__codelineno-32-5" name="__codelineno-32-5"></a>NAME                     TYPE       CLUSTER-IP    EXTERNAL-IP   PORT(S)        AGE
<a href="#__codelineno-32-6" id="__codelineno-32-6" name="__codelineno-32-6"></a>service/webapp-service   NodePort   10.43.35.97   &lt;none&gt;        80:30007/TCP   46d
<a href="#__codelineno-32-7" id="__codelineno-32-7" name="__codelineno-32-7"></a>
<a href="#__codelineno-32-8" id="__codelineno-32-8" name="__codelineno-32-8"></a>NAME                                READY   UP-TO-DATE   AVAILABLE   AGE
<a href="#__codelineno-32-9" id="__codelineno-32-9" name="__codelineno-32-9"></a>deployment.apps/webapp-deployment   0/1     1            0           46d
<a href="#__codelineno-32-10" id="__codelineno-32-10" name="__codelineno-32-10"></a>
<a href="#__codelineno-32-11" id="__codelineno-32-11" name="__codelineno-32-11"></a>NAME                                           DESIRED   CURRENT   READY   AGE
<a href="#__codelineno-32-12" id="__codelineno-32-12" name="__codelineno-32-12"></a>replicaset.apps/webapp-deployment-666b67994b   1         1         0       46d
</code></pre></div>
可以发现 webapp-deployment 的镜像拉取失败了。因为它会从网络拉取 webapp 镜像而不是本地，而整个 sadservers 不能连接外部网络，所以自然会拉取失败。
<p>这个状态和前一阵办<span class="heti-skip"><span class="heti-spacing"> </span>ZJUCTF<span class="heti-spacing"> </span></span>校赛很像，大概就是<span class="heti-skip"><span class="heti-spacing"> </span>k3s<span class="heti-spacing"> </span></span>拉取镜像的问题。当时是自建了一个<span class="heti-skip"><span class="heti-spacing"> </span>registry<span class="heti-spacing"> </span></span>来搞的。所以查一下本地的镜像：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-33-1" id="__codelineno-33-1" name="__codelineno-33-1"></a>admin@ip-10-0-0-64:~$ sudo docker images
<a href="#__codelineno-33-2" id="__codelineno-33-2" name="__codelineno-33-2"></a>REPOSITORY   TAG        IMAGE ID       CREATED        SIZE
<a href="#__codelineno-33-3" id="__codelineno-33-3" name="__codelineno-33-3"></a>webapp       latest     9c082e2983bc   6 weeks ago    135MB
<a href="#__codelineno-33-4" id="__codelineno-33-4" name="__codelineno-33-4"></a>python       3.7-slim   c1d0bab51bbf   7 weeks ago    123MB
<a href="#__codelineno-33-5" id="__codelineno-33-5" name="__codelineno-33-5"></a>registry     2          3a0f7b0a13ef   2 months ago   24.1MB
</code></pre></div>
发现正好有 registry 镜像。所以本地起一个 registry 然后将 webapp 上传：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-34-1" id="__codelineno-34-1" name="__codelineno-34-1"></a>admin@ip-10-0-0-64:~$ sudo docker run -d -p 5000:5000 registry:2
<a href="#__codelineno-34-2" id="__codelineno-34-2" name="__codelineno-34-2"></a>...
<a href="#__codelineno-34-3" id="__codelineno-34-3" name="__codelineno-34-3"></a>admin@ip-10-0-0-64:~$ sudo docker tag webapp localhost:5000/webapp
<a href="#__codelineno-34-4" id="__codelineno-34-4" name="__codelineno-34-4"></a>admin@ip-10-0-0-64:~$ sudo docker push localhost:5000/webapp
<a href="#__codelineno-34-5" id="__codelineno-34-5" name="__codelineno-34-5"></a>Using default tag: latest
<a href="#__codelineno-34-6" id="__codelineno-34-6" name="__codelineno-34-6"></a>The push refers to repository [localhost:5000/webapp]
<a href="#__codelineno-34-7" id="__codelineno-34-7" name="__codelineno-34-7"></a>...
</code></pre></div>
然后改一下 deployment.yml：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-35-1" id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="nn">...</span>
<a href="#__codelineno-35-2" id="__codelineno-35-2" name="__codelineno-35-2"></a><span class="nt">template</span><span class="p">:</span>
<a href="#__codelineno-35-3" id="__codelineno-35-3" name="__codelineno-35-3"></a><span class="w">    </span><span class="nt">metadata</span><span class="p">:</span>
<a href="#__codelineno-35-4" id="__codelineno-35-4" name="__codelineno-35-4"></a><span class="w">    </span><span class="nt">labels</span><span class="p">:</span>
<a href="#__codelineno-35-5" id="__codelineno-35-5" name="__codelineno-35-5"></a><span class="w">        </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">webapp</span>
<a href="#__codelineno-35-6" id="__codelineno-35-6" name="__codelineno-35-6"></a><span class="w">    </span><span class="nt">spec</span><span class="p">:</span>
<a href="#__codelineno-35-7" id="__codelineno-35-7" name="__codelineno-35-7"></a><span class="w">    </span><span class="nt">containers</span><span class="p">:</span>
<a href="#__codelineno-35-8" id="__codelineno-35-8" name="__codelineno-35-8"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">webapp</span>
<a href="#__codelineno-35-9" id="__codelineno-35-9" name="__codelineno-35-9"></a><span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">image</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost:5000/webapp</span><span class="w"> </span><span class="c1"># 这里</span>
<a href="#__codelineno-35-10" id="__codelineno-35-10" name="__codelineno-35-10"></a><span class="w">        </span><span class="nt">imagePullPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Always</span>
<a href="#__codelineno-35-11" id="__codelineno-35-11" name="__codelineno-35-11"></a><span class="w">        </span><span class="nt">ports</span><span class="p">:</span>
<a href="#__codelineno-35-12" id="__codelineno-35-12" name="__codelineno-35-12"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">containerPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8888</span><span class="w"> </span><span class="c1"># 和这里</span>
</code></pre></div>
然后应用：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-36-1" id="__codelineno-36-1" name="__codelineno-36-1"></a>admin@ip-10-0-0-64:~$ kubectl apply -f deployment.yml 
<a href="#__codelineno-36-2" id="__codelineno-36-2" name="__codelineno-36-2"></a>deployment.apps/webapp-deployment configured
<a href="#__codelineno-36-3" id="__codelineno-36-3" name="__codelineno-36-3"></a>admin@ip-10-0-0-64:~$ kubectl get pods -n web
<a href="#__codelineno-36-4" id="__codelineno-36-4" name="__codelineno-36-4"></a>NAME                                 READY   STATUS        RESTARTS   AGE
<a href="#__codelineno-36-5" id="__codelineno-36-5" name="__codelineno-36-5"></a>webapp-deployment-666b67994b-5sffz   0/1     Terminating   0          46d
<a href="#__codelineno-36-6" id="__codelineno-36-6" name="__codelineno-36-6"></a>webapp-deployment-8f869f757-g2m7n    1/1     Running       0          12s
</code></pre></div>
可以发现成功启动了，接下来的就是将其中的 8888 端口转发出来：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-37-1" id="__codelineno-37-1" name="__codelineno-37-1"></a>admin@ip-10-0-0-64:~$ kubectl port-forward deployments/webapp-deployment 8888 -n web &amp;
<a href="#__codelineno-37-2" id="__codelineno-37-2" name="__codelineno-37-2"></a>Forwarding from 127.0.0.1:8888 -&gt; 8888
<a href="#__codelineno-37-3" id="__codelineno-37-3" name="__codelineno-37-3"></a>Forwarding from [::1]:8888 -&gt; 8888
<a href="#__codelineno-37-4" id="__codelineno-37-4" name="__codelineno-37-4"></a>...
</code></pre></div>
然后在另一个终端里 curl localhost:8888 就可以得到正常结果了。
<hr/>
<h2 id="karakorum">"Karakorum"<a class="headerlink" href="#karakorum" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>Scenario:</strong> "Karakorum": WTFIT – What The Fun Is This?</p>
<p><strong>Level:</strong> Hard</p>
<p><strong>Description:</strong> There's a binary at /home/admin/wtfit that nobody knows how it works or what it does ("what the fun is this"). Someone remembers something about wtfit needing to communicate to a service in order to start. Run this wtfit program so it doesn't exit with an error, fixing or working around things that you need but are broken in this server. (Note that you can open more than one web "terminal").</p>
<p><strong>OS:</strong> Debian 11</p>
</blockquote>
<p><span>ls -l<span class="heti-spacing"> </span></span>可以看出来<span class="heti-skip"><span class="heti-spacing"> </span>wtfit<span class="heti-spacing"> </span></span>没有运行权限。所以先<span><span class="heti-spacing"> </span>chmod</span>，但<span class="heti-skip"><span class="heti-spacing"> </span>chmod<span class="heti-spacing"> </span></span>会报错<span><span class="heti-spacing"> </span>bash: /usr/bin/chmod: Permission denied</span>。经过检查可以发现是<span class="heti-skip"><span class="heti-spacing"> </span>/usr/bin/chmod<span class="heti-spacing"> </span></span>自身也没有运行权限：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-38-1" id="__codelineno-38-1" name="__codelineno-38-1"></a>admin@ip-172-31-46-91:/$ ls -l /usr/bin/chmod
<a href="#__codelineno-38-2" id="__codelineno-38-2" name="__codelineno-38-2"></a>-rw-r--r-- 1 root root 64448 Sep 24  2020 /usr/bin/chmod
</code></pre></div>
可以搜索到<a href="https://www.cnblogs.com/chuckzhang/p/9277268.html">一些解决办法</a>：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-39-1" id="__codelineno-39-1" name="__codelineno-39-1"></a>admin@ip-172-31-46-91:/$ sudo su
<a href="#__codelineno-39-2" id="__codelineno-39-2" name="__codelineno-39-2"></a>root@ip-172-31-46-91:/# /lib64/ld-linux-x86-64.so.2 /bin/chmod 755 /bin/chmod
<a href="#__codelineno-39-3" id="__codelineno-39-3" name="__codelineno-39-3"></a>root@ip-172-31-46-91:/# cd /home/admin/
<a href="#__codelineno-39-4" id="__codelineno-39-4" name="__codelineno-39-4"></a>root@ip-172-31-46-91:/home/admin# chmod +x wtfit
</code></pre></div>
运行 wtfit 出错：ERROR: can't open config file。根据提示通过 strace 来跟踪得到错误的详细消息：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-40-1" id="__codelineno-40-1" name="__codelineno-40-1"></a>admin@ip-172-31-46-91:~$ strace ./wtfit
<a href="#__codelineno-40-2" id="__codelineno-40-2" name="__codelineno-40-2"></a>...
<a href="#__codelineno-40-3" id="__codelineno-40-3" name="__codelineno-40-3"></a>openat(AT_FDCWD, "/home/admin/wtfitconfig.conf", O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)
<a href="#__codelineno-40-4" id="__codelineno-40-4" name="__codelineno-40-4"></a>...
</code></pre></div>
在这个位置创建一个空的配置文件。然后再运行，还是出错：ERROR: can't connect to server。同样 strace 可以得到：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-41-1" id="__codelineno-41-1" name="__codelineno-41-1"></a>admin@ip-172-31-46-91:~$ strace ./wtfit
<a href="#__codelineno-41-2" id="__codelineno-41-2" name="__codelineno-41-2"></a>...
<a href="#__codelineno-41-3" id="__codelineno-41-3" name="__codelineno-41-3"></a>connect(3, {sa_family=AF_INET, sin_port=htons(7777), sin_addr=inet_addr("127.0.0.1")}, 16) = -1 EINPROGRESS (Operation now in progress)
<a href="#__codelineno-41-4" id="__codelineno-41-4" name="__codelineno-41-4"></a>...
</code></pre></div>
所以可以看出它在试图连接 localhost:7777。开一个新的 terminal 然后监听一下 7777 端口，运行 wtfit：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-42-1" id="__codelineno-42-1" name="__codelineno-42-1"></a>admin@ip-172-31-46-91:/$ nc -lvvp 7777
<a href="#__codelineno-42-2" id="__codelineno-42-2" name="__codelineno-42-2"></a>Listening on 0.0.0.0 7777
<a href="#__codelineno-42-3" id="__codelineno-42-3" name="__codelineno-42-3"></a>Connection received on localhost 54756
<a href="#__codelineno-42-4" id="__codelineno-42-4" name="__codelineno-42-4"></a>GET / HTTP/1.1
<a href="#__codelineno-42-5" id="__codelineno-42-5" name="__codelineno-42-5"></a>Host: localhost:7777
<a href="#__codelineno-42-6" id="__codelineno-42-6" name="__codelineno-42-6"></a>User-Agent: Go-http-client/1.1
<a href="#__codelineno-42-7" id="__codelineno-42-7" name="__codelineno-42-7"></a>Accept-Encoding: gzip
</code></pre></div>
可以发现就是简单的 GET，所以 python 起一个 http server，然后运行：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-43-1" id="__codelineno-43-1" name="__codelineno-43-1"></a>admin@ip-172-31-46-91:/$ python3 -m http.server 7777
<a href="#__codelineno-43-2" id="__codelineno-43-2" name="__codelineno-43-2"></a>Serving HTTP on 0.0.0.0 port 7777 (http://0.0.0.0:7777/) ...
<a href="#__codelineno-43-3" id="__codelineno-43-3" name="__codelineno-43-3"></a>127.0.0.1 - - [03/Nov/2022 12:58:30] "GET / HTTP/1.1" 200 -
</code></pre></div>
这时 wtfit 就可以正常运行结束了。
<hr/>
<h2 id="hong-kong">"Hong-Kong"<a class="headerlink" href="#hong-kong" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>Scenario:</strong> "Hong-Kong": can't write data into database.</p>
<p><strong>Level:</strong> Hard</p>
<p><strong>Description:</strong> (Similar to "Manhattan" scenario but harder). Your objective is to be able to insert a row in an existing Postgres database. The issue is not specific to Postgres and you don't need to know details about it (although it may help).</p>
<p>Postgres information: it's a service that listens to a port (:5432) and writes to disk in a data directory, the location of which is defined in the data_directory parameter of the configuration file /etc/postgresql/14/main/postgresql.conf. In our case Postgres is managed by systemd as a unit with name postgresql.</p>
<p><strong>OS:</strong> Debian 10</p>
</blockquote>
<p>和前面的<span class="heti-skip"><span class="heti-spacing"> </span>"Manhattan"<span class="heti-spacing"> </span></span>类似。还是先检查状态没异常，重启没异常，查看<span><span class="heti-spacing"> </span>/var/log/syslog</span>，发现：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-44-1" id="__codelineno-44-1" name="__codelineno-44-1"></a>Nov  3 11:52:20 ip-172-31-25-11 systemd[1]: Starting PostgreSQL Cluster 14-main...
<a href="#__codelineno-44-2" id="__codelineno-44-2" name="__codelineno-44-2"></a>Nov  3 11:52:20 ip-172-31-25-11 postgresql@14-main[1318]: Error: /opt/pgdata/main is not accessible or does not exist
<a href="#__codelineno-44-3" id="__codelineno-44-3" name="__codelineno-44-3"></a>Nov  3 11:52:20 ip-172-31-25-11 systemd[1]: postgresql@14-main.service: Can't open PID file /run/postgresql/14-main.pid (yet?) after start: No such file or directory
<a href="#__codelineno-44-4" id="__codelineno-44-4" name="__codelineno-44-4"></a>Nov  3 11:52:20 ip-172-31-25-11 systemd[1]: postgresql@14-main.service: Failed with result 'protocol'.
<a href="#__codelineno-44-5" id="__codelineno-44-5" name="__codelineno-44-5"></a>Nov  3 11:52:20 ip-172-31-25-11 systemd[1]: Failed to start PostgreSQL Cluster 14-main.
</code></pre></div>
<p>找不到<span><span class="heti-spacing"> </span>/opt/pgdata/main</span>，<span>ls<span class="heti-spacing"> </span></span>一下<span class="heti-skip"><span class="heti-spacing"> </span>/opt/pgdata<span class="heti-spacing"> </span></span>也没有。再往前看<span class="heti-skip"><span class="heti-spacing"> </span>syslog<span class="heti-spacing"> </span></span>可以发现：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-45-1" id="__codelineno-45-1" name="__codelineno-45-1"></a>Nov  3 11:47:54 ip-172-31-25-11 systemd[1]: dev-xvdb.device: Job dev-xvdb.device/start timed out.
<a href="#__codelineno-45-2" id="__codelineno-45-2" name="__codelineno-45-2"></a>Nov  3 11:47:54 ip-172-31-25-11 systemd[1]: Timed out waiting for device /dev/xvdb.
<a href="#__codelineno-45-3" id="__codelineno-45-3" name="__codelineno-45-3"></a>Nov  3 11:47:54 ip-172-31-25-11 systemd[1]: Dependency failed for /opt/pgdata.
<a href="#__codelineno-45-4" id="__codelineno-45-4" name="__codelineno-45-4"></a>Nov  3 11:47:54 ip-172-31-25-11 systemd[1]: opt-pgdata.mount: Job opt-pgdata.mount/start failed with result 'dependency'.
<a href="#__codelineno-45-5" id="__codelineno-45-5" name="__codelineno-45-5"></a>Nov  3 11:47:54 ip-172-31-25-11 systemd[1]: Startup finished in 2.669s (kernel) + 1min 31.106s (userspace) = 1min 33.776s.
<a href="#__codelineno-45-6" id="__codelineno-45-6" name="__codelineno-45-6"></a>Nov  3 11:47:54 ip-172-31-25-11 systemd[1]: dev-xvdb.device: Job dev-xvdb.device/start failed with result 'timeout'.
</code></pre></div>
可以发现挂载设备超时了。
<p><span>fdisk<span class="heti-spacing"> </span></span>看一下：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-46-1" id="__codelineno-46-1" name="__codelineno-46-1"></a>root@ip-172-31-25-11:/# fdisk -l
<a href="#__codelineno-46-2" id="__codelineno-46-2" name="__codelineno-46-2"></a>Disk /dev/nvme0n1: 8 GiB, 8589934592 bytes, 16777216 sectors
<a href="#__codelineno-46-3" id="__codelineno-46-3" name="__codelineno-46-3"></a>Disk model: Amazon Elastic Block Store              
<a href="#__codelineno-46-4" id="__codelineno-46-4" name="__codelineno-46-4"></a>Units: sectors of 1 * 512 = 512 bytes
<a href="#__codelineno-46-5" id="__codelineno-46-5" name="__codelineno-46-5"></a>Sector size (logical/physical): 512 bytes / 512 bytes
<a href="#__codelineno-46-6" id="__codelineno-46-6" name="__codelineno-46-6"></a>I/O size (minimum/optimal): 512 bytes / 512 bytes
<a href="#__codelineno-46-7" id="__codelineno-46-7" name="__codelineno-46-7"></a>
<a href="#__codelineno-46-8" id="__codelineno-46-8" name="__codelineno-46-8"></a>
<a href="#__codelineno-46-9" id="__codelineno-46-9" name="__codelineno-46-9"></a>Disk /dev/nvme1n1: 8 GiB, 8589934592 bytes, 16777216 sectors
<a href="#__codelineno-46-10" id="__codelineno-46-10" name="__codelineno-46-10"></a>Disk model: Amazon Elastic Block Store              
<a href="#__codelineno-46-11" id="__codelineno-46-11" name="__codelineno-46-11"></a>Units: sectors of 1 * 512 = 512 bytes
<a href="#__codelineno-46-12" id="__codelineno-46-12" name="__codelineno-46-12"></a>Sector size (logical/physical): 512 bytes / 512 bytes
<a href="#__codelineno-46-13" id="__codelineno-46-13" name="__codelineno-46-13"></a>I/O size (minimum/optimal): 512 bytes / 512 bytes
<a href="#__codelineno-46-14" id="__codelineno-46-14" name="__codelineno-46-14"></a>Disklabel type: gpt
<a href="#__codelineno-46-15" id="__codelineno-46-15" name="__codelineno-46-15"></a>Disk identifier: 56507B41-5D22-1349-81AD-C628BA074922
<a href="#__codelineno-46-16" id="__codelineno-46-16" name="__codelineno-46-16"></a>
<a href="#__codelineno-46-17" id="__codelineno-46-17" name="__codelineno-46-17"></a>Device           Start      End  Sectors  Size Type
<a href="#__codelineno-46-18" id="__codelineno-46-18" name="__codelineno-46-18"></a>/dev/nvme1n1p1  262144 16777182 16515039  7.9G Linux filesystem
<a href="#__codelineno-46-19" id="__codelineno-46-19" name="__codelineno-46-19"></a>/dev/nvme1n1p14   2048     8191     6144    3M BIOS boot
<a href="#__codelineno-46-20" id="__codelineno-46-20" name="__codelineno-46-20"></a>/dev/nvme1n1p15   8192   262143   253952  124M EFI System
<a href="#__codelineno-46-21" id="__codelineno-46-21" name="__codelineno-46-21"></a>
<a href="#__codelineno-46-22" id="__codelineno-46-22" name="__codelineno-46-22"></a>Partition table entries are not in disk order.
<a href="#__codelineno-46-23" id="__codelineno-46-23" name="__codelineno-46-23"></a>root@ip-172-31-25-11:/# df
<a href="#__codelineno-46-24" id="__codelineno-46-24" name="__codelineno-46-24"></a>Filesystem      1K-blocks    Used Available Use% Mounted on
<a href="#__codelineno-46-25" id="__codelineno-46-25" name="__codelineno-46-25"></a>udev               228728       0    228728   0% /dev
<a href="#__codelineno-46-26" id="__codelineno-46-26" name="__codelineno-46-26"></a>tmpfs               47568    1524     46044   4% /run
<a href="#__codelineno-46-27" id="__codelineno-46-27" name="__codelineno-46-27"></a>/dev/nvme1n1p1    8026128 1230452   6366420  17% /
<a href="#__codelineno-46-28" id="__codelineno-46-28" name="__codelineno-46-28"></a>tmpfs              237828       0    237828   0% /dev/shm
<a href="#__codelineno-46-29" id="__codelineno-46-29" name="__codelineno-46-29"></a>tmpfs                5120       0      5120   0% /run/lock
<a href="#__codelineno-46-30" id="__codelineno-46-30" name="__codelineno-46-30"></a>tmpfs              237828       0    237828   0% /sys/fs/cgroup
<a href="#__codelineno-46-31" id="__codelineno-46-31" name="__codelineno-46-31"></a>/dev/nvme1n1p15    126710     278    126432   1% /boot/efi
</code></pre></div>
可以发现 /dev/nvme0n1 没有挂载上，根据前面题目可以推测这个设备里面是 /opt/pgdata 的内容。
<p><code>mount /dev/nvme0n1 /opt/pgdata</code> 尝试挂载，没有报错，但仍旧没有东西。看一下<span class="heti-skip"><span class="heti-spacing"> </span>/var/log/syslog<span class="heti-spacing"> </span></span>发现：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-47-1" id="__codelineno-47-1" name="__codelineno-47-1"></a>Nov  3 12:02:06 ip-172-31-25-11 kernel: [  945.914667] SGI XFS with ACLs, security attributes, realtime, no debug enabled
<a href="#__codelineno-47-2" id="__codelineno-47-2" name="__codelineno-47-2"></a>Nov  3 12:02:06 ip-172-31-25-11 kernel: [  945.925395] XFS (nvme0n1): Mounting V5 Filesystem
<a href="#__codelineno-47-3" id="__codelineno-47-3" name="__codelineno-47-3"></a>Nov  3 12:02:07 ip-172-31-25-11 kernel: [  946.092049] XFS (nvme0n1): Ending clean mount
<a href="#__codelineno-47-4" id="__codelineno-47-4" name="__codelineno-47-4"></a>Nov  3 12:02:07 ip-172-31-25-11 systemd[1]: opt-pgdata.mount: Unit is bound to inactive unit dev-xvdb.device. Stopping, too.
<a href="#__codelineno-47-5" id="__codelineno-47-5" name="__codelineno-47-5"></a>Nov  3 12:02:07 ip-172-31-25-11 systemd[1]: Unmounting /opt/pgdata...
<a href="#__codelineno-47-6" id="__codelineno-47-6" name="__codelineno-47-6"></a>Nov  3 12:02:07 ip-172-31-25-11 kernel: [  946.124665] XFS (nvme0n1): Unmounting Filesystem
<a href="#__codelineno-47-7" id="__codelineno-47-7" name="__codelineno-47-7"></a>Nov  3 12:02:07 ip-172-31-25-11 systemd[1]: opt-pgdata.mount: Succeeded.
<a href="#__codelineno-47-8" id="__codelineno-47-8" name="__codelineno-47-8"></a>Nov  3 12:02:07 ip-172-31-25-11 systemd[1]: Unmounted /opt/pgdata.
</code></pre></div>
<p>可以看出<span class="heti-skip"><span class="heti-spacing"> </span>systemd<span class="heti-spacing"> </span></span>不让我们挂载到<span class="heti-skip"><span class="heti-spacing"> </span>/opt/pgdata<span class="heti-spacing"> </span></span>上，因为它和<span class="heti-skip"><span class="heti-spacing"> </span>/dev/xvdb<span class="heti-spacing"> </span></span>设备关联了。这个关联是在<span class="heti-skip"><span class="heti-spacing"> </span>/etc/fstab<span class="heti-spacing"> </span></span>文件中的：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-48-1" id="__codelineno-48-1" name="__codelineno-48-1"></a># /etc/fstab: static file system information
<a href="#__codelineno-48-2" id="__codelineno-48-2" name="__codelineno-48-2"></a>UUID=5db68868-2d70-449f-8b1d-f3c769ec01c7 / ext4 rw,discard,errors=remount-ro,x-systemd.growfs 0 1
<a href="#__codelineno-48-3" id="__codelineno-48-3" name="__codelineno-48-3"></a>UUID=72C9-F191 /boot/efi vfat defaults 0 0
<a href="#__codelineno-48-4" id="__codelineno-48-4" name="__codelineno-48-4"></a>/dev/xvdb /opt/pgdata xfs defaults,nofail 0 0
</code></pre></div>
把里面的 /dev/xvdb 换成 /dev/nvme0n1，然后 systemctl daemon-reload 重新加载配置文件。之后就可以正常 mount 了：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-49-1" id="__codelineno-49-1" name="__codelineno-49-1"></a>root@ip-172-31-25-11:/# systemctl daemon-reload
<a href="#__codelineno-49-2" id="__codelineno-49-2" name="__codelineno-49-2"></a>root@ip-172-31-25-11:/# ls /opt/pgdata
<a href="#__codelineno-49-3" id="__codelineno-49-3" name="__codelineno-49-3"></a>root@ip-172-31-25-11:/# mount /dev/nvme0n1 /opt/pgdata
<a href="#__codelineno-49-4" id="__codelineno-49-4" name="__codelineno-49-4"></a>root@ip-172-31-25-11:/# ls /opt/pgdata
<a href="#__codelineno-49-5" id="__codelineno-49-5" name="__codelineno-49-5"></a>deleteme  file1.bk  file2.bk  file3.bk  main
</code></pre></div>
同样，这些 .bk 文件占满了空间，删掉然后重启 postgresql，就可以正常使用了：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-50-1" id="__codelineno-50-1" name="__codelineno-50-1"></a>root@ip-172-31-25-11:/# ls -l /opt/pgdata
<a href="#__codelineno-50-2" id="__codelineno-50-2" name="__codelineno-50-2"></a>total 8285620
<a href="#__codelineno-50-3" id="__codelineno-50-3" name="__codelineno-50-3"></a>-rw-r--r--  1 root     root             69 May 21 22:20 deleteme
<a href="#__codelineno-50-4" id="__codelineno-50-4" name="__codelineno-50-4"></a>-rw-r--r--  1 root     root     7516192768 May 21 22:06 file1.bk
<a href="#__codelineno-50-5" id="__codelineno-50-5" name="__codelineno-50-5"></a>-rw-r--r--  1 root     root      967774208 May 21 22:17 file2.bk
<a href="#__codelineno-50-6" id="__codelineno-50-6" name="__codelineno-50-6"></a>-rw-r--r--  1 root     root         499712 May 21 22:23 file3.bk
<a href="#__codelineno-50-7" id="__codelineno-50-7" name="__codelineno-50-7"></a>drwx------ 19 postgres postgres       4096 May 21 22:24 main
<a href="#__codelineno-50-8" id="__codelineno-50-8" name="__codelineno-50-8"></a>root@ip-172-31-25-11:/# rm /opt/pgdata/file*.bk
<a href="#__codelineno-50-9" id="__codelineno-50-9" name="__codelineno-50-9"></a>root@ip-172-31-25-11:/# sudo systemctl start postgresql
<a href="#__codelineno-50-10" id="__codelineno-50-10" name="__codelineno-50-10"></a>root@ip-172-31-25-11:/# sudo -u postgres psql -c "insert into persons(name) values ('jane smith');" -d dt
<a href="#__codelineno-50-11" id="__codelineno-50-11" name="__codelineno-50-11"></a>INSERT 0 1
</code></pre></div>
<hr/>
<h2 id="venice">"Venice"<a class="headerlink" href="#venice" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>Scenario:</strong> "Venice": Am I in a container?</p>
<p><strong>Level:</strong> Medium</p>
<p><strong>Description:</strong> Try and figure out if you are inside a container (like a Docker one for example) or inside a Virtual Machine (like in the other scenarios).</p>
<p><strong>OS:</strong> Debian 11</p>
</blockquote>
<p>emmm，<span>ps -aux<span class="heti-spacing"> </span></span>看到：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-51-1" id="__codelineno-51-1" name="__codelineno-51-1"></a>root@ip-172-31-33-228:/# ps -aux
<a href="#__codelineno-51-2" id="__codelineno-51-2" name="__codelineno-51-2"></a>USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
<a href="#__codelineno-51-3" id="__codelineno-51-3" name="__codelineno-51-3"></a>root           1  0.4  2.0 100712  9600 ?        Ss   12:14   0:01 /sbin/init
<a href="#__codelineno-51-4" id="__codelineno-51-4" name="__codelineno-51-4"></a>root          22  0.0  1.4  26728  6912 ?        Ss   12:14   0:00 /lib/systemd/systemd-journald
<a href="#__codelineno-51-5" id="__codelineno-51-5" name="__codelineno-51-5"></a>message+      47  0.0  0.7   8268  3700 ?        Ss   12:14   0:00 /usr/bin/dbus-daemon --system --addres
<a href="#__codelineno-51-6" id="__codelineno-51-6" name="__codelineno-51-6"></a>root          49  0.0  1.1  13404  5532 ?        Ss   12:14   0:00 /lib/systemd/systemd-logind
<a href="#__codelineno-51-7" id="__codelineno-51-7" name="__codelineno-51-7"></a>root          71  0.0  2.4 1230092 11584 ?       S&lt;sl 12:14   0:00 /usr/local/gotty --permit-write --reco
<a href="#__codelineno-51-8" id="__codelineno-51-8" name="__codelineno-51-8"></a>root          91  0.0  0.7   6056  3652 pts/0    S&lt;s  12:18   0:00 bash
<a href="#__codelineno-51-9" id="__codelineno-51-9" name="__codelineno-51-9"></a>root          92  0.0  0.7   8840  3416 pts/0    R&lt;+  12:18   0:00 ps -aux
</code></pre></div>
和其它题目实例里面不一样，没有 kernel thread，所以是容器而不是虚拟机。（就这？
<details class="success">
<summary>题给答案</summary>
<blockquote>
<p><strong>Solution:</strong> This is in fact a Podman container :-)<br/>
You can get the image: docker.io/fduran/venice.</p>
<p>A way of checking is by looking at the environment of the PID=1 process and see if there's a container variable, for ex: cat /proc/1/environ|tr "\0" "\n"|grep container , in our case would be container=podman but I changed its value.</p>
<p>An indicator is to look at the running processes and see that there are no kernel threads like [kthreadd].</p>
</blockquote>
</details>
<h2 id="oaxaca">"Oaxaca"<a class="headerlink" href="#oaxaca" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>Scenario:</strong> "Oaxaca": Close an Open File</p>
<p><strong>Level:</strong> Medium</p>
<p><strong>Description:</strong> The file /home/admin/somefile is open for writing by some process. Close this file without killing the process.</p>
<p><strong>OS:</strong> Debian 11</p>
</blockquote>
<p><span>lsof /home/admin/somefile<span class="heti-spacing"> </span></span>可以看到有进程打开了这个文件：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-52-1" id="__codelineno-52-1" name="__codelineno-52-1"></a>COMMAND PID  USER   FD   TYPE DEVICE SIZE/OFF   NODE NAME
<a href="#__codelineno-52-2" id="__codelineno-52-2" name="__codelineno-52-2"></a>bash    798 admin   77w   REG  259,1        0 272875 /home/admin/somefile
</code></pre></div>
ps -aux 找一通发现这个 PID 就是当前的 shell。
<p><span>somefile<span class="heti-spacing"> </span></span>旁边还有一个<span><span class="heti-spacing"> </span>openfile.sh</span>，内容为：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-53-1" id="__codelineno-53-1" name="__codelineno-53-1"></a><span class="ch">#!/bin/bash</span>
<a href="#__codelineno-53-2" id="__codelineno-53-2" name="__codelineno-53-2"></a><span class="nb">exec</span><span class="w"> </span><span class="m">66</span>&gt;<span class="w"> </span>/home/admin/somefile
</code></pre></div>
可以推测是以这种方式打开的文件。通过前面 lsof 的结果知道这个文件的 fd 为 77，或者可以通过 proc 来验证一下：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-54-1" id="__codelineno-54-1" name="__codelineno-54-1"></a>$ ls -l /proc/self/fd
<a href="#__codelineno-54-2" id="__codelineno-54-2" name="__codelineno-54-2"></a>total 0
<a href="#__codelineno-54-3" id="__codelineno-54-3" name="__codelineno-54-3"></a>lrwx------ 1 admin admin 64 Dec 24 04:47 0 -&gt; /dev/pts/0
<a href="#__codelineno-54-4" id="__codelineno-54-4" name="__codelineno-54-4"></a>lrwx------ 1 admin admin 64 Dec 24 04:47 1 -&gt; /dev/pts/0
<a href="#__codelineno-54-5" id="__codelineno-54-5" name="__codelineno-54-5"></a>lrwx------ 1 admin admin 64 Dec 24 04:47 2 -&gt; /dev/pts/0
<a href="#__codelineno-54-6" id="__codelineno-54-6" name="__codelineno-54-6"></a>lr-x------ 1 admin admin 64 Dec 24 04:47 3 -&gt; /proc/819/fd
<a href="#__codelineno-54-7" id="__codelineno-54-7" name="__codelineno-54-7"></a>l-wx------ 1 admin admin 64 Dec 24 04:47 77 -&gt; /home/admin/somefile
</code></pre></div>
然后同样使用 exec 关掉 77 fd 就好了：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-55-1" id="__codelineno-55-1" name="__codelineno-55-1"></a>$<span class="w"> </span><span class="nb">exec</span><span class="w"> </span><span class="m">77</span>&gt;<span class="p">&amp;</span>-
</code></pre></div>
<h2 id="melbourne">"Melbourne"<a class="headerlink" href="#melbourne" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>Scenario:</strong> "Melbourne": WSGI with Gunicorn</p>
<p><strong>Level:</strong> Medium</p>
<p><strong>Description:</strong> There is a Python WSGI web application file at /home/admin/wsgi.py , the purpose of which is to serve the string "Hello, world!". This file is served by a Gunicorn server which is fronted by an nginx server (both servers managed by systemd). So the flow of an HTTP request is: Web Client (curl) -&gt; Nginx -&gt; Gunicorn -&gt; wsgi.py . The objective is to be able to curl the localhost (on default port :80) and get back "Hello, world!", using the current setup.</p>
<p><strong>OS:</strong> Debian 11</p>
</blockquote>
<p>首先<span class="heti-skip"><span class="heti-spacing"> </span>curl -v<span class="heti-spacing"> </span></span><a href="http://localhost"><span class="heti-skip"><span class="heti-spacing"> </span>http://localhost<span class="heti-spacing"> </span></span></a>看一下，发现<span><span class="heti-spacing"> </span>Connection refused</span>：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-56-1" id="__codelineno-56-1" name="__codelineno-56-1"></a>admin@ip-172-31-32-71:~$ curl -v http://localhost
<a href="#__codelineno-56-2" id="__codelineno-56-2" name="__codelineno-56-2"></a>*   Trying 127.0.0.1:80...
<a href="#__codelineno-56-3" id="__codelineno-56-3" name="__codelineno-56-3"></a>* connect to 127.0.0.1 port 80 failed: Connection refused
<a href="#__codelineno-56-4" id="__codelineno-56-4" name="__codelineno-56-4"></a>* Failed to connect to localhost port 80: Connection refused
<a href="#__codelineno-56-5" id="__codelineno-56-5" name="__codelineno-56-5"></a>* Closing connection 0
<a href="#__codelineno-56-6" id="__codelineno-56-6" name="__codelineno-56-6"></a>curl: (7) Failed to connect to localhost port 80: Connection refused
</code></pre></div>
查询一下 nginx 状态，发现是没有开启，所以 sudo 重启：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-57-1" id="__codelineno-57-1" name="__codelineno-57-1"></a>admin@ip-172-31-32-71:~$ systemctl status nginx
<a href="#__codelineno-57-2" id="__codelineno-57-2" name="__codelineno-57-2"></a>● nginx.service - A high performance web server and a reverse proxy server
<a href="#__codelineno-57-3" id="__codelineno-57-3" name="__codelineno-57-3"></a>     Loaded: loaded (/lib/systemd/system/nginx.service; disabled; vendor preset:&gt;
<a href="#__codelineno-57-4" id="__codelineno-57-4" name="__codelineno-57-4"></a>     Active: inactive (dead)
<a href="#__codelineno-57-5" id="__codelineno-57-5" name="__codelineno-57-5"></a>       Docs: man:nginx(8)
<a href="#__codelineno-57-6" id="__codelineno-57-6" name="__codelineno-57-6"></a>admin@ip-172-31-32-71:~$ sudo systemctl start nginx
<a href="#__codelineno-57-7" id="__codelineno-57-7" name="__codelineno-57-7"></a>admin@ip-172-31-32-71:~$ systemctl status nginx.service
<a href="#__codelineno-57-8" id="__codelineno-57-8" name="__codelineno-57-8"></a>● nginx.service - A high performance web server and a reverse proxy server
<a href="#__codelineno-57-9" id="__codelineno-57-9" name="__codelineno-57-9"></a>     Loaded: loaded (/lib/systemd/system/nginx.service; disabled; vendor preset: enabled)
<a href="#__codelineno-57-10" id="__codelineno-57-10" name="__codelineno-57-10"></a>     Active: active (running) since Sat 2022-12-24 05:09:46 UTC; 3s ago
<a href="#__codelineno-57-11" id="__codelineno-57-11" name="__codelineno-57-11"></a>       Docs: man:nginx(8)
<a href="#__codelineno-57-12" id="__codelineno-57-12" name="__codelineno-57-12"></a>    Process: 850 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code=exited, status=0/SUCCESS)
<a href="#__codelineno-57-13" id="__codelineno-57-13" name="__codelineno-57-13"></a>    Process: 851 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, status=0/SUCCESS)
<a href="#__codelineno-57-14" id="__codelineno-57-14" name="__codelineno-57-14"></a>   Main PID: 852 (nginx)
<a href="#__codelineno-57-15" id="__codelineno-57-15" name="__codelineno-57-15"></a>      Tasks: 3 (limit: 524)
<a href="#__codelineno-57-16" id="__codelineno-57-16" name="__codelineno-57-16"></a>     Memory: 3.1M
<a href="#__codelineno-57-17" id="__codelineno-57-17" name="__codelineno-57-17"></a>        CPU: 36ms
<a href="#__codelineno-57-18" id="__codelineno-57-18" name="__codelineno-57-18"></a>     CGroup: /system.slice/nginx.service
<a href="#__codelineno-57-19" id="__codelineno-57-19" name="__codelineno-57-19"></a>             ├─852 nginx: master process /usr/sbin/nginx -g daemon on; master_process on;
<a href="#__codelineno-57-20" id="__codelineno-57-20" name="__codelineno-57-20"></a>             ├─853 nginx: worker process
<a href="#__codelineno-57-21" id="__codelineno-57-21" name="__codelineno-57-21"></a>             └─854 nginx: worker process
</code></pre></div>
可以正常重启，但这时 curl 会出现 502。看一下 /etc/nginx/sites-enabled/default 里的配置：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-58-1" id="__codelineno-58-1" name="__codelineno-58-1"></a><span class="k">server</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-58-2" id="__codelineno-58-2" name="__codelineno-58-2"></a><span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="mi">80</span><span class="p">;</span>
<a href="#__codelineno-58-3" id="__codelineno-58-3" name="__codelineno-58-3"></a>
<a href="#__codelineno-58-4" id="__codelineno-58-4" name="__codelineno-58-4"></a><span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-58-5" id="__codelineno-58-5" name="__codelineno-58-5"></a><span class="w">        </span><span class="kn">include</span><span class="w"> </span><span class="s">proxy_params</span><span class="p">;</span>
<a href="#__codelineno-58-6" id="__codelineno-58-6" name="__codelineno-58-6"></a><span class="w">        </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="s">http://unix:/run/gunicorn.socket</span><span class="p">;</span>
<a href="#__codelineno-58-7" id="__codelineno-58-7" name="__codelineno-58-7"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-58-8" id="__codelineno-58-8" name="__codelineno-58-8"></a><span class="p">}</span>
</code></pre></div>
发现只有 proxy_pass 那句可能出问题。systemctl 查询一下 gunicorn 状态：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-59-1" id="__codelineno-59-1" name="__codelineno-59-1"></a>admin@ip-172-31-32-71:~$ systemctl status gunicorn
<a href="#__codelineno-59-2" id="__codelineno-59-2" name="__codelineno-59-2"></a>● gunicorn.service - gunicorn daemon
<a href="#__codelineno-59-3" id="__codelineno-59-3" name="__codelineno-59-3"></a>     Loaded: loaded (/etc/systemd/system/gunicorn.service; enabled; vendor preset: enabled)
<a href="#__codelineno-59-4" id="__codelineno-59-4" name="__codelineno-59-4"></a>     Active: active (running) since Sat 2022-12-24 05:01:16 UTC; 10min ago
<a href="#__codelineno-59-5" id="__codelineno-59-5" name="__codelineno-59-5"></a>TriggeredBy: ● gunicorn.socket
<a href="#__codelineno-59-6" id="__codelineno-59-6" name="__codelineno-59-6"></a>   Main PID: 550 (gunicorn)
<a href="#__codelineno-59-7" id="__codelineno-59-7" name="__codelineno-59-7"></a>      Tasks: 2 (limit: 524)
<a href="#__codelineno-59-8" id="__codelineno-59-8" name="__codelineno-59-8"></a>     Memory: 17.1M
<a href="#__codelineno-59-9" id="__codelineno-59-9" name="__codelineno-59-9"></a>        CPU: 348ms
<a href="#__codelineno-59-10" id="__codelineno-59-10" name="__codelineno-59-10"></a>     CGroup: /system.slice/gunicorn.service
<a href="#__codelineno-59-11" id="__codelineno-59-11" name="__codelineno-59-11"></a>             ├─550 /usr/bin/python3 /usr/local/bin/gunicorn --bind unix:/run/gunicorn.sock wsgi
<a href="#__codelineno-59-12" id="__codelineno-59-12" name="__codelineno-59-12"></a>             └─612 /usr/bin/python3 /usr/local/bin/gunicorn --bind unix:/run/gunicorn.sock wsgi
<a href="#__codelineno-59-13" id="__codelineno-59-13" name="__codelineno-59-13"></a>
<a href="#__codelineno-59-14" id="__codelineno-59-14" name="__codelineno-59-14"></a>Dec 24 05:01:16 ip-172-31-32-71 systemd[1]: Started gunicorn daemon.
<a href="#__codelineno-59-15" id="__codelineno-59-15" name="__codelineno-59-15"></a>Dec 24 05:01:17 ip-172-31-32-71 gunicorn[550]: [2022-12-24 05:01:17 +0000] [550] [INFO] Starting gunicorn 20.1.0
<a href="#__codelineno-59-16" id="__codelineno-59-16" name="__codelineno-59-16"></a>Dec 24 05:01:17 ip-172-31-32-71 gunicorn[550]: [2022-12-24 05:01:17 +0000] [550] [INFO] Listening at: unix:/run/gunicorn.sock (550)
<a href="#__codelineno-59-17" id="__codelineno-59-17" name="__codelineno-59-17"></a>Dec 24 05:01:17 ip-172-31-32-71 gunicorn[550]: [2022-12-24 05:01:17 +0000] [550] [INFO] Using worker: sync
<a href="#__codelineno-59-18" id="__codelineno-59-18" name="__codelineno-59-18"></a>Dec 24 05:01:17 ip-172-31-32-71 gunicorn[612]: [2022-12-24 05:01:17 +0000] [612] [INFO] Booting worker with pid: 612
</code></pre></div>
可以看出实际上是绑定在 /run/gunicorn.sock 上了，/run/gunicorn.socket 并不存在。所以修改 nginx 的配置然后 restart。这时 curl 不会报错，但没有内容，-v 输出：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-60-1" id="__codelineno-60-1" name="__codelineno-60-1"></a>admin@ip-172-31-32-71:~$ curl -v http://localhost
<a href="#__codelineno-60-2" id="__codelineno-60-2" name="__codelineno-60-2"></a>*   Trying 127.0.0.1:80...
<a href="#__codelineno-60-3" id="__codelineno-60-3" name="__codelineno-60-3"></a>* Connected to localhost (127.0.0.1) port 80 (#0)
<a href="#__codelineno-60-4" id="__codelineno-60-4" name="__codelineno-60-4"></a>&gt; GET / HTTP/1.1
<a href="#__codelineno-60-5" id="__codelineno-60-5" name="__codelineno-60-5"></a>&gt; Host: localhost
<a href="#__codelineno-60-6" id="__codelineno-60-6" name="__codelineno-60-6"></a>&gt; User-Agent: curl/7.74.0
<a href="#__codelineno-60-7" id="__codelineno-60-7" name="__codelineno-60-7"></a>&gt; Accept: */*
<a href="#__codelineno-60-8" id="__codelineno-60-8" name="__codelineno-60-8"></a>&gt; 
<a href="#__codelineno-60-9" id="__codelineno-60-9" name="__codelineno-60-9"></a>* Mark bundle as not supporting multiuse
<a href="#__codelineno-60-10" id="__codelineno-60-10" name="__codelineno-60-10"></a>&lt; HTTP/1.1 200 OK
<a href="#__codelineno-60-11" id="__codelineno-60-11" name="__codelineno-60-11"></a>&lt; Server: nginx/1.18.0
<a href="#__codelineno-60-12" id="__codelineno-60-12" name="__codelineno-60-12"></a>&lt; Date: Sat, 24 Dec 2022 05:13:05 GMT
<a href="#__codelineno-60-13" id="__codelineno-60-13" name="__codelineno-60-13"></a>&lt; Content-Type: text/html
<a href="#__codelineno-60-14" id="__codelineno-60-14" name="__codelineno-60-14"></a>&lt; Content-Length: 0
<a href="#__codelineno-60-15" id="__codelineno-60-15" name="__codelineno-60-15"></a>&lt; Connection: keep-alive
<a href="#__codelineno-60-16" id="__codelineno-60-16" name="__codelineno-60-16"></a>&lt; 
<a href="#__codelineno-60-17" id="__codelineno-60-17" name="__codelineno-60-17"></a>* Connection #0 to host localhost left intact
</code></pre></div>
可以看到是 200，但这里 Response 里有 Content-Length: 0，所以什么都没得到。发现这个是写在 wsgi.py 里的：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-61-1" id="__codelineno-61-1" name="__codelineno-61-1"></a>admin@ip-172-31-32-71:~$ cat wsgi.py 
<a href="#__codelineno-61-2" id="__codelineno-61-2" name="__codelineno-61-2"></a>def application(environ, start_response):
<a href="#__codelineno-61-3" id="__codelineno-61-3" name="__codelineno-61-3"></a>    start_response('200 OK', [('Content-Type', 'text/html'), ('Content-Length', '0'), ])
<a href="#__codelineno-61-4" id="__codelineno-61-4" name="__codelineno-61-4"></a>    return [b'Hello, world!']
</code></pre></div>
所以把 ('Content-Length', '0') 去掉，然后 sudo systemctl restart gunicorn 重启，这次再 curl 就正常了：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-62-1" id="__codelineno-62-1" name="__codelineno-62-1"></a>admin@ip-172-31-32-71:~$ curl -s http://localhost
<a href="#__codelineno-62-2" id="__codelineno-62-2" name="__codelineno-62-2"></a>Hello, world!
</code></pre></div>
<h2 id="lisbon">"Lisbon"<a class="headerlink" href="#lisbon" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>Scenario:</strong> "Lisbon": etcd SSL cert troubles</p>
<p><strong>Level:</strong> Medium</p>
<p><strong>Description:</strong> There's an etcd server running on <a href="https://localhost:2379">https://localhost:2379</a> , get the value for the key "foo", ie <code>etcdctl get foo</code> or <code>curl https://localhost:2379/v2/keys/foo</code></p>
<p><strong>OS:</strong> Debian 11</p>
</blockquote>
<p>首先跑一下 <code>etcdctl get goo</code> 试试看，得到报错：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-63-1" id="__codelineno-63-1" name="__codelineno-63-1"></a>admin@ip-10-0-0-138:/$ etcdctl get foo
<a href="#__codelineno-63-2" id="__codelineno-63-2" name="__codelineno-63-2"></a>Error:  client: etcd cluster is unavailable or misconfigured; error #0: x509: certificate has expired or is not yet valid: current time 2024-02-20T02:49:48Z is after 2023-01-30T00:02:48Z
<a href="#__codelineno-63-3" id="__codelineno-63-3" name="__codelineno-63-3"></a>
<a href="#__codelineno-63-4" id="__codelineno-63-4" name="__codelineno-63-4"></a>error #0: x509: certificate has expired or is not yet valid: current time 2024-02-20T02:49:48Z is after 2023-01-30T00:02:48Z
</code></pre></div>
<p>可见是证书过期了，而且当前时间是在<span class="heti-skip"><span class="heti-spacing"> </span>24<span class="heti-spacing"> </span></span>年，直接 <code>sudo date -s 20230101</code> 修改日期到证书过期前就可以。</p>
<p>接着再运行可以得到：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-64-1" id="__codelineno-64-1" name="__codelineno-64-1"></a>admin@ip-10-0-0-138:/$ etcdctl get foo
<a href="#__codelineno-64-2" id="__codelineno-64-2" name="__codelineno-64-2"></a>Error:  client: response is invalid json. The endpoint is probably not valid etcd cluster endpoint.
<a href="#__codelineno-64-3" id="__codelineno-64-3" name="__codelineno-64-3"></a>admin@ip-10-0-0-138:/$ curl https://localhost:2379/v2/keys/foo
<a href="#__codelineno-64-4" id="__codelineno-64-4" name="__codelineno-64-4"></a>&lt;html&gt;
<a href="#__codelineno-64-5" id="__codelineno-64-5" name="__codelineno-64-5"></a>&lt;head&gt;&lt;title&gt;404 Not Found&lt;/title&gt;&lt;/head&gt;
<a href="#__codelineno-64-6" id="__codelineno-64-6" name="__codelineno-64-6"></a>&lt;body&gt;
<a href="#__codelineno-64-7" id="__codelineno-64-7" name="__codelineno-64-7"></a>&lt;center&gt;&lt;h1&gt;404 Not Found&lt;/h1&gt;&lt;/center&gt;
<a href="#__codelineno-64-8" id="__codelineno-64-8" name="__codelineno-64-8"></a>&lt;hr&gt;&lt;center&gt;nginx/1.18.0&lt;/center&gt;
<a href="#__codelineno-64-9" id="__codelineno-64-9" name="__codelineno-64-9"></a>&lt;/body&gt;
<a href="#__codelineno-64-10" id="__codelineno-64-10" name="__codelineno-64-10"></a>&lt;/html&gt;
</code></pre></div>
<p>这个<span class="heti-skip"><span class="heti-spacing"> </span>curl<span class="heti-spacing"> </span></span>的<span class="heti-skip"><span class="heti-spacing"> </span>404<span class="heti-spacing"> </span></span>结果是<span class="heti-skip"><span class="heti-spacing"> </span>nginx<span class="heti-spacing"> </span></span>的就比较怪，所以<span class="heti-skip"><span class="heti-spacing"> </span>curl<span class="heti-spacing"> </span></span>了一下根页面：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-65-1" id="__codelineno-65-1" name="__codelineno-65-1"></a>admin@ip-10-0-0-138:/$ curl https://localhost:2379/
<a href="#__codelineno-65-2" id="__codelineno-65-2" name="__codelineno-65-2"></a>Testing SSL
<a href="#__codelineno-65-3" id="__codelineno-65-3" name="__codelineno-65-3"></a>admin@ip-10-0-0-138:/$ curl https://localhost:443/
<a href="#__codelineno-65-4" id="__codelineno-65-4" name="__codelineno-65-4"></a>Testing SSL
<a href="#__codelineno-65-5" id="__codelineno-65-5" name="__codelineno-65-5"></a>admin@ip-10-0-0-138:/$ cat /var/www/html/index.html 
<a href="#__codelineno-65-6" id="__codelineno-65-6" name="__codelineno-65-6"></a>Testing SSL
</code></pre></div>
<p>可以猜测<span class="heti-skip"><span class="heti-spacing"> </span>2379<span class="heti-spacing"> </span></span>端口被重定向到<span class="heti-skip"><span class="heti-spacing"> </span>nginx<span class="heti-spacing"> </span></span>的<span class="heti-skip"><span class="heti-spacing"> </span>443<span class="heti-spacing"> </span></span>端口上了，看了下 <code>/etc/nginx/sites-enabled/default</code> 并没有<span class="heti-skip"><span class="heti-spacing"> </span>2379<span class="heti-spacing"> </span></span>端口相关设置，<span>netstat<span class="heti-spacing"> </span></span>也只可以看到占用情况，<span>2379<span class="heti-spacing"> </span></span>确实在用。接下来看看<span><span class="heti-spacing"> </span>iptables</span>：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-66-1" id="__codelineno-66-1" name="__codelineno-66-1"></a>admin@ip-10-0-0-138:/$ sudo iptables -t nat -L
<a href="#__codelineno-66-2" id="__codelineno-66-2" name="__codelineno-66-2"></a>Chain PREROUTING (policy ACCEPT)
<a href="#__codelineno-66-3" id="__codelineno-66-3" name="__codelineno-66-3"></a>target     prot opt source               destination         
<a href="#__codelineno-66-4" id="__codelineno-66-4" name="__codelineno-66-4"></a>DOCKER     all  --  anywhere             anywhere             ADDRTYPE match dst-type LOCAL
<a href="#__codelineno-66-5" id="__codelineno-66-5" name="__codelineno-66-5"></a>
<a href="#__codelineno-66-6" id="__codelineno-66-6" name="__codelineno-66-6"></a>Chain INPUT (policy ACCEPT)
<a href="#__codelineno-66-7" id="__codelineno-66-7" name="__codelineno-66-7"></a>target     prot opt source               destination         
<a href="#__codelineno-66-8" id="__codelineno-66-8" name="__codelineno-66-8"></a>
<a href="#__codelineno-66-9" id="__codelineno-66-9" name="__codelineno-66-9"></a>Chain OUTPUT (policy ACCEPT)
<a href="#__codelineno-66-10" id="__codelineno-66-10" name="__codelineno-66-10"></a>target     prot opt source               destination         
<a href="#__codelineno-66-11" id="__codelineno-66-11" name="__codelineno-66-11"></a>REDIRECT   tcp  --  anywhere             anywhere             tcp dpt:2379 redir ports 443
<a href="#__codelineno-66-12" id="__codelineno-66-12" name="__codelineno-66-12"></a>DOCKER     all  --  anywhere            !ip-127-0-0-0.us-east-2.compute.internal/8  ADDRTYPE match dst-type LOCAL
<a href="#__codelineno-66-13" id="__codelineno-66-13" name="__codelineno-66-13"></a>
<a href="#__codelineno-66-14" id="__codelineno-66-14" name="__codelineno-66-14"></a>Chain POSTROUTING (policy ACCEPT)
<a href="#__codelineno-66-15" id="__codelineno-66-15" name="__codelineno-66-15"></a>target     prot opt source               destination         
<a href="#__codelineno-66-16" id="__codelineno-66-16" name="__codelineno-66-16"></a>MASQUERADE  all  --  ip-172-17-0-0.us-east-2.compute.internal/16  anywhere            
<a href="#__codelineno-66-17" id="__codelineno-66-17" name="__codelineno-66-17"></a>
<a href="#__codelineno-66-18" id="__codelineno-66-18" name="__codelineno-66-18"></a>Chain DOCKER (2 references)
<a href="#__codelineno-66-19" id="__codelineno-66-19" name="__codelineno-66-19"></a>target     prot opt source               destination         
<a href="#__codelineno-66-20" id="__codelineno-66-20" name="__codelineno-66-20"></a>RETURN     all  --  anywhere             anywhere
</code></pre></div>
可以发现 <code>tcp dpt:2379 redir ports 443</code>，所以最简单的方法直接 -F flush 掉这些 rules 就好：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-67-1" id="__codelineno-67-1" name="__codelineno-67-1"></a>admin@ip-10-0-0-138:/$ sudo iptables -t nat -F       
<a href="#__codelineno-67-2" id="__codelineno-67-2" name="__codelineno-67-2"></a>admin@ip-10-0-0-138:/$ etcdctl get foo
<a href="#__codelineno-67-3" id="__codelineno-67-3" name="__codelineno-67-3"></a>bar
<a href="#__codelineno-67-4" id="__codelineno-67-4" name="__codelineno-67-4"></a>admin@ip-10-0-0-138:/$ curl https://localhost:2379/v2/keys/foo
<a href="#__codelineno-67-5" id="__codelineno-67-5" name="__codelineno-67-5"></a>{"action":"get","node":{"key":"/foo","value":"bar","modifiedIndex":4,"createdIndex":4}}
</code></pre></div>
<h2 id="pokhara">"Pokhara"<a class="headerlink" href="#pokhara" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>Scenario:</strong> "Pokhara": SSH and other sshenanigans</p>
<p><strong>Level:</strong> Hard</p>
<p><strong>Description:</strong> A user <code>client</code> was added to the server, as well as their SSH public key. The objective is to be able to SSH locally (there's only one server) as this user client using their ssh keys. This is, if as root you change to this user <code>sudo su; su client</code>, you should be able to login with ssh: <code>ssh localhost</code>.</p>
<p><strong>OS:</strong> Debian 11</p>
</blockquote>
<p>首先测试一下，发现连切换到<span class="heti-skip"><span class="heti-spacing"> </span>client<span class="heti-spacing"> </span></span>用户都不可以：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-68-1" id="__codelineno-68-1" name="__codelineno-68-1"></a>admin@ip-172-31-33-16:/$ sudo su
<a href="#__codelineno-68-2" id="__codelineno-68-2" name="__codelineno-68-2"></a>root@ip-172-31-33-16:/# su client
<a href="#__codelineno-68-3" id="__codelineno-68-3" name="__codelineno-68-3"></a>Your account has expired; please contact your system administrator.
</code></pre></div>
<p>用户过期了，那就延一下：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-69-1" id="__codelineno-69-1" name="__codelineno-69-1"></a>admin@ip-172-31-33-16:/$ sudo chage -l client
<a href="#__codelineno-69-2" id="__codelineno-69-2" name="__codelineno-69-2"></a>Last password change                                    : Feb 05, 2023
<a href="#__codelineno-69-3" id="__codelineno-69-3" name="__codelineno-69-3"></a>Password expires                                        : never
<a href="#__codelineno-69-4" id="__codelineno-69-4" name="__codelineno-69-4"></a>Password inactive                                       : never
<a href="#__codelineno-69-5" id="__codelineno-69-5" name="__codelineno-69-5"></a>Account expires                                         : Jan 01, 1970
<a href="#__codelineno-69-6" id="__codelineno-69-6" name="__codelineno-69-6"></a>Minimum number of days between password change          : 0
<a href="#__codelineno-69-7" id="__codelineno-69-7" name="__codelineno-69-7"></a>Maximum number of days between password change          : 99999
<a href="#__codelineno-69-8" id="__codelineno-69-8" name="__codelineno-69-8"></a>Number of days of warning before password expires       : 7
<a href="#__codelineno-69-9" id="__codelineno-69-9" name="__codelineno-69-9"></a>admin@ip-172-31-33-16:/$ sudo usermod -e 2024-01-01 client
<a href="#__codelineno-69-10" id="__codelineno-69-10" name="__codelineno-69-10"></a>admin@ip-172-31-33-16:/$ sudo chage -l client
<a href="#__codelineno-69-11" id="__codelineno-69-11" name="__codelineno-69-11"></a>Last password change                                    : Feb 05, 2023
<a href="#__codelineno-69-12" id="__codelineno-69-12" name="__codelineno-69-12"></a>Password expires                                        : never
<a href="#__codelineno-69-13" id="__codelineno-69-13" name="__codelineno-69-13"></a>Password inactive                                       : never
<a href="#__codelineno-69-14" id="__codelineno-69-14" name="__codelineno-69-14"></a>Account expires                                         : Jan 01, 2024
<a href="#__codelineno-69-15" id="__codelineno-69-15" name="__codelineno-69-15"></a>Minimum number of days between password change          : 0
<a href="#__codelineno-69-16" id="__codelineno-69-16" name="__codelineno-69-16"></a>Maximum number of days between password change          : 99999
<a href="#__codelineno-69-17" id="__codelineno-69-17" name="__codelineno-69-17"></a>Number of days of warning before password expires       : 7
</code></pre></div>
<p>再次登陆，出现报错：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-70-1" id="__codelineno-70-1" name="__codelineno-70-1"></a>root@ip-172-31-33-16:/# su client
<a href="#__codelineno-70-2" id="__codelineno-70-2" name="__codelineno-70-2"></a>su: failed to execute /usr/sbin/nologin: Resource temporarily unavailable
</code></pre></div>
它试图执行 <code>/usr/sbin/nologin</code>，但是正常来讲应该是一个 shell，所以改一下先，但仍然会出现报错：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-71-1" id="__codelineno-71-1" name="__codelineno-71-1"></a>root@ip-172-31-33-16:/# lslogins client
<a href="#__codelineno-71-2" id="__codelineno-71-2" name="__codelineno-71-2"></a>...                 
<a href="#__codelineno-71-3" id="__codelineno-71-3" name="__codelineno-71-3"></a>Shell:                              /usr/sbin/nologin                   
<a href="#__codelineno-71-4" id="__codelineno-71-4" name="__codelineno-71-4"></a>...
<a href="#__codelineno-71-5" id="__codelineno-71-5" name="__codelineno-71-5"></a>root@ip-172-31-33-16:/# usermod --shell /bin/bash client
<a href="#__codelineno-71-6" id="__codelineno-71-6" name="__codelineno-71-6"></a>root@ip-172-31-33-16:/# lslogins client
<a href="#__codelineno-71-7" id="__codelineno-71-7" name="__codelineno-71-7"></a>...
<a href="#__codelineno-71-8" id="__codelineno-71-8" name="__codelineno-71-8"></a>Shell:                              /bin/bash                           
<a href="#__codelineno-71-9" id="__codelineno-71-9" name="__codelineno-71-9"></a>...
<a href="#__codelineno-71-10" id="__codelineno-71-10" name="__codelineno-71-10"></a>root@ip-172-31-33-16:/# su client
<a href="#__codelineno-71-11" id="__codelineno-71-11" name="__codelineno-71-11"></a>su: failed to execute /bin/bash: Resource temporarily unavailable
</code></pre></div>
<p>搜索了解到可能是登陆数量被限制了，在 <code>/etc/security/limits.conf</code> 中发现：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-72-1" id="__codelineno-72-1" name="__codelineno-72-1"></a>client          hard    nproc           0
</code></pre></div>
注释掉这一行，可以登陆 client 用户了，但是 ssh 还有问题：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-73-1" id="__codelineno-73-1" name="__codelineno-73-1"></a>root@ip-172-31-33-16:/# su client
<a href="#__codelineno-73-2" id="__codelineno-73-2" name="__codelineno-73-2"></a>client@ip-172-31-33-16:/$ ssh localhost
<a href="#__codelineno-73-3" id="__codelineno-73-3" name="__codelineno-73-3"></a>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
<a href="#__codelineno-73-4" id="__codelineno-73-4" name="__codelineno-73-4"></a>@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
<a href="#__codelineno-73-5" id="__codelineno-73-5" name="__codelineno-73-5"></a>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
<a href="#__codelineno-73-6" id="__codelineno-73-6" name="__codelineno-73-6"></a>IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
<a href="#__codelineno-73-7" id="__codelineno-73-7" name="__codelineno-73-7"></a>Someone could be eavesdropping on you right now (man-in-the-middle attack)!
<a href="#__codelineno-73-8" id="__codelineno-73-8" name="__codelineno-73-8"></a>It is also possible that a host key has just been changed.
<a href="#__codelineno-73-9" id="__codelineno-73-9" name="__codelineno-73-9"></a>The fingerprint for the ECDSA key sent by the remote host is
<a href="#__codelineno-73-10" id="__codelineno-73-10" name="__codelineno-73-10"></a>SHA256:nfWAp8P5xQ+rJbfolHi8/jTpKNa+DlN1MXv1Wwus+4M.
<a href="#__codelineno-73-11" id="__codelineno-73-11" name="__codelineno-73-11"></a>Please contact your system administrator.
<a href="#__codelineno-73-12" id="__codelineno-73-12" name="__codelineno-73-12"></a>Add correct host key in /home/client/.ssh/known_hosts to get rid of this message.
<a href="#__codelineno-73-13" id="__codelineno-73-13" name="__codelineno-73-13"></a>Offending ECDSA key in /home/client/.ssh/known_hosts:1
<a href="#__codelineno-73-14" id="__codelineno-73-14" name="__codelineno-73-14"></a>  remove with:
<a href="#__codelineno-73-15" id="__codelineno-73-15" name="__codelineno-73-15"></a>  ssh-keygen -f "/home/client/.ssh/known_hosts" -R "localhost"
<a href="#__codelineno-73-16" id="__codelineno-73-16" name="__codelineno-73-16"></a>ECDSA host key for localhost has changed and you have requested strict checking.
<a href="#__codelineno-73-17" id="__codelineno-73-17" name="__codelineno-73-17"></a>Host key verification failed.
</code></pre></div>
根据指导，在 client 用户下执行 ssh-keygen：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-74-1" id="__codelineno-74-1" name="__codelineno-74-1"></a>client@ip-172-31-33-16:/$ ssh-keygen -f "/home/client/.ssh/known_hosts" -R "localhost"
<a href="#__codelineno-74-2" id="__codelineno-74-2" name="__codelineno-74-2"></a># Host localhost found: line 1
<a href="#__codelineno-74-3" id="__codelineno-74-3" name="__codelineno-74-3"></a>/home/client/.ssh/known_hosts updated.
<a href="#__codelineno-74-4" id="__codelineno-74-4" name="__codelineno-74-4"></a>Original contents retained as /home/client/.ssh/known_hosts.old
<a href="#__codelineno-74-5" id="__codelineno-74-5" name="__codelineno-74-5"></a>client@ip-172-31-33-16:/$ ssh localhost
<a href="#__codelineno-74-6" id="__codelineno-74-6" name="__codelineno-74-6"></a>The authenticity of host 'localhost (127.0.0.1)' can't be established.
<a href="#__codelineno-74-7" id="__codelineno-74-7" name="__codelineno-74-7"></a>ECDSA key fingerprint is SHA256:nfWAp8P5xQ+rJbfolHi8/jTpKNa+DlN1MXv1Wwus+4M.
<a href="#__codelineno-74-8" id="__codelineno-74-8" name="__codelineno-74-8"></a>Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
<a href="#__codelineno-74-9" id="__codelineno-74-9" name="__codelineno-74-9"></a>Warning: Permanently added 'localhost' (ECDSA) to the list of known hosts.
<a href="#__codelineno-74-10" id="__codelineno-74-10" name="__codelineno-74-10"></a>client@localhost: Permission denied (publickey).
</code></pre></div>
<p>又<span><span class="heti-spacing"> </span>Permission denied</span>，所以去查一下<span class="heti-skip"><span class="heti-spacing"> </span>ssh<span class="heti-spacing"> </span></span>的配置文件：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-75-1" id="__codelineno-75-1" name="__codelineno-75-1"></a>root@ip-172-31-33-16:/# cat /etc/ssh/sshd_config.d/sad.conf
<a href="#__codelineno-75-2" id="__codelineno-75-2" name="__codelineno-75-2"></a>DenyUsers client
</code></pre></div>
删掉这一行，<code>systemctl restart ssh</code> 重启服务，再次尝试，得到：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-76-1" id="__codelineno-76-1" name="__codelineno-76-1"></a>client@ip-172-31-33-16:/$ ssh localhost
<a href="#__codelineno-76-2" id="__codelineno-76-2" name="__codelineno-76-2"></a>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
<a href="#__codelineno-76-3" id="__codelineno-76-3" name="__codelineno-76-3"></a>@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @
<a href="#__codelineno-76-4" id="__codelineno-76-4" name="__codelineno-76-4"></a>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
<a href="#__codelineno-76-5" id="__codelineno-76-5" name="__codelineno-76-5"></a>Permissions 0644 for '/home/client/.ssh/id_rsa' are too open.
<a href="#__codelineno-76-6" id="__codelineno-76-6" name="__codelineno-76-6"></a>It is required that your private key files are NOT accessible by others.
<a href="#__codelineno-76-7" id="__codelineno-76-7" name="__codelineno-76-7"></a>This private key will be ignored.
<a href="#__codelineno-76-8" id="__codelineno-76-8" name="__codelineno-76-8"></a>Load key "/home/client/.ssh/id_rsa": bad permissions
<a href="#__codelineno-76-9" id="__codelineno-76-9" name="__codelineno-76-9"></a>client@localhost: Permission denied (publickey).
<a href="#__codelineno-76-10" id="__codelineno-76-10" name="__codelineno-76-10"></a>client@ip-172-31-33-16:/$ ls -l /home/client/.ssh/id_rsa
<a href="#__codelineno-76-11" id="__codelineno-76-11" name="__codelineno-76-11"></a>-rw-r--r-- 1 client client 2610 Feb  5 22:33 /home/client/.ssh/id_rsa
</code></pre></div>
它告诉我们 id_rsa 的权限太大了，因此给 group 和 others 的 r 权限都去掉：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-77-1" id="__codelineno-77-1" name="__codelineno-77-1"></a>client@ip-172-31-33-16:/$ chmod g-r /home/client/.ssh/id_rsa
<a href="#__codelineno-77-2" id="__codelineno-77-2" name="__codelineno-77-2"></a>client@ip-172-31-33-16:/$ chmod o-r /home/client/.ssh/id_rsa
</code></pre></div>
即可正常 ssh 登陆：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-78-1" id="__codelineno-78-1" name="__codelineno-78-1"></a>client@ip-172-31-33-16:/$ ssh localhost
<a href="#__codelineno-78-2" id="__codelineno-78-2" name="__codelineno-78-2"></a>Linux ip-172-31-33-16 5.10.0-14-cloud-amd64 #1 SMP Debian 5.10.113-1 (2022-04-29) x86_64
<a href="#__codelineno-78-3" id="__codelineno-78-3" name="__codelineno-78-3"></a>
<a href="#__codelineno-78-4" id="__codelineno-78-4" name="__codelineno-78-4"></a>The programs included with the Debian GNU/Linux system are free software;
<a href="#__codelineno-78-5" id="__codelineno-78-5" name="__codelineno-78-5"></a>the exact distribution terms for each program are described in the
<a href="#__codelineno-78-6" id="__codelineno-78-6" name="__codelineno-78-6"></a>individual files in /usr/share/doc/*/copyright.
<a href="#__codelineno-78-7" id="__codelineno-78-7" name="__codelineno-78-7"></a>
<a href="#__codelineno-78-8" id="__codelineno-78-8" name="__codelineno-78-8"></a>Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
<a href="#__codelineno-78-9" id="__codelineno-78-9" name="__codelineno-78-9"></a>permitted by applicable law.
<a href="#__codelineno-78-10" id="__codelineno-78-10" name="__codelineno-78-10"></a>Last login: Sun Feb  5 23:00:41 2023 from 127.0.0.1
</code></pre></div>
<h2 id="roseau">"Roseau"<a class="headerlink" href="#roseau" title="Permanent link">¶</a></h2>
<blockquote>
<p><strong>Scenario:</strong> "Roseau": Hack a Web Server</p>
<p><strong>Level:</strong> Hard</p>
<p><strong>Description:</strong> There is a secret stored in a file that the local Apache web server can provide. Find this secret and have it as a /home/admin/secret.txt file.</p>
<p>Note that in this server the admin user is not a sudoer.</p>
<p>Also note that the password crackers Hashcat and Hydra are installed from packages and John the Ripper binaries have been built from source in /home/admin/john/run.</p>
<p><strong>OS:</strong> Debian 11</p>
</blockquote>
<p><span>Sadservers<span class="heti-spacing"> </span></span>上第一道<span class="heti-skip"><span class="heti-spacing"> </span>Hack<span class="heti-spacing"> </span></span>类题目的题，不过看起来目的也很明确，区别基本就是没有<span class="heti-skip"><span class="heti-spacing"> </span>root<span class="heti-spacing"> </span></span>权限，需要绕过、破解等。</p>
<p>既然有一个<span class="heti-skip"><span class="heti-spacing"> </span>Apache<span class="heti-spacing"> </span></span>服务，那就先<span class="heti-skip"><span class="heti-spacing"> </span>curl<span class="heti-spacing"> </span></span>一下<span><span class="heti-spacing"> </span>localhost</span>：
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-79-1" id="__codelineno-79-1" name="__codelineno-79-1"></a>admin@ip-172-31-34-168:~$ curl localhost
<a href="#__codelineno-79-2" id="__codelineno-79-2" name="__codelineno-79-2"></a>&lt;!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN"&gt;
<a href="#__codelineno-79-3" id="__codelineno-79-3" name="__codelineno-79-3"></a>&lt;html&gt;&lt;head&gt;
<a href="#__codelineno-79-4" id="__codelineno-79-4" name="__codelineno-79-4"></a>&lt;title&gt;401 Unauthorized&lt;/title&gt;
<a href="#__codelineno-79-5" id="__codelineno-79-5" name="__codelineno-79-5"></a>&lt;/head&gt;&lt;body&gt;
<a href="#__codelineno-79-6" id="__codelineno-79-6" name="__codelineno-79-6"></a>&lt;h1&gt;Unauthorized&lt;/h1&gt;
<a href="#__codelineno-79-7" id="__codelineno-79-7" name="__codelineno-79-7"></a>&lt;p&gt;This server could not verify that you
<a href="#__codelineno-79-8" id="__codelineno-79-8" name="__codelineno-79-8"></a>are authorized to access the document
<a href="#__codelineno-79-9" id="__codelineno-79-9" name="__codelineno-79-9"></a>requested.  Either you supplied the wrong
<a href="#__codelineno-79-10" id="__codelineno-79-10" name="__codelineno-79-10"></a>credentials (e.g., bad password), or your
<a href="#__codelineno-79-11" id="__codelineno-79-11" name="__codelineno-79-11"></a>browser doesn't understand how to supply
<a href="#__codelineno-79-12" id="__codelineno-79-12" name="__codelineno-79-12"></a>the credentials required.&lt;/p&gt;
<a href="#__codelineno-79-13" id="__codelineno-79-13" name="__codelineno-79-13"></a>&lt;hr&gt;
<a href="#__codelineno-79-14" id="__codelineno-79-14" name="__codelineno-79-14"></a>&lt;address&gt;Apache/2.4.54 (Debian) Server at localhost Port 80&lt;/address&gt;
<a href="#__codelineno-79-15" id="__codelineno-79-15" name="__codelineno-79-15"></a>&lt;/body&gt;&lt;/html&gt;
</code></pre></div>
需要认证，而 Apache 的配置文件是可以直接看到的：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-80-1" id="__codelineno-80-1" name="__codelineno-80-1"></a>admin@ip-172-31-34-168:/$ cat /etc/apache2/sites-enabled/000-default.conf
<a href="#__codelineno-80-2" id="__codelineno-80-2" name="__codelineno-80-2"></a>&lt;VirtualHost *:80&gt;
<a href="#__codelineno-80-3" id="__codelineno-80-3" name="__codelineno-80-3"></a>        ServerAdmin webmaster@localhost
<a href="#__codelineno-80-4" id="__codelineno-80-4" name="__codelineno-80-4"></a>        DocumentRoot /var/www/html
<a href="#__codelineno-80-5" id="__codelineno-80-5" name="__codelineno-80-5"></a>        ErrorLog ${APACHE_LOG_DIR}/error.log
<a href="#__codelineno-80-6" id="__codelineno-80-6" name="__codelineno-80-6"></a>        CustomLog ${APACHE_LOG_DIR}/access.log combined
<a href="#__codelineno-80-7" id="__codelineno-80-7" name="__codelineno-80-7"></a>
<a href="#__codelineno-80-8" id="__codelineno-80-8" name="__codelineno-80-8"></a>
<a href="#__codelineno-80-9" id="__codelineno-80-9" name="__codelineno-80-9"></a>        &lt;Directory "/var/www/html"&gt;
<a href="#__codelineno-80-10" id="__codelineno-80-10" name="__codelineno-80-10"></a>                AuthType Basic
<a href="#__codelineno-80-11" id="__codelineno-80-11" name="__codelineno-80-11"></a>                AuthName "Protected Content"
<a href="#__codelineno-80-12" id="__codelineno-80-12" name="__codelineno-80-12"></a>                AuthUserFile /etc/apache2/.htpasswd
<a href="#__codelineno-80-13" id="__codelineno-80-13" name="__codelineno-80-13"></a>                Require valid-user
<a href="#__codelineno-80-14" id="__codelineno-80-14" name="__codelineno-80-14"></a>        &lt;/Directory&gt;
<a href="#__codelineno-80-15" id="__codelineno-80-15" name="__codelineno-80-15"></a>&lt;/VirtualHost&gt;
</code></pre></div>
所以整个目录都被保护了，使用 <code>/etc/apache2/.htpasswd</code> 中的账号密码才能访问。而这个文件我们也是可以直接访问的：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-81-1" id="__codelineno-81-1" name="__codelineno-81-1"></a>admin@ip-172-31-34-168:/$ cat /etc/apache2/.htpasswd
<a href="#__codelineno-81-2" id="__codelineno-81-2" name="__codelineno-81-2"></a>carlos:$apr1$b1kyfnHB$yRHwzbuKSMyW62QTnGYCb0
</code></pre></div>
题目里说了提供了 John the Ripper，搜一下可以知道这是个破解密码的工具，直接把 .htpasswd 文件丢进去：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-82-1" id="__codelineno-82-1" name="__codelineno-82-1"></a>admin@ip-172-31-34-168:/$ cd ~/john/run/
<a href="#__codelineno-82-2" id="__codelineno-82-2" name="__codelineno-82-2"></a>admin@ip-172-31-34-168:~/john/run$ ./john /etc/apache2/.htpasswd
<a href="#__codelineno-82-3" id="__codelineno-82-3" name="__codelineno-82-3"></a>Warning: detected hash type "md5crypt", but the string is also recognized as "md5crypt-long"
<a href="#__codelineno-82-4" id="__codelineno-82-4" name="__codelineno-82-4"></a>Use the "--format=md5crypt-long" option to force loading these as that type instead
<a href="#__codelineno-82-5" id="__codelineno-82-5" name="__codelineno-82-5"></a>Using default input encoding: UTF-8
<a href="#__codelineno-82-6" id="__codelineno-82-6" name="__codelineno-82-6"></a>Loaded 1 password hash (md5crypt, crypt(3) $1$ (and variants) [MD5 256/256 AVX2 8x3])
<a href="#__codelineno-82-7" id="__codelineno-82-7" name="__codelineno-82-7"></a>Will run 2 OpenMP threads
<a href="#__codelineno-82-8" id="__codelineno-82-8" name="__codelineno-82-8"></a>Proceeding with single, rules:Single
<a href="#__codelineno-82-9" id="__codelineno-82-9" name="__codelineno-82-9"></a>Press 'q' or Ctrl-C to abort, 'h' for help, almost any other key for status
<a href="#__codelineno-82-10" id="__codelineno-82-10" name="__codelineno-82-10"></a>Warning: Only 34 candidates buffered for the current salt, minimum 48 needed for performance.
<a href="#__codelineno-82-11" id="__codelineno-82-11" name="__codelineno-82-11"></a>Almost done: Processing the remaining buffered candidate passwords, if any.
<a href="#__codelineno-82-12" id="__codelineno-82-12" name="__codelineno-82-12"></a>0g 0:00:00:00 DONE 1/3 (2023-02-20 03:59) 0g/s 9527p/s 9527c/s 9527C/s Carlos1921..Carlos1900
<a href="#__codelineno-82-13" id="__codelineno-82-13" name="__codelineno-82-13"></a>Proceeding with wordlist:./password.lst
<a href="#__codelineno-82-14" id="__codelineno-82-14" name="__codelineno-82-14"></a>Enabling duplicate candidate password suppressor
<a href="#__codelineno-82-15" id="__codelineno-82-15" name="__codelineno-82-15"></a>chalet           (carlos)     
<a href="#__codelineno-82-16" id="__codelineno-82-16" name="__codelineno-82-16"></a>1g 0:00:00:01 DONE 2/3 (2023-02-20 03:59) 0.6097g/s 40560p/s 40560c/s 40560C/s 050381..song
<a href="#__codelineno-82-17" id="__codelineno-82-17" name="__codelineno-82-17"></a>Use the "--show" option to display all of the cracked passwords reliably
<a href="#__codelineno-82-18" id="__codelineno-82-18" name="__codelineno-82-18"></a>Session completed. 
</code></pre></div>
得到用户 carlos 的密码 chalet，然后通过 -u 选项来 curl：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-83-1" id="__codelineno-83-1" name="__codelineno-83-1"></a>admin@ip-172-31-34-168:~/john/run$ curl -u carlos:chalet localhost
<a href="#__codelineno-83-2" id="__codelineno-83-2" name="__codelineno-83-2"></a>&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN"&gt;
<a href="#__codelineno-83-3" id="__codelineno-83-3" name="__codelineno-83-3"></a>&lt;html&gt;
<a href="#__codelineno-83-4" id="__codelineno-83-4" name="__codelineno-83-4"></a> &lt;head&gt;
<a href="#__codelineno-83-5" id="__codelineno-83-5" name="__codelineno-83-5"></a>  &lt;title&gt;Index of /&lt;/title&gt;
<a href="#__codelineno-83-6" id="__codelineno-83-6" name="__codelineno-83-6"></a> &lt;/head&gt;
<a href="#__codelineno-83-7" id="__codelineno-83-7" name="__codelineno-83-7"></a> &lt;body&gt;
<a href="#__codelineno-83-8" id="__codelineno-83-8" name="__codelineno-83-8"></a>&lt;h1&gt;Index of /&lt;/h1&gt;
<a href="#__codelineno-83-9" id="__codelineno-83-9" name="__codelineno-83-9"></a> ...
<a href="#__codelineno-83-10" id="__codelineno-83-10" name="__codelineno-83-10"></a>&lt;/body&gt;&lt;/html&gt;
</code></pre></div>
可以成功认证，然后列一下 <code>/var/www/html</code> 的内容，发现有一个 webfile，curl 下来：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-84-1" id="__codelineno-84-1" name="__codelineno-84-1"></a>admin@ip-172-31-34-168:~/john/run$ ls /var/www/html/
<a href="#__codelineno-84-2" id="__codelineno-84-2" name="__codelineno-84-2"></a>webfile
<a href="#__codelineno-84-3" id="__codelineno-84-3" name="__codelineno-84-3"></a>admin@ip-172-31-34-168:~/john/run$ curl -u carlos:chalet localhost/webfile
<a href="#__codelineno-84-4" id="__codelineno-84-4" name="__codelineno-84-4"></a>Warning: Binary output can mess up your terminal. Use "--output -" to tell 
<a href="#__codelineno-84-5" id="__codelineno-84-5" name="__codelineno-84-5"></a>Warning: curl to output it to your terminal anyway, or consider "--output 
<a href="#__codelineno-84-6" id="__codelineno-84-6" name="__codelineno-84-6"></a>Warning: &lt;FILE&gt;" to save to a file.
<a href="#__codelineno-84-7" id="__codelineno-84-7" name="__codelineno-84-7"></a>admin@ip-172-31-34-168:~/john/run$ curl -u carlos:chalet localhost/webfile --output ~/secret
<a href="#__codelineno-84-8" id="__codelineno-84-8" name="__codelineno-84-8"></a>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
<a href="#__codelineno-84-9" id="__codelineno-84-9" name="__codelineno-84-9"></a>                                 Dload  Upload   Total   Spent    Left  Speed
<a href="#__codelineno-84-10" id="__codelineno-84-10" name="__codelineno-84-10"></a>100   215  100   215    0     0   104k      0 --:--:-- --:--:-- --:--:--  104k
</code></pre></div>
file 一下发现 secret 是个 zip，但 unzip 需要密码：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-85-1" id="__codelineno-85-1" name="__codelineno-85-1"></a>admin@ip-172-31-34-168:~$ file secret
<a href="#__codelineno-85-2" id="__codelineno-85-2" name="__codelineno-85-2"></a>secret: Zip archive data, at least v1.0 to extract
<a href="#__codelineno-85-3" id="__codelineno-85-3" name="__codelineno-85-3"></a>admin@ip-172-31-34-168:~$ unzip secret
<a href="#__codelineno-85-4" id="__codelineno-85-4" name="__codelineno-85-4"></a>Archive:  secret
<a href="#__codelineno-85-5" id="__codelineno-85-5" name="__codelineno-85-5"></a>[secret] secret.txt password:
</code></pre></div>
同样可以使用 John the Ripper 来破解：
<div class="highlight"><pre><span></span><code><a href="#__codelineno-86-1" id="__codelineno-86-1" name="__codelineno-86-1"></a>admin@ip-172-31-34-168:~$ john/run/zip2john secret &gt; secret.passwd
<a href="#__codelineno-86-2" id="__codelineno-86-2" name="__codelineno-86-2"></a>ver 1.0 efh 5455 efh 7875 secret/secret.txt PKZIP Encr: 2b chk, TS_chk, cmplen=29, decmplen=17, crc=AAC6E9AF ts=14E0 cs=14e0 type=0
<a href="#__codelineno-86-3" id="__codelineno-86-3" name="__codelineno-86-3"></a>admin@ip-172-31-34-168:~$ john/run/john secret.passwd 
<a href="#__codelineno-86-4" id="__codelineno-86-4" name="__codelineno-86-4"></a>Using default input encoding: UTF-8
<a href="#__codelineno-86-5" id="__codelineno-86-5" name="__codelineno-86-5"></a>Loaded 1 password hash (PKZIP [32/64])
<a href="#__codelineno-86-6" id="__codelineno-86-6" name="__codelineno-86-6"></a>Will run 2 OpenMP threads
<a href="#__codelineno-86-7" id="__codelineno-86-7" name="__codelineno-86-7"></a>Proceeding with single, rules:Single
<a href="#__codelineno-86-8" id="__codelineno-86-8" name="__codelineno-86-8"></a>Press 'q' or Ctrl-C to abort, 'h' for help, almost any other key for status
<a href="#__codelineno-86-9" id="__codelineno-86-9" name="__codelineno-86-9"></a>Almost done: Processing the remaining buffered candidate passwords, if any.
<a href="#__codelineno-86-10" id="__codelineno-86-10" name="__codelineno-86-10"></a>0g 0:00:00:00 DONE 1/3 (2023-02-20 04:03) 0g/s 470700p/s 470700c/s 470700C/s Txtsecret/secret.txt1900..Tsecret1900
<a href="#__codelineno-86-11" id="__codelineno-86-11" name="__codelineno-86-11"></a>Proceeding with wordlist:john/run/password.lst
<a href="#__codelineno-86-12" id="__codelineno-86-12" name="__codelineno-86-12"></a>Enabling duplicate candidate password suppressor
<a href="#__codelineno-86-13" id="__codelineno-86-13" name="__codelineno-86-13"></a>andes            (secret/secret.txt)     
<a href="#__codelineno-86-14" id="__codelineno-86-14" name="__codelineno-86-14"></a>1g 0:00:00:00 DONE 2/3 (2023-02-20 04:03) 2.777g/s 1529Kp/s 1529Kc/s 1529KC/s poussinet..nisa1234
<a href="#__codelineno-86-15" id="__codelineno-86-15" name="__codelineno-86-15"></a>Use the "--show" option to display all of the cracked passwords reliably
<a href="#__codelineno-86-16" id="__codelineno-86-16" name="__codelineno-86-16"></a>Session completed. 
<a href="#__codelineno-86-17" id="__codelineno-86-17" name="__codelineno-86-17"></a>admin@ip-172-31-34-168:~$ unzip secret
<a href="#__codelineno-86-18" id="__codelineno-86-18" name="__codelineno-86-18"></a>Archive:  secret
<a href="#__codelineno-86-19" id="__codelineno-86-19" name="__codelineno-86-19"></a>[secret] secret.txt password: andes
<a href="#__codelineno-86-20" id="__codelineno-86-20" name="__codelineno-86-20"></a> extracting: secret.txt              
<a href="#__codelineno-86-21" id="__codelineno-86-21" name="__codelineno-86-21"></a>admin@ip-172-31-34-168:~$ ls
<a href="#__codelineno-86-22" id="__codelineno-86-22" name="__codelineno-86-22"></a>agent  john  secret  secret.passwd  secret.txt
<a href="#__codelineno-86-23" id="__codelineno-86-23" name="__codelineno-86-23"></a>admin@ip-172-31-34-168:~$ cat secret.txt
<a href="#__codelineno-86-24" id="__codelineno-86-24" name="__codelineno-86-24"></a>Roseau, Dominica
<a href="#__codelineno-86-25" id="__codelineno-86-25" name="__codelineno-86-25"></a>admin@ip-172-31-34-168:~$ sha1sum /home/admin/secret.txt |awk '{print $1}'
<a href="#__codelineno-86-26" id="__codelineno-86-26" name="__codelineno-86-26"></a>cc2c322fbcac56923048d083b465901aac0fe8f8
</code></pre></div>
<div class="hr-before-source-file"><hr/></div>
<aside class="md-source-file">
<span class="md-source-file__fact">
<span class="md-icon" title="最后更新">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2023年2月20日 18:37:17 CST">2023年2月20日 18:37:17</span>
</span>
<span class="md-source-file__fact">
<span class="md-icon" title="创建日期">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2022年11月3日 21:05:30 CST">2022年11月3日 21:05:30</span>
</span>
</aside>
<script async="" crossorigin="anonymous" data-category="General" data-category-id="DIC_kwDOGnfbUc4CPrf4" data-emit-metadata="0" data-input-position="bottom" data-lang="zh-CN" data-mapping="pathname" data-reactions-enabled="1" data-repo="TonyCrane/note" data-repo-id="R_kgDOGnfbUQ" data-theme="light" src="https://giscus.app/client.js">
</script>
<script>
    if (document.querySelector("body").getAttribute("data-md-color-scheme") === "slate") {
      var giscus = document.querySelector("script[src*=giscus]")
      giscus.setAttribute("data-theme", "transparent_dark") 
    }
  </script>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  回到页面顶部
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright © 2022-2025 <a href="https://github.com/TonyCrane" rel="noopener" target="_blank">TonyCrane</a>
</div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
    
    modified by
    <a href="https://github.com/TonyCrane" rel="noopener" target="_blank">
      TonyCrane
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/TonyCrane/" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2" fill="currentColor"></path></svg>
</a>
<a class="md-social__link" href="https://blog.tonycrane.cc/" rel="noopener" target="_blank" title="blog.tonycrane.cc">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M0 64c0-17.7 14.3-32 32-32 229.8 0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7 0 64m0 352a64 64 0 1 1 128 0 64 64 0 1 1-128 0m32-256c159.1 0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7 0-32-14.3-32-32s14.3-32 32-32" fill="currentColor"></path></svg>
</a>
<a class="md-social__link" href="https://tonycrane.cc/" rel="noopener" target="_blank" title="tonycrane.cc">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M277.8 8.6c-12.3-11.4-31.3-11.4-43.5 0l-224 208c-9.6 9-12.8 22.9-8 35.1S18.8 272 32 272h16v176c0 35.3 28.7 64 64 64h288c35.3 0 64-28.7 64-64V272h16c13.2 0 25-8.1 29.8-20.3s1.6-26.2-8-35.1zM240 320h32c26.5 0 48 21.5 48 48v96H192v-96c0-26.5 21.5-48 48-48" fill="currentColor"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
<script src="../../assets/javascripts/bundle.50899def.min.js"></script>
<script src="https://cdn.tonycrane.cc/utils/katex.min.js"></script>
<script src="../../js/katex.js"></script>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>